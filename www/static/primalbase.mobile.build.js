PLOVR_MODULE_INFO={"primalbase.mobile":[],"primalbase-private.mobile":["primalbase.mobile"]};
PLOVR_MODULE_URIS={"primalbase.mobile":"module_primalbase.mobile.js","primalbase-private.mobile":"module_primalbase-private.mobile.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
(function() {var ba,ca,ha,fa,ia,ka,h,la,m,ua,va,wa,xa,ya,za,Aa,Ba,Da,Ea,Ga,Ha,Ia,z,Ka,La,Pa,Qa,Ra,Ua,Sa,Va,Xa,Za,bb,cb,fb,eb,hb,jb,kb,lb,mb,ib,nb,ob,db,$a,ab,sb,rb,qb,vb,ub,tb,wb,yb,xb,Bb,Ab,zb,Eb,Cb,Db,Fb,Gb,Hb,Ib,Kb,K,Jb,Lb,Mb,Ob,Qb,Rb,Sb,bc,Nb,dc,cc,ec,fc,hc,gc,jc,kc,lc,mc,nc,oc,pc,rc,sc,uc,vc,wc,xc,yc,zc,Ac,Bc,Dc,Cc,Ec,Gc,Hc,Ic,Jc,Kc,Nc,Oc,Rc,Sc,Tc,Vc,Fc,R,Uc,Yc,Zc,$c,bd,ad,dd,ed,hd,gd,fd,jd,kd,ld,nd,md,od,pd,rd,qd,sd,td,ea,g,da;ba=function(a){return function(){return _pb.aa[a].apply(this,arguments)}};
ca=function(){ca=function(){};g.Symbol||(g.Symbol=da)};ha=function(){ca();var a=g.Symbol.iterator;a||(a=g.Symbol.iterator=g.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ea(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(this)}});ha=function(){}};fa=function(a){var b=0;return ia(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};ia=function(a){ha();a={next:a};a[g.Symbol.iterator]=function(){return this};return a};
_pb.ja=function(a){ha();var b=a[window.Symbol.iterator];return b?b.call(a):fa(a)};ka=function(a){if(!(a instanceof Array)){a=_pb.ja(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};h=function(a,b){if(b){for(var c=g,d=a.split("."),e=0;e<d.length-1;e++){var k=d[e];k in c||(c[k]={});c=c[k]}d=d[d.length-1];e=c[d];k=b(e);k!=e&&null!=k&&ea(c,d,{configurable:!0,writable:!0,value:k})}};
la=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};m=function(a,b){var c=a.split("."),d=ma;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};
ua=function(a){if(!na.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(oa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(pa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(qa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ra,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(sa,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ta,"\x26#0;"));return a};va=function(a,b){return a.replace(/{(.*?)}/g,function(a){var c=a.slice(1,-1);c=b[c];return window._.isUndefined(c)?a:String(c)})};
wa=function(a){return"string"==typeof a?(0,window.moment)(a,window.moment.ISO_8601):window.moment.isMoment(a)?a:(0,window.moment)(a)};xa=function(a){a=window.moment.parseZone(wa(a));return(0,window.moment)([a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.milliseconds()])};_pb.p=function(){return(0,window.moment)(_pb.n.serverDateUtc,window.moment.ISO_8601)};ya=function(a){var b=a.indexOf("#");return 0>b?null:a.substr(b+1)};
za=function(a,b){var c=a.indexOf("#");return(0>c?a:a.substr(0,c))+(b?"#"+b:"")};_pb.q=function(a){return"/static/img/"+a};_pb.r=function(a){return(a=(0,window.$)(a).text())?JSON.parse(a.trim()):null};Aa=function(a,b){b=void 0===b?"":b;var c=window.location.href,d=a;b&&(d=za(a,b));window.location.href=d;za(c,"")===za(d,"")&&window.location.reload()};Ba=function(){var a;(a=void 0===a?"":a)?Aa(window.location.href,a):window.location.reload()};
_pb.Ca=function(a,b){var c=void 0===c?!1:c;var d=window.location.href,e=ya(d);(e?(0,window.decodeURIComponent)(e):e)===a&&(b(),c||(c=za(d,""),window.history.replaceState("",window.document.title,c)))};Da=function(a){if(a&&1<a.length)return a.toLowerCase().trim().split(" ").join("-")};Ea=function(){var a=(0,window.$)(window.document.documentElement).data("action");if(!a)throw Error("Page doesn't have action in `data-action` attribute: "+window.location);return a};
_pb.t=function(a){if(a&&"responseJSON"in a)for(a=a.responseJSON;a&&Object.keys(a).length;){if("message"in a&&"code"in a)return a;a=a[Object.keys(a)[0]]}};Ga=function(){var a=_pb.n.lang,b=Fa.get(a);if(!b)throw Error("This django language is not supported: "+a);return b};_pb.u=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?null:c;a=null===c?window.django.gettext(a):window.django.ngettext(a,a,c);return window._.isEmpty(b)?a:va(a,b)};
Ha=function(a,b){b=void 0===b?{}:b;var c="string"==typeof a?Number.parseFloat(a):a;var d=window._.extend({maximumFractionDigits:10},b);return window.Globalize.numberFormatter(d)(c)};
_pb.v=function(a,b,c){c=void 0===c?{}:c;var d={};window._.contains(_pb.n.cryptocurrencies,b)&&(d.maximumFractionDigits=10,d.minimumFractionDigits=4);c=window._.extend(d,c);a="string"==typeof a?Number.parseFloat(a):a;window._.contains(_pb.n.cryptocurrencies,b)?b=_pb.u("cryptomoney",{value:Ha(a,c),currency:b}):(c=c.maximumFractionDigits||2,b={EUR:"€",USD:"$",SGD:"S$",GBP:"£"}[b]+Number(Math.floor(a+"e"+c)+"e-"+c));return b};
_pb.y=function(a,b,c){c=void 0===c?{}:c;b=window._.extend({},c,{skeleton:void 0===b?"yMMMd":b});return window.Globalize.dateFormatter(b)(wa(a).toDate())};Ia=function(a,b,c,d){b=void 0===b?"yMMMd":b;c=void 0===c?null:c;d=void 0===d?{}:d;a={start_date:_pb.y(a[0],b,d),end_date:_pb.y(a[1],b,d)};return null===c?_pb.u("date_range",a):va(c,a)};z=function(){return"mobile"===Ja.get()};Ka=function(){window.localStorage.setItem("is_user_returning",!0)};La=function(){return window.localStorage.getItem("is_user_returning")};
_pb.B=function(a,b){b=void 0===b?{}:b;b.page=Ea();b.platform=Ja.get();b["user-id"]=A.get("id");if(!A.get("is_staff")){window.amplitude.getInstance().logEvent(a,b);var c=_pb.n.envName;if(!c)throw Error("Env name is missing!");"production"===c&&window.gtag("event",a)}window.console.debug("Event Sent: ",a,b)};_pb.C=function(a,b){var c=Ma;var d="array"==la(a)?a:[a];window._.contains(d,c.a)&&b()};_pb.D=function(a,b){var c=null,d=(0,window.$)(a);0<d.length&&(c=b(d));return c};
_pb.Na=function(a){a.$el.addClass(_pb.E.a);a.$el.attr("disabled","disabled")};_pb.Oa=function(a){a.$el.removeClass(_pb.E.a);a.$el.removeAttr("disabled")};Pa=function(a,b){this.type=a;this.j=b;this.m=b.responseJSON||{};this.ra=b.requestConfig||{}};Qa=function(a){a.options.o&&a.options.o.click(function(){return a.$el.submit()})};
_pb.Ta=function(a){a.b||(a.trigger("submit_init"),a.$el[0].checkValidity()?(a.b=!0,a.$el.addClass(_pb.F.a),_pb.Na(a.c),a.a&&Ra(a).done(function(b,c,d){a.trigger("submit_success",new Pa("submit_success",d))}).fail(function(b){a.trigger("submit_error",new Pa("submit_error",b))}).always(function(){a.b=!1;a.$el.removeClass(_pb.F.a);_pb.Oa(a.c)}),a.trigger("submit_start")):Sa(a))};
Ra=function(a){a={url:a.a,method:a.$el.attr("method")||"POST",contentType:"application/json",data:JSON.stringify(Ua(a))};var b=window.$.ajax(a);b.requestConfig=window._.clone(a);return b};Ua=function(a){var b;a.options.u?b=a.options.u(a.$el):b=a.$el.serializeJSON();return b};Sa=function(a){a.options.Ra?a.options.Ra():(a.$el.find("input, select, textarea").focus().blur(),a.trigger("validation_error"))};
Va=function(a){a.ga||(a.trigger("second_passed"),a.a=(0,window.setTimeout)(function(){a.L=a.b-(new Date).getTime();0<a.L?Va(a):((0,window.clearTimeout)(a.a),a.trigger("time_is_over"))},_pb.Wa.a))};Xa=function(a){return a.map(function(a){return{date:a.get("date"),ha:a.get("is_day_off"),pa:a.get("is_day_off"),ba:a.get("events").toString()}})};
_pb.Ya=function(a,b,c){return a.map(function(a){var d="COINS"===c,k="shared_desk"===b?a.get("is_desk_available"):a.get("is_office_available"),l="shared_desk"===b?""===a.get("price_desk").get("price").get("currency"):""===a.get("price_office").get("price").get("currency");return{date:a.get("date"),ha:!k||d&&l||a.get("is_day_off"),pa:a.get("is_day_off"),ba:a.get("events").toString()}})};Za=function(a,b){var c={};c=(c.shared_desk="price_desk",c.office="price_office",c);return a.get(c[b])};
bb=function(a,b){var c=a.v();a.h=b;a.c.redraw();var d=!0;a.a&&a.b?d=$a(a,c).length===c.length:a.a&&!a.b&&(d=ab(a,c[0]));!d&&a.v().length&&(a.c.clear(),a.$el.trigger("datepicker-change",{}))};
cb=function(a){a=a.$el.dateRangePicker(a.f).data("dateRangePicker");(0,window.$)(".prev, .next",a.getDatePicker()).find(".mdc-icon-button").each(function(a,c){(new window.mdc.ripple.MDCRipple(c)).unbounded=!0}).click(function(a){return(0,window.$)(a.currentTarget).blur()});(0,window.$)(".prev",a.getDatePicker()).find(".mdc-icon-button").on("click",function(){_pb.B("calendar-prev-button-click")});(0,window.$)(".next",a.getDatePicker()).find(".mdc-icon-button").on("click",function(){_pb.B("calendar-next-button-click")});
return a};
fb=function(a){var b={language:Ga().get("datePicker"),setValue:function(){},beforeShowDay:function(b){var c=[6,7].includes(wa(b).isoWeekday()),e=[],k="";null===a.h?c&&e.push("holiday","unavailable"):(b=db(a,b))?(b.ha&&e.push("unavailable"),b.pa&&e.push("holiday"),b.ba&&(k=b.ba,e.push("event")),b.cb&&e.push("isBooked")):(e.push("unavailable"),c&&e.push("holiday"));return[!0,e.join(" "),k]},startOfWeek:"mon"===window.Globalize.cldr.supplemental.weekData.firstDay()?"monday":"sunday",hoveringTooltip:!1,stickyMonths:!0,
showTopbar:!1,showShortcuts:!1,autoClose:!0};return window._.extend(b,a.options.A,{customArrowPrevSymbol:eb("prev"),customArrowNextSymbol:eb("next"),extraClass:[_pb.G.a,a.options.ma||""].join(" ")})};eb=function(a){return'\n    \x3cbutton type\x3d"button" class\x3d"mdc-icon-button"\x3e\n      \x3csvg class\x3d"pb-icon"\x3e\n        \x3cuse xlink:href\x3d"#icon-'+("next"===a?"md__arrow_forward__filled":"md__arrow_back__filled")+'"\x3e\x3c/use\x3e\n      \x3c/svg\x3e\n    \x3c/button\x3e'};
hb=function(a){var b=(0,window.$)('\x3cdiv class\x3d"pb-date-picker-dropdown-progress"\x3e');new gb({appendTo:b});b.hide();a.c.getDatePicker().append(b);return b};jb=function(a){(0,window.$)(window).on("resize.pb.DatePicker",function(){return ib(a)})};kb=function(){(0,window.$)(window).off("resize.pb.DatePicker")};lb=function(a){a.a&&a.b&&!a.a.isSame(a.b)?a.getUI("input").val(Ia([a.a,a.b])):a.a?a.getUI("input").val(_pb.y(a.a)):a.getUI("input").val("")};
mb=function(a,b){b=void 0===b?!1:b;var c=!a.getUI("input").val();a.getUI("input").toggleClass("empty",c);a.getUI("label").toggleClass("mdc-floating-label--float-above",!c);!b&&a.getUI("input").prop("required")&&a.$el.toggleClass("mdc-text-field--invalid",c)};
ib=function(a){if(a.g&&!a.options.A.alwaysOpen){var b=a.c.getDatePicker(),c=a.$el.offset(),d=a.$el.outerWidth(),e=a.$el.outerHeight(),k=b.outerWidth(),l=b.outerHeight(),w=(0,window.$)(window).width(),L=(0,window.$)(window).height(),H=(0,window.$)(window.document).scrollLeft();b.hide();var Y=(0,window.$)(window.document).height();b.show();var x=c.left+(d-k)/2;e=c.top+e;x+k>w+H&&(x=c.left+d-k);0>x&&(x=c.left);a=nb(a,a.$el)?L:Y;e+l>a&&(e=c.top-l);b.css({left:x,top:e})}};
nb=function(a,b){var c=b.parent();return"fixed"===c.css("position")||!c.is("body")&&nb(a,c)};ob=function(a,b){for(var c=[],d=a;(0,window.moment)(d).isSameOrBefore(b);)c.push(d.format("YYYY-MM-DD")),d=(0,window.moment)(d).add(1,"day");return c};db=function(a,b){var c=null,d=wa(b).format("YYYY-MM-DD");a.F&&(c=a.F.find(function(a){return a.date===d})||null);!c&&a.h&&(c=a.h.find(function(a){return a.date===d})||null);return c};$a=function(a,b){return b.filter(function(b){return ab(a,b)})};
ab=function(a,b){var c=db(a,b);return c?!c.ha:!0};
sb=function(a){a.a.on("submit_start",function(){return qb(a)});a.a.on("submit_success",function(){return a.qa()});a.a.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.u("request_tour_message_error"),customClass:_pb.J.a});_pb.B("request-tour-submit-failed");rb(a)});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);b&&!b.checked&&a.l.show()})};
rb=function(a){window._.each(a.h,function(a){a.disabled=!1});a.b.disabled=!1;window._.each(a.g,function(a){a.disabled=!1})};qb=function(a){window._.each(a.h,function(a){a.disabled=!0});a.b.disabled=!0;window._.each(a.g,function(a){a.disabled=!0})};
vb=function(a){a.a.on("submit_start",function(){return tb(a)});a.a.on("submit_success",function(){a.hide();_pb.I.show({text:_pb.u("get_in_touch_sent_success")});_pb.B("get-in-touch-form-submit-success");ub(a)});a.a.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.u("get_in_touch_sent_error"),customClass:_pb.J.a});_pb.B("get-in-touch-form-submit-failed");ub(a)});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);
b&&!b.checked&&a.h.show()})};ub=function(a){window._.each(a.g,function(a){a.disabled=!1});a.b.disabled=!1;window._.each(a.f,function(a){a.disabled=!1})};tb=function(a){window._.each(a.g,function(a){a.disabled=!0});a.b.disabled=!0;window._.each(a.f,function(a){a.disabled=!0})};
wb=function(a){a.a.on("submit_start",function(){a.b.disabled=!0});a.a.on("submit_success",function(){a.hide();_pb.I.show({text:_pb.u("newsletter_snackbar_success")});a.b.disabled=!1;_pb.B("newsletter-form-submit-success",{context:"dialog"})});a.a.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a});a.b.disabled=!1;_pb.B("newsletter-form-submit-failed",{context:"dialog"})})};
yb=function(a){a.b.on("submit_start",function(){});a.b.on("submit_success",function(){return xb(a)});a.b.on("submit_error",function(b){(b=_pb.t(b.j))&&"already_accepted"===b.code?xb(a):(a.getUI("dialogSurface").effect("shake"),_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a}))})};xb=function(a){a.hide();_pb.I.show({text:_pb.u("snackbar_generic_success")})};
Bb=function(a){a.a.on("submit_start",function(){return zb(a)});a.a.on("submit_success",function(){a.hide();_pb.I.show({text:_pb.u("newsletter_and_terms_snackbar_success")});Ab(a);_pb.B("newsletter-and-terms-form-submit-success",{context:"dialog"})});a.a.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a});Ab(a);_pb.B("newsletter-and-terms-form-submit-failed",{context:"dialog"})})};
Ab=function(a){window._.each(a.c,function(a){a.disabled=!1})};zb=function(a){window._.each(a.c,function(a){a.disabled=!0})};Eb=function(a,b){a.a=b;a.getUI("container").css("transform","translateX(-"+100*b+"%)");Cb(a);Db(a)};Cb=function(a){var b=[].concat(ka(a.getUI("items")));a=b.splice(Math.ceil(a.a*a.options.T),a.options.T);(0,window.$)(b).addClass("hidden");(0,window.$)(a).removeClass("hidden")};Db=function(a){a.getUI("prev").prop("disabled",0===a.a);a.getUI("next").prop("disabled",a.a===a.b)};
Fb=function(a,b){var c={};a.$el.hasClass("homepage-press")?c.id="press-highlights":a.$el.hasClass("pb-workspace-residents")?c.id="residents":a.$el.hasClass("pb-workspace-other-locations")&&(c.id="other-locations");_pb.B({prev:"carousel-prev-button-click",next:"carousel-next-button-click"}[b],c)};Gb=function(a){window._.each(a.c,function(a){a.value="";a.required=!a.required;a.required=!a.required});window._.each(a.b,function(a){a.checked=!1})};
Hb=function(a){var b=[];a=a.$el.find(".mdc-text-field");0<a.length&&(b=a.map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get());return b};Ib=function(a){var b=[];a=a.$el.find(".mdc-checkbox");0<a.length&&(b=a.map(function(a,b){var c=new window.mdc.checkbox.MDCCheckbox(b);return(new window.mdc.formField.MDCFormField((0,window.$)(b).parent(".mdc-form-field")[0])).input=c}).get());return b};
Kb=function(a,b){var c=new _pb.F(b),d={};c.on((d.submit_start=function(){Jb(a)},d.submit_success=function(b){return a.B(b)},d.submit_error=function(b){return a.U(b)},d));return c};K=function(a){window._.each(a.c,function(a){a.disabled=!1});window._.each(a.b,function(a){a.disabled=!1})};Jb=function(a){window._.each(a.c,function(a){a.disabled=!0});window._.each(a.b,function(a){a.disabled=!0})};Lb=function(a){a.getUI("emailValue").text(ua(a.model.get("email")))};
Mb=function(a){function b(b){return a.model.set("currentView",b)}var c={};c=(c.success=function(){a.a?a.a.resolve():Ba();_pb.B("sign-in-success")},c.sign_up=function(){return b(M.X)},c.password_reset=function(){return b(M.W)},c.two_f_a=function(){return b(M.M)},c);var d={};d=(d.success=function(){b(M.Z);_pb.B("sign-up-success")},d.sign_in=function(){return b(M.w)},d);var e={};e=(e.success=function(){return b(null)},e);var k={};k=(k.success=function(){return b(null)},k);var l={};l=(l.sign_in=function(){return b(M.w)},
l.success=function(){return b(null)},l);var w={};w=(w.sign_in=function(){return b(M.w)},w.confirm=function(){b(M.V)},w);var L={};L=(L.sign_in=function(){return b(M.w)},L.success=function(){b(null);_pb.I.show({text:_pb.u("password_reset_success_message"),pos:"bottom-left"})},L);var H={};H=(H.success=function(){a.a?a.a.resolve():Ba();_pb.B("twofa-success")},H.cancel=function(){return b(M.w)},H.recovery_code=function(){return b(M.Y)},H);var Y={};Y=(Y.success=function(){a.a?a.a.resolve():Ba();_pb.B("recovery-code-success")},
Y.cancel=function(){return b(M.M)},Y);var x={};return x[M.w]=c,x[M.X]=d,x[M.Z]=e,x[M.ia]=k,x[M.ja]=l,x[M.W]=w,x[M.V]=L,x[M.M]=H,x[M.Y]=Y,x};Ob=function(a){_pb.Ca(N.b,function(){Nb(a,"verify_email-success")});_pb.Ca(N.a,function(){Nb(a,"verify_email-error")})};Qb=function(){var a=Pb,b=new window.Promise(function(b,d){a.a={resolve:b,reject:d}});Nb(a,"sign_in");return b};Rb=function(){Qb().then(function(){return Ba()})["catch"](window._.noop)};Sb=function(){Nb(Pb,"sign_up")};
bc=function(a){function b(b){return{el:a.getUI(b),model:a.model}}var c={};c=(c[M.w]=new Tb(b("signIn")),c[M.Z]=new Ub(b("verifyEmail")),c[M.ja]=new Vb(b("verifyEmailSuccess")),c[M.ia]=new Wb(b("verifyEmailError")),c[M.W]=new Xb(b("passwordResetRequest")),c[M.V]=new Yb(b("passwordResetConfirm")),c[M.M]=new Zb(b("twoFA")),c[M.Y]=new $b(b("twoFARecoveryCode")),c);var d=a.getUI("signUp");d&&d.length&&(c[M.X]=new ac({el:d,model:a.model}));return c};
Nb=function(a,b){a.b.show();a.model.set("currentView",b);window.bodyScrollLock.disableBodyScroll(a.$el[0])};dc=function(a,b){cc(a);a.c[b].show().on("all",function(c){var d=a.f[b][c];if(d)d();else throw Error("No handler for progress: "+c);})};cc=function(a){window._.each(a.c,function(a){return a.hide()})};
ec=function(){window.$.ajax({url:_pb.O.get("auth:logout"),method:"POST"}).done(function(){window.amplitude.getInstance().setUserId(null);"public"===((0,window.$)(window.document.documentElement).data("action-type")||"public")?Ba():Aa(_pb.O.get("primalbase:home"))}).fail(function(){_pb.I.show({text:_pb.u("snackbar_generic_error"),customClass:_pb.J.a})})};
fc=function(){var a={hmac:ya(window.location.href)};return window.$.ajax({url:_pb.O.get("auth:confirm_email"),type:"POST",contentType:"application/json",data:JSON.stringify(a)})};
hc=function(a){a.a.on("submit_start",function(){a.b.disabled=!0});a.a.on("submit_success",function(){gc(a);a.b.disabled=!1;_pb.B("newsletter-form-submit-success",{context:"footer"})});a.a.on("submit_error",function(b){b=_pb.t(b.j);_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a});a.b.disabled=!1;_pb.B("newsletter-form-submit-failed",{context:"footer"})})};
gc=function(a){a.getUI("success").removeClass("pb-hidden");(0,window.setTimeout)(function(){a.getUI("success").addClass("pb-hidden")},ic.a)};jc=function(a){return _pb.Ya(a.get("calendarDateCollection"),a.get("place"),a.get("payment_method"))};kc=function(a){var b=a.get("place");return a.get("prices")[b].pbt};lc=function(a){var b=a.get("dates").map(function(b){return a.get("calendarDateCollection").get(b)});return new window.Backbone.Collection(b)};mc=function(a){a.a.open=!1;a.b=!0;a.$el.addClass("disabled")};
nc=function(a,b){var c={not_enough_orders:_pb.u("booking_error_not_enough_orders"),no_space_left:_pb.u("booking_error_no_space_left"),no_timeslots_for_dates:_pb.u("booking_error_no_timeslots"),date_in_past:_pb.u("booking_error_date_in_past"),too_late_for_booking:function(){if(a.model.get("today_booking_limit_time")){var b=(0,window.moment)(a.model.get("today_booking_limit_time"),window.moment.HTML5_FMT.TIME_SECONDS);return _pb.u("booking_error_too_late_with_time",{time:_pb.y(b,"jm")})}return _pb.u("booking_error_too_late")}(),
booking_interval_limits:function(){var b="shared_desk"===a.model.get("place")?P.get("DESK_MAX_LENGTH"):P.get("OFFICE_MAX_LENGTH");return _pb.u("booking_error_booking_limits_desk",{days:b},b)}(),total_booking_interval_limits:function(){if("shared_desk"===a.model.get("place")){var b=P.get("TOTAL_DESK_MAX_LENGTH");return _pb.u("booking_error_total_booking_limits_desk",{days:b},b)}b=P.get("TOTAL_OFFICE_MAX_LENGTH");return _pb.u("booking_error_total_booking_limits_office",{days:b},b)}()}[b.m.code];c&&
(a.options.Fa.html(c).show(),a.options.Ea.addClass("mdc-text-field--invalid"));return!!c};
oc=function(a,b){var c=b.m.code,d="",e="";a.a.hide();var k=(0,window.$)();"not_enough_tokens"===c?b.m.days?(d=_pb.u("booking_error_not_enough_tokens_for_days_heading"),c=window._.map(b.m.days,function(a){return'\x3cspan class\x3d"pb-nobr"\x3e'+_pb.y(a)+"\x3c/span\x3e"}),e=_pb.u("booking_error_not_enough_tokens_for_days_text",{days:c.join(", ")}),k=k.add(a.b)):(d=_pb.u("booking_error_not_enough_tokens_heading"),e=_pb.u("booking_error_not_enough_tokens_text"),k=k.add(a.h).add(a.c)):"reservation_limits"===
c?("shared_desk"===a.model.get("place")?(d=_pb.u("booking_error_reservation_limits_desk_heading"),e=_pb.u("booking_error_reservation_limits_desk_body",{max:b.m.limit},b.m.limit)):(d=_pb.u("booking_error_reservation_limits_office_heading"),e=_pb.u("booking_error_reservation_limits_office_body",{max:b.m.limit},b.m.limit)),k=k.add(a.b)):"reservation_rate_limits"===c&&(d=_pb.u("booking_error_reservation_rate_limits_heading"),e=_pb.u("booking_error_reservation_rate_limits_text",{num:P.get("MAX_RESERVATIONS_24H")},
P.get("MAX_RESERVATIONS_24H")),k=k.add(a.b));d&&e&&(a.g.html(d),a.f.html(e),k.show(),a.l.show());return!(!d||!e)};
pc=function(a){a.b.on("submit_start",function(){a.getUI("dateErrorMessage").hide();a.model.set("submitting",!0);_pb.B("book-process-form-initiated",{"workspace-slug":a.model.get("slug")})});a.b.on("submit_success",function(b){_pb.B("book-process-form-success",{"workspace-slug":a.model.get("slug"),"request-data":JSON.parse(b.ra.data)});window.location.href=b.m.url});a.b.on("submit_error",function(b){a.model.set("submitting",!1);var c=a.g,d=nc(c,b);c=oc(c,b);d||c||(d=_pb.t(b.j),_pb.I.show({text:d?d.message:
_pb.u("snackbar_generic_error"),customClass:_pb.J.a}));_pb.B("book-process-form-failed",{"workspace-slug":a.model.get("slug"),error:b.m,"request-data":JSON.parse(b.ra.data)})})};rc=function(a){var b=(0,window.$)(".pb-dialogs");a.f=new _pb.qc({el:b.find(".how-to-pay-dialog")[0]})};
sc=function(a,b){a.model.set("place",b);if(!a.model.get("office_coins_booking_allowed"))if("office"==b)a.model.set("payment_method","MEMBERSHIP"),a.model.get("coins_booking_allowed")&&mc(a.a);else if(a.model.get("coins_booking_allowed")){var c=a.a;c.b=!1;c.$el.removeClass("disabled")}};
uc=function(a){0===a.model.get("dates").length?(a.model.trigger("calendar"),_pb.B("book-process-book-button-click",{result:"date-picker-shown","workspace-slug":a.model.get("slug")})):A.get("id")!==tc.a?(_pb.Ta(a.b),_pb.B("book-process-book-button-click",{result:"form-submitted","workspace-slug":a.model.get("slug")})):(La()?Qb().then(function(){Pb.hide();var b=a.b,c=_pb.O.get("api:bookings");b.a=c;_pb.Ta(a.b)})["catch"](window._.noop):Sb(),_pb.B("book-process-book-button-click",{result:"auth-view-shown",
"workspace-slug":a.model.get("slug")}))};vc=function(a){var b=a.getUI("dateRangeField").find("input");a=a.getUI("dateRangeField").find("label");var c=!b.val();b.toggleClass("empty",c);a.toggleClass("mdc-floating-label--float-above",!c)};wc=function(a){a.b="form";a.getUI("calendarView").addClass("pb-hidden");a.getUI("formView").removeClass("pb-hidden")};xc=function(a){a.b=new window.IntersectionObserver(function(a){window._.first(a).isIntersecting?Q.hide():Q.show()});a.b.observe(a.getUI("workspacesList")[0])};
yc=function(a){a.a=new window.mdc.tabs.MDCTabBar(a.getUI("tabbar")[0]);a.a.listen("MDCTab:selected",function(b){var c=b.target.dataset.rel,d=b.target;b=a.getUI("tabbarScrollArea")[0];var e=b.getBoundingClientRect();d=d.getBoundingClientRect();d.right>e.right?b.scrollTo(b.scrollLeft+(d.right-(e.width-64)),0):d.left<e.left&&b.scrollTo(b.scrollLeft+(d.left-64),0);a.getUI("solutionsList").find(".solution-block").addClass("pb-hidden");a.getUI("solutionsList").find('.solution-block[data-rel\x3d"'+c+'"]').removeClass("pb-hidden")})};
zc=function(a){var b=a.getUI("items").not(".hidden").height();a.getUI("viewport").css("height",b)};Ac=function(a,b){b.filter(function(a){return a.isIntersecting}).forEach(function(b){b=(0,window.$)(b.target);a.options.la(b);a.a.unobserve(b[0])})};Bc=function(a,b){return a.getUI("galleries").eq(0).data("section")===b};Dc=function(a,b){var c=Cc(a,b);a.$el.scrollTop(c-24)};
Cc=function(a,b){var c=0;a.getUI("galleries").each(function(){if((0,window.$)(this).data("section")===b)return c=(0,window.$)(this).position().top,!1});return c};Ec=function(a){var b=a.get("lat");a=a.get("lng");return new window.google.maps.LatLng(b,a)};Gc=function(a){Fc(a,function(){a.i.set("gestureHandling","greedy")})};
Hc=function(a){Fc(a,function(){var b=(0,window.$)('\n      \x3cbutton class\x3d"fullscreen-control"\x3e\n        \x3csvg class\x3d"pb-icon"\x3e\n          \x3cuse xlink:href\x3d"#icon-gmaps-fullscreen"\x3e\x3c/use\x3e\n        \x3c/svg\x3e\n      \x3c/button\x3e\n    ');a.i.controls[window.google.maps.ControlPosition.TOP_RIGHT].push(b[0]);b.click(function(){return a.trigger("fullscreen")})})};Ic=function(a){return{center:a.i.getCenter(),zoom:a.i.getZoom(),Ta:a.model.get("section"),Ca:a.model.get("activeItemId")}};
Jc=function(a,b){Fc(a,function(){a.i.setCenter(b.center);a.i.setZoom(b.zoom);a.model.set({section:b.Ta,activeItemId:b.Ca})})};Kc=function(a,b){a.model.set("activeItemId",b)};Nc=function(a,b){var c=Lc.a;return new window.google.maps.Map(a.getUI("map")[0],{center:Ec(b),zoom:c,mapTypeControl:!1,fullscreenControl:!1,styles:Mc})};
Oc=function(a,b){var c=new R(b,a.i),d=b.get("id");d?c.addListener("click",function(){return Kc(a,d)}):c.addListener("click",function(){var b=Ec(a.model.get("center"));a.i.panTo(b);Kc(a,null)});return c};Rc=function(a){var b=new Pc(Object.assign({},Qc,{position:a.model.get("center")}));return Oc(a,b)};Sc=function(a){var b=a.model.get("section");Fc(a,function(){a.c.forEach(function(c){c.model.get("section")===b?(c.show(),a.b.addMarker(c)):(c.hide(),a.b.removeMarker(c))})})};
Tc=function(a){var b=a.model.get("activeItemId");a.c.forEach(function(a){a.$a(a.model.get("id")===b)})};Vc=function(a){var b=a.model.get("markers"),c=a.model.get("activeItemId");a.a&&(a.a.setMap(null),window.google.maps.event.removeListener(a.f));c&&(b=b.get(c),a.a=new Uc(b,a.i),a.f=window.google.maps.event.addListener(a.i,"click",function(){Kc(a,null)}))};Fc=function(a,b){if(a.i)b();else Wc.on("google_maps_ready",function(){b()})};R=function(a,b){this.model=a;this.i=b;this.ka=!1};
Uc=function(a,b){this.model=a;this.i=b;this.setMap(b)};Yc=function(){var a=Xc;a.a||(window.$.getScript(a.b),a.a=!0)};Zc=function(a,b){var c=Ic(b);Jc(a.i,c);a.a.listen("MDCDialog:closing",function(){var c=Ic(a.i);Jc(b,c);a.a.unlisten("MDCDialog:closing")})};$c=function(a){a.b.on("success",function(){_pb.I.show({text:_pb.u("workspace_address_copied"),customClass:_pb.J.f})})};bd=function(a){a.b.on("changed",function(){return ad(a)});a.a.on("changed",function(){return ad(a)})};
ad=function(a){var b=a.b.v(),c=(0,window.parseInt)(a.a.v(),10),d=c===cd.a,e=0;a.getUI("eventsItems").each(function(a,l){var k=(0,window.$)(l).data("filter");k=d?b===k.type:window._.isEqual({type:b,location:c},k);(0,window.$)(l).toggle(k);k&&e++});a.getUI("noEventsBlock").toggle(0===e)};
dd=function(a,b){var c=a.split(":"),d=b.split(":");c=(0,window.moment)().hour(c[0]).minute(c[1]);d=(0,window.moment)().hour(d[0]).minute(d[1]);for(var e=[];c.unix()<=d.unix();)e.push(c.clone().format("HH:mm")),c.add(30,"minutes");return e};ed=function(a,b,c){b=dd(void 0===b?"10:00":b,void 0===c?"20:00":c);var d=window.document.createDocumentFragment();b.forEach(function(a){a=(0,window.$)('\x3coption value\x3d"'+a+'" \x3e'+a+"\x3c/option\x3e");d.appendChild(a[0])});a.innerHTML="";a.appendChild(d)};
hd=function(a){a.a.on("submit_start",function(){return fd(a)});a.a.on("submit_success",function(){_pb.B("request-event-space-submit-success");a.getUI("form").addClass("pb-hidden");a.getUI("sentMsg").removeClass("pb-hidden");window.scrollTo(0,0)});a.a.on("submit_error",function(b){b=_pb.t(b.j);_pb.I.show({text:b?b.message:_pb.u("request_tour_message_error"),customClass:_pb.J.a});_pb.B("request-event-space-submit-failed");gd(a)});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);
b&&!b.checked&&a.h.show()})};gd=function(a){window._.each(a.g,function(a){a.disabled=!1});a.b.disabled=!1;window._.each(a.f,function(a){a.disabled=!1});a.c.s.disabled=!1};fd=function(a){window._.each(a.g,function(a){a.disabled=!0});a.b.disabled=!0;window._.each(a.f,function(a){a.disabled=!0});a.c.s.disabled=!0};jd=function(a){var b=id;return new window.Promise(function(c){b.a.getPlacePredictions(a,function(a){return c(a)})})};
kd=function(a){a.b.on("submit_start",function(){a.getUI("nominationCityInput").prop("disabled",!0)});a.b.on("submit_success",function(){var b=a.getUI("nominationCityInput").val();a.getUI("container").addClass("step-2");a.getUI("nominationForm").addClass("hidden");a.getUI("subscriptionForm").removeClass("hidden");window.localStorage.setItem("next_location_nominated",b)});a.b.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("nominationCityInput").prop("disabled",!1);_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),
customClass:_pb.J.a})});a.c.on("submit_start",function(){a.getUI("subscriptionEmailInput").prop("disabled",!0)});a.c.on("submit_success",function(){return a.f()});a.c.on("submit_error",function(b){b=_pb.t(b.j);a.getUI("subscriptionEmailInput").prop("disabled",!1);_pb.I.show({text:b?b.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a})})};
ld=function(a){a=a.getUI("photos");var b=a.not(".toggled");0===b.length&&(a.removeClass("toggled"),b=a);a=b.eq(Math.floor(Math.random()*b.length));var c=(0,window.$)("img",a);a.addClass("toggled");c.filter(".secondary").animate({bottom:"0%"},800,"easeInOutQuint",function(){c.toggleClass("secondary");c.filter(".secondary").css("bottom","100%")})};
nd=function(a){var b=window.localStorage.getItem("next_location_nominated");a.getUI("container").addClass("step-3");a.getUI("nominationForm").addClass("hidden");a.getUI("successMessage").removeClass("hidden");md(a,b)};md=function(a,b){var c=_pb.u("next_location_twitter_text",{city:b,link:window.location.href});c="https://twitter.com/intent/tweet?text\x3d"+(0,window.encodeURIComponent)(c);a.getUI("twitterShareLink").attr("href",c)};
od=function(a){a.b.on("submit_success",function(){a.ca.show()});a.b.on("submit_error",function(a){a=_pb.t(a.j);_pb.I.show({text:a?a.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a})})};
pd=function(a){a.l=new window.IntersectionObserver(function(b){a.getUI("tabbar").toggleClass("sticky",!window._.first(b).isIntersecting)});a.F=new window.IntersectionObserver(function(b){a.getUI("voteButton").toggleClass("sticky",!window._.first(b).isIntersecting)});a.c=new window.IntersectionObserver(function(b){a.getUI("authButton").toggleClass("sticky",!window._.first(b).isIntersecting)});a.getUI("tabbarStickyAnchor")[0]&&a.l.observe(a.getUI("tabbarStickyAnchor")[0]);a.getUI("voteButtonStickyAnchor")[0]&&
a.F.observe(a.getUI("voteButtonStickyAnchor")[0]);a.getUI("authButtonStickyAnchor")[0]&&a.c.observe(a.getUI("authButtonStickyAnchor")[0])};
rd=function(a){a.a=new window.mdc.tabs.MDCTabBar(a.getUI("tabbar")[0]);a.a.listen("MDCTab:selected",function(b){"locations"===b.target.dataset.rel?(qd(a),a.getUI("locationsSection").removeClass("pb-hidden"),a.getUI("rulesSection").addClass("pb-hidden"),a.getUI("voteButton").removeClass("pb-hidden"),a.getUI("votingRulesButton").removeClass("pb-hidden")):(qd(a),a.getUI("locationsSection").addClass("pb-hidden"),a.getUI("rulesSection").removeClass("pb-hidden"),a.getUI("voteButton").addClass("pb-hidden"),
a.getUI("votingRulesButton").addClass("pb-hidden"))})};qd=function(a){a.getUI("tabbarStickyAnchor")[0]?a.getUI("tabbarStickyAnchor")[0].scrollIntoView(!0):a.getUI("tabbar")[0].scrollIntoView(!0)};
sd=function(a){0<a.a.length?(a.getUI("discountCards").addClass("pb-hidden"),a.getUI("discountCards").each(function(b,c){var d=(0,window.$)(c),e=d.data("category-slug");a.a.includes(e)&&d.removeClass("pb-hidden")})):a.b?a.getUI("discountCards").removeClass("pb-hidden"):(a.getUI("discountCards").addClass("pb-hidden"),a.getUI("discountCards").slice(0,4).removeClass("pb-hidden"))};
td=function(a){var b=a.a,c=a.b.value;a.getUI("discountCards").addClass("pb-hidden");a.getUI("discountCards").each(function(a,e){var d=(0,window.$)(e),l=d.data("category-slug"),w=d.data("workspace-id");0<b.length?b.includes(l)&&(0>c?d.removeClass("pb-hidden"):0<c&&c==w&&d.removeClass("pb-hidden")):0>c?d.removeClass("pb-hidden"):0<c&&c==w&&d.removeClass("pb-hidden")})};_pb.aa=[];
ea="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof window.global&&null!=window.global?window.global:this;da=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();h("Number.parseFloat",function(a){return a||window.parseFloat});
h("Promise",function(a){function b(a){this.b=0;this.g=void 0;this.a=[];var b=this.c();try{a(b.resolve,b.reject)}catch(L){b.reject(L)}}function c(){this.a=null}function d(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.b=function(a){null==this.a&&(this.a=[],this.f());this.a.push(a)};c.prototype.f=function(){var a=this;this.c(function(){a.h()})};var e=g.setTimeout;c.prototype.c=function(a){e(a,0)};c.prototype.h=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=
[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(H){this.g(H)}}}this.a=null};c.prototype.g=function(a){this.c(function(){throw a;})};b.prototype.c=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.ca),reject:a(this.f)}};b.prototype.ca=function(a){if(a===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.Na(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=
!0;break a;default:c=!1}c?this.F(a):this.h(a)}};b.prototype.F=function(a){var b=void 0;try{b=a.then}catch(L){this.f(L);return}"function"==typeof b?this.Sa(b,a):this.h(a)};b.prototype.f=function(a){this.l(2,a)};b.prototype.h=function(a){this.l(1,a)};b.prototype.l=function(a,b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.g=b;this.s()};b.prototype.s=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)k.b(this.a[a]);this.a=null}};
var k=new c;b.prototype.Na=function(a){var b=this.c();a.N(b.resolve,b.reject)};b.prototype.Sa=function(a,b){var c=this.c();try{a.call(b,c.resolve,c.reject)}catch(H){c.reject(H)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(Of){k(Of)}}:b}var e,k,l=new b(function(a,b){e=a;k=b});this.N(d(a,e),d(c,k));return l};b.prototype["catch"]=function(a){return this.then(void 0,a)};b.prototype.N=function(a,b){function c(){switch(d.b){case 1:a(d.g);break;
case 2:b(d.g);break;default:throw Error("Unexpected state: "+d.b);}}var d=this;null==this.a?k.b(c):this.a.push(c)};b.resolve=d;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var e=_pb.ja(a),k=e.next();!k.done;k=e.next())d(k.value).N(b,c)})};b.all=function(a){var c=_pb.ja(a),e=c.next();return e.done?d([]):new b(function(a,b){function k(b){return function(c){l[b]=c;w--;0==w&&a(l)}}var l=[],w=0;do l.push(void 0),w++,d(e.value).N(k(l.length-1),
b),e=c.next();while(!e.done)})};return b});var ud="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};h("Object.assign",function(a){return a||ud});h("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var e=b.length,k=0;k<e;k++){var l=b[k];if(a.call(c,l,k,b)){b=l;break a}}b=void 0}return b}});
h("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});h("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length,k=c||0;for(0>k&&(k=Math.max(k+e,0));k<e;k++){var l=b[k];if(l===a||Object.is(l,a))return!0}return!1}});
h("String.prototype.includes",function(a){return a?a:function(a,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==(this+"").indexOf(a,c||0)}});
h("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(b){return window.Promise.resolve(a()).then(function(){return b})},function(b){return window.Promise.resolve(a()).then(function(){throw b;})})}});var ma=this;var oa=/&/g,pa=/</g,qa=/>/g,ra=/"/g,sa=/'/g,ta=/\x00/g,na=/[\x00&<>"']/;(0,window.$)(window.document.documentElement).addClass("main-js-loaded");m("pb.utils.getAssetUrl",_pb.q);_pb.n=_pb.r("#pb-global-data");m("pb.i18n.trans",_pb.u);m("pb.i18n.formatNumber",Ha);m("pb.i18n.formatMoney",_pb.v);m("pb.i18n.formatDate",_pb.y);m("pb.i18n.formatDateRange",Ia);var wd=window.Backbone.Model.extend({defaults:{id:"",cldr:"",datePicker:"",gmaps:""}}),Fa=new (window.Backbone.Collection.extend({model:wd}))([{id:"en",cldr:"en-GB",datePicker:"en",gmaps:"en"},{id:"ru",cldr:"ru",datePicker:"ru",gmaps:"ru"}]);window.Globalize.locale(Ga().get("cldr"));
(0,window.$)(".pb-date").each(function(a,b){var c=(0,window.$)(b),d=c.data("without-timezone")?xa(c.data("date")):c.data("date");d=_pb.y(d,c.data("skeleton")||void 0);c.html(d).addClass("js-formatted")});(0,window.$)(".pb-date-range").each(function(a,b){var c=(0,window.$)(b),d=c.data("without-timezone")?xa(c.data("start-date")):c.data("start-date"),e=c.data("without-timezone")?xa(c.data("end-date")):c.data("end-date");d=Ia([d,e],c.data("skeleton")||void 0);c.html(d).addClass("js-formatted")});var xd=window.Mn.Object.extend();xd.prototype.Wa=function(){this.trigger("google_maps_ready")};xd.prototype.triggerGoogleMapsReady=xd.prototype.Wa;var Wc=new xd;m("pb.bus",Wc);var yd=window.Mn.Object.extend();yd.prototype.get=function(){return _pb.n.platform};var Ja=new yd;m("pb.platform",Ja);var tc=window.Backbone.AssociatedModel.extend({defaults:function(){return{id:tc.a,email:"",first_name:"",last_name:"",is_staff:!1,is_two_f_a_enabled:!1,is_email_verified:!1,is_id_verified:!1,is_auth_high:!1,auth_level_drop_warning:!1}}});tc.a=-1;tc.create=function(){return new tc(_pb.n.user)};var A=tc.create();m("pb.userModel",A);var zd=window.Backbone.AssociatedModel.extend({defaults:function(){return{GOOGLE_MAP_API_KEY:"",AMPLITUDE_API_KEY:"",DESK_MAX_LENGTH:30,TOTAL_DESK_MAX_LENGTH:90,OFFICE_MAX_LENGTH:14,TOTAL_OFFICE_MAX_LENGTH:30,MAX_RESERVATIONS_24H:10,TWO_F_A_TOKEN_LENGTH:6,ORDER_MIN_PRICE:"",ORDER_DEFAULT_PRICE:"",GAS_LIMIT:"",GAS_PRICE:""}}});zd.create=function(){return new zd(_pb.n.constants)};var P=zd.create();m("pb.constantsModel",P);new function(){0<A.get("id")&&window.amplitude.getInstance().setUserId(A.get("id").toString());window.amplitude.getInstance().init(P.get("AMPLITUDE_API_KEY"),null,{includeReferrer:!0,includeUtm:!0,batchEvents:!1,includeGclid:!0,unsetParamsReferrerOnNewSession:!0})};new function(){window.tippy.setDefaults({duration:[180,180],animateFill:!1,placement:"bottom",maxWidth:320,theme:"dark",arrow:!1,performance:!0,multiple:!0});_pb.vd=window.tippy};var Ad=window.Mn.Object.extend();Ad.prototype.initialize=function(){z()&&this.hide()};Ad.prototype.hide=function(){"function"===typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!0})};Ad.prototype.show=function(){"function"===typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!1})};var Q=new Ad;m("pb.intercomMessenger",Q);var Bd=window.Mn.Object.extend();Bd.prototype.getItem=function(a){return a?(0,window.decodeURIComponent)(window.document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+(0,window.encodeURIComponent)(a).replace(/[-.+*]/g,"\\$\x26")+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1"))||null:null};
Bd.prototype.setItem=function(a,b,c,d,e,k){if(!a||/^(?:expires|max-age|path|domain|secure)$/i.test(a))return!1;var l="";if(c)switch(c.constructor){case Number:l=window.Infinity===c?"; expires\x3dFri, 31 Dec 9999 23:59:59 GMT":"; max-age\x3d"+c;break;case String:l="; expires\x3d"+c;break;case Date:l="; expires\x3d"+c.toUTCString()}window.document.cookie=(0,window.encodeURIComponent)(a)+"\x3d"+(0,window.encodeURIComponent)(b)+l+(e?"; domain\x3d"+e:"")+(d?"; path\x3d"+d:"")+(k?"; secure":"");return!0};
Bd.prototype.keys=function(){for(var a=window.document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),b=a.length,c=0;c<b;c++)a[c]=(0,window.decodeURIComponent)(a[c]);return a};var Cd=new Bd;m("pb.docCookies",Cd);var Dd=window.Mn.Object.extend();Dd.prototype.initialize=function(){_pb.B("page-view");(0,window.$)("body").on("click","[data-track-name]",function(a){a=(0,window.$)(a.currentTarget).data();var b={page:Ea()};a.trackContext&&(b.context=a.trackContext);_pb.B(a.trackName,b)})};new Dd;var Ed=window.Backbone.Model.extend();Ed.create=function(){return new Ed(_pb.n.urls)};_pb.O=Ed.create();m("pb.urlsModel",_pb.O);var Fd=window.Backbone.Model.extend({defaults:{amount:"0",currency:""}});Fd.prototype.format=function(a){a=void 0===a?{}:a;return _pb.v(this.get("amount"),this.get("currency"),a)};var Ma=new function(){this.a=Ea()};new function(){var a=window.mdc.autoInit["default"];a.register("MDCRipple",window.mdc.ripple.MDCRipple);a.register("MDCTextField",window.mdc.textfield.MDCTextField);a.register("MDCSelect",window.mdc.select.MDCSelect);a.register("MDCCheckbox",window.mdc.checkbox.MDCCheckbox);window.mdc.autoInit["default"]()};_pb.J=window.Mn.View.extend();_pb.J.c="pb-snackbar";_pb.J.a="pb-snackbar--style-danger";_pb.J.f="pb-snackbar--style-above-sticky";_pb.J.b="pb-snackbar--style-above-sticky-high";_pb.J.g=3E3;_pb.J.prototype.show=function(a){var b=a.customClass;window.Snackbar.show(Object.assign({},a,{showAction:!1,pos:a.pos||"bottom-center",duration:a.duration||_pb.J.g,customClass:b?_pb.J.c+" "+b:_pb.J.c}))};_pb.I=new _pb.J;var Gd=window.Mn.View.extend({ui:{closeButton:".close-button"}});Gd.prototype.events=function(){var a=this;return{"click @ui.closeButton":function(){return a.hide()}}};Gd.prototype.initialize=function(){this.show()};Gd.prototype.show=function(){window.localStorage.getItem("cookie_banner_closed")||this.$el.removeClass("pb-hidden")};Gd.prototype.hide=function(){this.$el.addClass("pb-hidden");window.localStorage.setItem("cookie_banner_closed",!0)};new Gd({el:(0,window.$)(".cookie-banner")});var gb=window.Mn.View.extend({className:"pb-circular-progress",template:window._.template('\n    \x3csvg class\x3d"progress-svg" viewBox\x3d"22 22 44 44"\x3e\n        \x3ccircle class\x3d"progress-circle" cx\x3d"44" cy\x3d"44" r\x3d"20.2"\x3e\x3c/circle\x3e\n    \x3c/svg\x3e\n  ')});gb.prototype.initialize=function(){this.render();this.$el.appendTo(this.options.appendTo)};_pb.E=window.Mn.View.extend();_pb.E.b="pb-button-with-progress";_pb.E.a="progress-visible";_pb.E.prototype.initialize=function(){this.$el.addClass(_pb.E.b);new gb({appendTo:this.$el})};_pb.F=window.Mn.View.extend({ui:{submitButton:"button:submit"}});_pb.F.b="pb-ajax-form";_pb.F.a="pb-ajax-form-submitting";_pb.F.prototype.initialize=function(){this.b=!1;this.a=this.$el.attr("action")||"";this.f=this.options.o||this.getUI("submitButton");this.c=new _pb.E({el:this.f});this.$el.addClass(_pb.F.b);Qa(this)};_pb.F.prototype.events=function(){var a=this;return{submit:function(b){b.preventDefault();_pb.Ta(a)}}};_pb.Wa=window.Mn.Object.extend();_pb.Wa.a=1E3;_pb.Wa.prototype.initialize=function(){this.L=this.options.time;this.b=1E3*Math.round((new Date).getTime()/1E3)+this.L;this.a=0;this.ga=!1;Va(this)};_pb.Wa.prototype.stop=function(){(0,window.clearTimeout)(this.a);this.ga=!0};var Hd=window.Backbone.AssociatedModel.extend({relations:[{key:"price",type:window.Backbone.One,relatedModel:function(){return Fd}},{key:"price_alt",type:window.Backbone.One,relatedModel:function(){return Fd}}],defaults:{price:{},price_alt:{}}});var Id=window.Backbone.Collection.extend({model:function(a,b){return new S(a,b)},modelId:function(a){return a.date}});Id.create=function(a){return new Id([],{ab:a})};Id.prototype.initialize=function(a,b){var c=this;this.a=b.ab;this.O=!1;this.on("sync",function(){c.O=!0})};Id.prototype.url=function(){return _pb.O.get("api:calendar").replace("0000",this.a)};
var S=window.Backbone.AssociatedModel.extend({idAttribute:"date",relations:[{key:"price_desk",type:window.Backbone.One,relatedModel:function(){return Hd}},{key:"price_office",type:window.Backbone.One,relatedModel:function(){return Hd}},{key:"events",type:window.Backbone.Many,collectionType:function(){return S.b}}],defaults:{price_desk:{},price_office:{},events:[],date:"1900-01-01",is_day_off:!1,is_desk_available:!0,is_office_available:!0}});
S.prototype.R=function(a){return(0,window.parseFloat)(Za(this,a).get("price").get("amount"))||0};S.prototype.P=function(a){return(0,window.parseFloat)(Za(this,a).get("price_alt").get("amount"))||0};S.b=window.Backbone.Collection.extend({model:function(a){return new S.a(a,{parse:!0})}});S.b.prototype.toString=function(){return this.map(function(a){return a.toString()}).join(_pb.u("datepicker_day_events_delimiter"))};
S.a=window.Backbone.AssociatedModel.extend({defaults:{name:"",dt_start:"1900-01-01",dt_end:"1900-01-01",duration:0,for_calendar_only:!1}});S.a.prototype.parse=function(a){return window._.extend({},a,{dt_start:xa(a.dt_start),dt_end:xa(a.dt_end),duration:(0,window.parseInt)(a.duration,10)/60})};S.a.prototype.toString=function(){return this.get("for_calendar_only")?this.get("name"):_pb.u("datepicker_day_event",{name:this.get("name"),start:_pb.y(this.get("dt_start"),"jm")})};_pb.G=window.Mn.View.extend({ui:{input:".mdc-text-field__input",label:".mdc-floating-label",ripple:".mdc-line-ripple"}});_pb.G.b="pb-date-picker";_pb.G.a="pb-date-picker-dropdown";_pb.f=_pb.G.prototype;
_pb.f.initialize=function(){var a=this;this.h=this.options.bb||null;this.F=[];this.f=fb(this);this.c=cb(this);this.g=!1;this.b=this.a=null;this.l=hb(this);this.s=new window.mdc.textfield.MDCTextField(this.$el[0]);lb(this);mb(this,!0);this.getUI("input").focus(function(b){a.getUI("input").blur();b.relatedTarget||(a.s.valid=!0)});this.$el.addClass(_pb.G.b);jb(this)};
_pb.f.events=function(){var a=this;return{"datepicker-change":this.Pa,"datepicker-open":this.La,"datepicker-opened-and-positioned":this.Va,"datepicker-close":this.Ia,"datepicker-show-month":function(b,c){if(a.c)if((0,window.$)(".day.unavailable",a.c.getDatePicker()).off("click"),a.f.startDate&&"month1"===c.month){var d=(0,window.moment)(c.date).subtract(1,"month").endOf("month").isBefore(a.f.startDate);(0,window.$)(".prev button",a.c.getDatePicker()).prop("disabled",d)}else a.f.endDate&&"month2"===
c.month&&(d=(0,window.moment)(c.date).add(1,"month").startOf("month").isAfter(a.f.endDate),(0,window.$)(".next button",a.c.getDatePicker()).prop("disabled",d))},"datepicker-first-date-selected":this.Ka}};_pb.f.v=function(){if(this.a&&this.b){var a=ob(this.a,this.b);return $a(this,a)}return this.a&&!this.b?[this.a.format("YYYY-MM-DD")]:[]};_pb.f.fa=ba(0);_pb.f.setStart=function(a){this.c.setStart(a)};_pb.f.open=function(){this.c.open()};_pb.f.close=function(){this.c.close()};_pb.f.onDestroy=function(){kb()};
_pb.f.Pa=function(a,b){this.a=b.date1?(0,window.moment)(b.date1,window.moment.ISO_8601):null;this.b=b.date2?(0,window.moment)(b.date2,window.moment.ISO_8601):null;lb(this);mb(this);this.trigger("changed",this.v());this.trigger("start_date_chaged",this.a);this.trigger("end_date_changed",this.b)};_pb.f.Ka=function(a,b){this.a=b.date1?(0,window.moment)(b.date1,window.moment.ISO_8601):null;this.trigger("start_date_chaged",this.a)};
_pb.f.La=function(){this.g=!0;this.getUI("ripple").addClass("mdc-line-ripple--active").removeClass("mdc-line-ripple--deactivating");this.trigger("opened")};_pb.f.Ia=function(){this.g=!1;mb(this);this.getUI("ripple").removeClass("mdc-line-ripple--active");this.trigger("closed")};_pb.f.Va=function(){this.g&&!this.options.A.alwaysOpen&&(this.c.getDatePicker().finish(),ib(this))};var Jd=window.Mn.Object.extend();Jd.prototype.initialize=function(){this.a={}};Jd.prototype.get=function(a){var b,c,d=new window.Promise(function(a,d){return b=a,c=d}),e=this.a[a.toString()]||null;if(e)if(e.O)b(e);else e.on("sync",function(){b(e)});else{var k=Id.create(a);k.fetch().done(function(){return b(k)}).fail(function(a){return c(a)});this.a[a.toString()]=k}return d};var Kd=new Jd;var Ld=window.Mn.Object.extend();Ld.prototype.load=function(a,b,c){b.l.show();return Kd.get(a).then(function(a){a=c?c(a):Xa(a);bb(b,a)})["finally"](function(){b.l.hide()})};_pb.Md=new Ld;var Nd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".request-tour-form",textFields:".mdc-text-field",selectFields:".mdc-select",workspaceSelect:"select[name\x3dworkspace]",dateInput:".date-input",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field",closeDialogButton:".close-dialog-button",visitDateField:".visit-date-field"}});_pb.f=Nd.prototype;
_pb.f.initialize=function(){var a=this;this.h=this.getUI("textFields").map(function(a,c){return new window.mdc.textfield.MDCTextField(c)}).get();this.l=_pb.vd.one(this.getUI("agreementCheckbox")[0],{content:_pb.u("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.b=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.b;this.g=this.getUI("selectFields").map(function(a,
c){return new window.mdc.select.MDCSelect(c)}).get();this.c=new _pb.G({el:this.getUI("dateInput"),ma:"request-tour-dialog-date-picker",A:{singleDate:!0,startDate:_pb.p().format("YYYY-MM-DD"),endDate:_pb.p().add(3,"months").format("YYYY-MM-DD"),container:z()?this.getUI("visitDateField")[0]:"body"}});this.f=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a=new _pb.F({el:this.getUI("form"),u:function(){var b=a.getUI("form").serializeJSON(),c=a.c.v(),d=a.getUI("form").find("[name\x3dvisit_time]").val().trim();
window._.extend(b,{visit_datetime:c+"T"+d});return b}});sb(this)};_pb.f.events=function(){var a=this;return{"change @ui.workspaceSelect":this.ta,"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.f.show=function(a){window._.isUndefined(a)||this.getUI("workspaceSelect").val(a);this.f.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);z()&&Q.hide();this.ta()};
_pb.f.hide=function(){this.f.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);z()&&Q.show()};_pb.f.ta=function(){_pb.Md.load((0,window.parseInt)(this.getUI("workspaceSelect").val(),10),this.c)};_pb.f.qa=function(){this.hide();_pb.I.show({text:_pb.u("request_tour_message_success")});_pb.B("request-tour-submit-success");rb(this)};var Od=_pb.D(".request-tour-dialog:not(.custom)",function(a){return new Nd({el:a})});var Pd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".get-in-touch-tour-form",textFields:".mdc-text-field",selectFields:".mdc-select",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field",closeDialogButton:".close-dialog-button"}});Pd.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};
Pd.prototype.initialize=function(){this.g=this.getUI("textFields").map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get();this.h=_pb.vd.one(this.getUI("agreementCheckbox")[0],{content:_pb.u("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.b=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.b;this.f=this.getUI("selectFields").map(function(a,
b){return new window.mdc.select.MDCSelect(b)}).get();this.c=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a=new _pb.F({el:this.getUI("form")});vb(this)};Pd.prototype.show=function(){this.c.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);z()&&Q.hide()};Pd.prototype.hide=function(){this.c.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);z()&&Q.show()};var Qd=_pb.D(".get-in-touch-tour-dialog",function(a){return new Pd({el:a})});var Rd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".newsletter-form",newsletterTextField:".newsletter-text-filed",subscribeButton:".subscribe-button",closeDialogButton:".close-dialog-button"}});Rd.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};
Rd.prototype.initialize=function(){this.b=new window.mdc.textfield.MDCTextField(this.getUI("newsletterTextField")[0]);this.c=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a=new _pb.F({el:this.getUI("form"),o:this.getUI("subscribeButton")});wb(this)};Rd.prototype.show=function(){this.c.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);z()&&Q.hide()};Rd.prototype.hide=function(){this.c.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);z()&&Q.show()};
var Sd=_pb.D(".newsletter-dialog",function(a){return new Rd({el:a})});var Td=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".new-terms-form",logoutLink:".logout-link",acceptButton:".accept-button"}});Td.prototype.events=function(){return{"click @ui.logoutLink":function(a){a.preventDefault();_pb.B("logout-link-click",{context:"main-menu"});ec()}}};
Td.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a.foundation_.cancel=function(){};this.a.escapeKeyAction="";this.a.scrimClickAction="";this.b=new _pb.F({el:this.getUI("form"),o:this.getUI("acceptButton"),u:function(){return""}});yb(this)};Td.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);z()&&Q.hide()};Td.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);z()&&Q.show()};
var Ud=_pb.D(".new-terms-dialog",function(a){return new Td({el:a})});Ud&&Ud.show();var Vd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".newsletter-and-terms-form",textFields:".newsletter-and-terms-text-field",subscribeButton:".subscribe-button",closeDialogButton:".close-dialog-button",acceptTerms:"#terms-checkbox"}});
Vd.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0]);window.localStorage.setItem("newsletter_and_terms_dialog_closed",!0)},"change @ui.acceptTerms":function(b){b.target.checked?a.getUI("subscribeButton").removeAttr("disabled"):a.getUI("subscribeButton").attr("disabled","true")}}};
Vd.prototype.initialize=function(){this.c=this.getUI("textFields").map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get();this.b=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a=new _pb.F({el:this.getUI("form"),o:this.getUI("subscribeButton")});Bb(this)};Vd.prototype.show=function(){this.getUI("subscribeButton").attr("disabled","true");this.b.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);z()&&Q.hide()};
Vd.prototype.hide=function(){this.b.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);z()&&Q.show();window.localStorage.setItem("newsletter_and_terms_dialog_closed",!0)};var Wd=_pb.D(".newsletter-and-terms-dialog",function(a){return new Vd({el:a})});Wd&&!window.localStorage.getItem("newsletter_and_terms_dialog_closed")&&(0,window.setTimeout)(Wd.show.bind(Wd),1E4);var Xd=window.Mn.View.extend({ui:{textField:".mdc-text-field",menu:".mdc-menu",items:".mdc-list-item",input:".input",value:".value",trigger:".trigger"}});_pb.f=Xd.prototype;
_pb.f.initialize=function(){var a=this;this.a=new window.mdc.menu.MDCMenu(this.getUI("menu")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT);this.a.a=!0;this.getUI("items").click(function(b){var c=(0,window.$)(b.currentTarget);b=a.v();var d=c.data("value");c=c.html();b!==d&&(a.getUI("value").val(d),a.getUI("input").val(c),a.trigger("changed",d));a.a.open=!1})};_pb.f.events=function(){return{"click @ui.textField":this.toggle}};
_pb.f.open=function(){this.b||this.a.open||(this.a.open=!0,this.trigger("opened"))};_pb.f.close=function(){this.a.open&&(this.a.open=!1,this.trigger("closed"))};_pb.f.toggle=function(){this.a.open?this.close():this.open()};_pb.f.v=function(){return this.getUI("value").val()};var Yd=window.Mn.View.extend({ui:{container:".container",items:".item",nav:".nav",prev:".prev-button",next:".next-button"}});Yd.prototype.initialize=function(){var a=this.getUI("items").length;this.a=0;this.b=a/this.options.T-1;a>this.options.T?(Cb(this),Db(this)):this.getUI("nav").hide()};
Yd.prototype.events=function(){var a=this;return{"click @ui.prev":function(){var b=a.a-1;Eb(a,0<=b?b:0);Fb(a,"prev");a.getUI("prev").blur()},"click @ui.next":function(){var b=a.a+1;Eb(a,b<=a.b?b:a.b);Fb(a,"next");a.getUI("next").blur()}}};var T=window.Mn.View.extend();T.prototype.initialize=function(){this.f=this.$el.parents(".mdc-dialog__surface");this.c=Hb(this);this.b=Ib(this)};var M={w:"sign_in",X:"sign_up",Z:"verify_email",ja:"verify_email-success",ia:"verify_email-error",W:"password_reset_request",V:"password_reset_confirm",M:"2fa",Y:"2fa_recovery_code"};_pb.f=T.prototype;_pb.f.show=function(){this.$el.show();this.C();return this.a=new window.Mn.Object};_pb.f.hide=function(){this.$el.hide()};_pb.f.C=function(){Gb(this)};
_pb.f.B=function(){};_pb.f.U=function(a){a=_pb.t(a.j);K(this);this.f.effect("shake");_pb.I.show({text:a?a.message:_pb.u("snackbar_generic_error"),customClass:_pb.J.a})};var Tb=T.extend({ui:{form:".auth-sign-in-form",submitButton:".auth-primary-button",passwordResetButton:".password-reset-button",signUpLeadButton:".auth-secondary-button"}});Tb.prototype.initialize=function(){T.prototype.initialize.call(this,this.options);Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton")})};Tb.prototype.events=function(){var a=this;return{"click @ui.passwordResetButton":function(){a.a.trigger("password_reset")},"click @ui.signUpLeadButton":function(){a.a.trigger("sign_up")}}};
Tb.prototype.B=function(a){a=a.m;A.set({id:a.id,email:a.email});_pb.O.set({"api:bookings":"/api/users/"+A.get("id")+"/bookings/"});Ka();this.a.trigger("success")};Tb.prototype.U=function(a){K(this);_pb.B("sign-in-failed");(a=_pb.t(a.j))&&a.code&&"invalid_otp_token"===a.code?(a=this.getUI("form").serializeJSON(),this.model.set({email:a.email,password:a.password}),this.a.trigger("two_f_a")):(this.f.effect("shake"),_pb.I.show({text:a?a.message:_pb.u("sign_in_error"),customClass:_pb.J.a}))};var ac=T.extend({ui:{form:".auth-sign-up-form",passwordInput:".field__password input:password",toggleShowPassword:".show-password, .hide-password",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button",agreementCheckbox:'.agreement-checkbox input[type\x3d"checkbox"]'}});
ac.prototype.initialize=function(){var a=this;T.prototype.initialize.call(this,this.options);this.g=_pb.vd.one(this.getUI("agreementCheckbox")[0],{content:_pb.u("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.h=Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton")});this.h.on("validation_error",function(){a.getUI("agreementCheckbox").prop("checked")||a.g.show()})};
ac.prototype.events=function(){var a=this;return{"click @ui.toggleShowPassword":function(a){a=(0,window.$)(a.currentTarget).parents(".mdc-text-field");var b=(0,window.$)(".mdc-text-field__input",a);b.attr("type",b.is(":text")?"password":"text");(0,window.$)(".show-password, .hide-password",a).toggle()},"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};ac.prototype.B=function(){K(this);var a=this.getUI("form").serializeJSON();this.model.set({email:a.email});this.a.trigger("success")};
ac.prototype.U=function(a){T.prototype.U.call(this,a);_pb.B("sign-up-failed")};var Ub=T.extend({ui:{emailValue:".verify-email-value",gotItButton:".auth-primary-button"}});Ub.prototype.initialize=function(){T.prototype.initialize.call(this,this.options);Lb(this)};Ub.prototype.events=function(){var a=this;return{"click @ui.gotItButton":function(){a.a.trigger("success")}}};Ub.prototype.C=function(){Lb(this)};var Vb=T.extend({ui:{primaryButton:".auth-primary-button",secondaryButton:".auth-secondary-button"}});Vb.prototype.initialize=function(){T.prototype.initialize.call(this,this.options)};Vb.prototype.events=function(){var a=this;return{"click @ui.primaryButton":function(){a.a.trigger("sign_in")},"click @ui.secondaryButton":function(){a.a.trigger("success")}}};var Wb=T.extend({ui:{primaryButton:".auth-primary-button"}});Wb.prototype.initialize=function(){T.prototype.initialize.call(this,this.options)};Wb.prototype.events=function(){var a=this;return{"click @ui.primaryButton":function(){a.a.trigger("success")}}};var Xb=T.extend({ui:{form:".auth-password-reset-request-form",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button"}});Xb.prototype.initialize=function(){T.prototype.initialize.call(this,this.options);Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton")})};Xb.prototype.events=function(){var a=this;return{"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};Xb.prototype.B=function(){K(this);this.a.trigger("confirm")};var Yb=T.extend({ui:{form:".auth-password-reset-confirm-form",passwordInput:".field__password input:password",toggleShowPassword:".show-password, .hide-password",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button"}});Yb.prototype.initialize=function(){T.prototype.initialize.call(this,this.options);Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton")})};
Yb.prototype.events=function(){var a=this;return{"click @ui.toggleShowPassword":function(b){b=(0,window.$)(b.currentTarget).parents(".mdc-text-field");var c=a.getUI("passwordInput");c.attr("type",c.is(":text")?"password":"text");(0,window.$)(".show-password, .hide-password",b).toggle()},"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};Yb.prototype.B=function(){K(this);this.a.trigger("success")};var Zb=T.extend({ui:{form:".auth-two-f-a-form",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button",recoveryCodeLeadButton:".recovery-code-lead"}});Zb.prototype.initialize=function(){var a=this;T.prototype.initialize.call(this,this.options);Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton"),u:function(){return window._.extend(a.getUI("form").serializeJSON(),{email:a.model.get("email"),password:a.model.get("password")})}})};
Zb.prototype.events=function(){var a=this;return{"click @ui.recoveryCodeLeadButton":function(){a.a.trigger("recovery_code")},"click @ui.signInLeadButton":function(){a.a.trigger("cancel")}}};Zb.prototype.C=function(){T.prototype.C.call(this);this.$el.find("[name\x3dtoken]").focus()};Zb.prototype.B=function(a){a=a.m;A.set({id:a.id,email:a.email});_pb.O.set({"api:bookings":"/api/users/"+A.get("id")+"/bookings/"});Ka();K(this);this.a.trigger("success")};var $b=T.extend({ui:{form:".auth-two-f-a-recovery-code-form",submitButton:".auth-primary-button",backButton:".auth-secondary-button"}});$b.prototype.initialize=function(){var a=this;T.prototype.initialize.call(this,this.options);Kb(this,{el:this.getUI("form"),o:this.getUI("submitButton"),u:function(){return window._.extend(a.getUI("form").serializeJSON(),{email:a.model.get("email"),password:a.model.get("password")})}})};$b.prototype.events=function(){var a=this;return{"click @ui.backButton":function(){a.a.trigger("cancel")}}};
$b.prototype.C=function(){T.prototype.C.call(this);this.$el.find("[name\x3dreserve_code]").focus()};$b.prototype.B=function(){K(this);this.a.trigger("success")};var N=window.Mn.View.extend({el:".pb-auth-dialog",ui:{signIn:".view_sign-in",signUp:".view_sign-up",verifyEmail:".view_verify-email",verifyEmailSuccess:".view_verify-email-success",verifyEmailError:".view_verify-email-error",passwordResetRequest:".view_password-reset-request",passwordResetConfirm:".view_password-reset-confirm",twoFA:".view_two-f-a",twoFARecoveryCode:".view_two-f-a-recovery-code",closeDialogButton:".close-dialog-button"}});
N.prototype.initialize=function(){var a=this;this.model=new N.Model;this.b=new window.mdc.dialog.MDCDialog(this.$el[0]);this.c=bc(this);this.f=Mb(this);(0,window.setTimeout)(function(){return Ob(a)})};N.b="verify-email-success";N.a="verify-email-error";N.prototype.modelEvents=function(){var a=this;return{"change:currentView":function(){var b=a.model.get("currentView");null===b?a.hide():(dc(a,b),_pb.B("auth-view-shown",{id:b}))}}};
N.prototype.events=function(){var a=this;return{"MDCDialog:cancel":function(){return a.model.set("currentView",null)},"click @ui.closeDialogButton":this.hide}};N.prototype.hide=function(){this.b.close();this.model.set("currentView",null);window.bodyScrollLock.enableBodyScroll(this.$el[0]);this.a&&this.a.reject()};N.Model=window.Backbone.Model.extend({defaults:function(){return{currentView:null,email:"",password:""}}});var Pb=_pb.D(".pb-auth-dialog",function(a){return new N({el:a})});var Zd=window.Mn.View.extend();Zd.prototype.initialize=function(){Rb()};_pb.C("sign_in",function(){new Zd});var $d=window.Mn.View.extend();$d.prototype.initialize=function(){fc().done(function(){var a=N.b;Aa(_pb.O.get("primalbase:home"),a)}).fail(function(){var a=N.a;Aa(_pb.O.get("primalbase:home"),a)})};_pb.C("confirm_email",function(){new $d});var ae=window.Mn.View.extend({ui:{tabbar:".content-nav-tab-bar"}});ae.prototype.initialize=function(){this.a=new window.mdc.tabs.MDCTabBar(this.getUI("tabbar")[0]);var a=this.$el[0],b=a.getBoundingClientRect(),c=this.a.activeTab.root_.getBoundingClientRect();c.right>b.right?a.scrollTo(a.scrollLeft+(c.right-(b.width-64)),0):c.left<b.left&&a.scrollTo(a.scrollLeft+(c.left-64),0)};_pb.D(".pb-content-nav",function(a){new ae({el:a})});var be=window.Mn.View.extend({ui:{hint:".hint"}});be.prototype.events=function(){return{"click @ui.hint":function(){ce.show();_pb.B("estimated-price-hint-click")}}};_pb.D(".price-widget",function(a){a.each(function(a,c){var b=(0,window.$)(c);new be({el:b})})});var de=window.Mn.View.extend({ui:{socialLink:".social-link"}});de.prototype.events=function(){var a=this;return{"click @ui.socialLink":function(b){b=(0,window.$)(b.currentTarget).data("id");_pb.B("social-link-click",{id:b,context:a.getOption("trackContext")})}}};var ic=window.Mn.View.extend({ui:{form:".newsletter-form",subscribeButton:".subscribe-pseudo-button",newsletterTextField:".newsletter-text-filed",success:".newsletter-form-success",siteVersionSwitchButton:".site-version-switch-button"}});ic.a=5E3;ic.prototype.events=function(){return{"click @ui.siteVersionSwitchButton":function(a){Cd.setItem("mobile_mode","desktop"===a.target.dataset.version?"1":"0","Infinity","/");window.location.reload(!0)}}};
ic.prototype.initialize=function(){new de({el:this.$el.find(".social-links"),trackContext:"footer"});this.b=new window.mdc.textfield.MDCTextField(this.getUI("newsletterTextField")[0]);this.a=new _pb.F({el:this.getUI("form"),o:this.getUI("subscribeButton")});hc(this)};_pb.D(".pb-footer",function(a){return new ic({el:a})});var ee=window.Mn.View.extend({ui:{signUpButton:".header-sign-up-button",signInButton:".header-sign-in-button",mainMenuButton:".header-open-menu-button"}});ee.prototype.events=function(){return{"click @ui.signUpButton":function(){_pb.B("signup-button-click",{context:"header"});Sb()},"click @ui.signInButton":function(){_pb.B("login-button-click",{context:"header"});Rb()},"click @ui.mainMenuButton":function(){fe.show()}}};
ee.prototype.initialize=function(){La()?this.getUI("signInButton").removeClass("pb-hidden"):this.getUI("signUpButton").removeClass("pb-hidden")};_pb.D(".pb-header",function(a){return new ee({el:a})});var ge=window.Mn.View.extend({el:".main-menu-dialog",ui:{nav:".pb-main-nav",currentNavItem:".pb-main-nav .item.type-single.current, .pb-main-nav .nested-item.selected",closeButton:".close-dialog-button",group:".item.type-group",logoutLink:".logout-link",signInButton:".sign-in-button",signUpButton:".sign-up-button"}});
ge.prototype.events=function(){var a=this;return{"click @ui.signInButton":function(){_pb.B("login-button-click",{context:"main-menu"});Rb()},"click @ui.signUpButton":function(){_pb.B("signup-button-click",{context:"main-menu"});Sb()},"click @ui.closeButton":function(){a.hide();a.a&&a.a.addClass("selected")},"click @ui.logoutLink":function(a){a.preventDefault();ec()},"click @ui.group":function(b){a.a=(0,window.$)(b.currentTarget);(0,window.$)(b.target).hasClass("item-holder")&&a.a.toggleClass("selected")},
"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0]);a.a&&a.a.addClass("selected")},"click @ui.currentNavItem":function(b){b.preventDefault();a.hide()}}};ge.prototype.initialize=function(){this.b=new window.mdc.dialog.MDCDialog(this.$el[0])};ge.prototype.show=function(){this.b.show();window.bodyScrollLock.disableBodyScroll(this.$el[0])};ge.prototype.hide=function(){this.b.close();window.bodyScrollLock.enableBodyScroll(this.$el[0])};var fe=_pb.D(".main-menu-dialog",function(a){return new ge({el:a})});var U=window.Backbone.Model.extend({relations:[{key:"calendarDateCollection",type:window.Backbone.Many,collectionType:function(){return Id}}],defaults:function(){return{workspace_id:0,place:"shared_desk",dates:[],start_date:"",end_date:"",payment_method:"COINS",prices:{},alt_currency:"",datesData:[],open_for_booking:!1,coins_booking_allowed:!1,office_coins_booking_allowed:!0,slug:"",today_booking_limit_time:null,submitting:!1}}});
U.create=function(){var a=_pb.r("#book-process-data"),b=_pb.r("#user-bookings");a=window._.extend(a,{calendarDateCollection:Id.create(a.workspace_id),userBookings:b});return new U(a)};U.prototype.fetch=function(){var a=this;return this.get("calendarDateCollection").fetch().done(function(){return a.trigger("fully_fetched")})};U.prototype.toJSON=function(){return{workspace:this.get("workspace_id"),dates:this.get("dates"),payment_method:this.get("payment_method"),type:this.get("place")}};
U.prototype.R=function(){var a=lc(this),b=this.get("place"),c=this.get("prices")[b];return this.get("calendarDateCollection").O&&a.length?a.reduce(function(a,c){return a+c.R(b)},0):c.eth};U.prototype.P=function(){var a=lc(this),b=this.get("place"),c=this.get("prices")[b];return this.get("calendarDateCollection").O&&a.length?a.reduce(function(a,c){return a+c.P(b)},0):c.alt};var he=window.Mn.View.extend({ui:{menu:".mdc-menu",items:".mdc-menu .mdc-list-item",input:".input",value:".value .text",trigger:".trigger",inner:".inner"}});he.prototype.modelEvents=function(){var a=this,b={};return b.show=function(){a.a.open=!0},b};
he.prototype.initialize=function(){var a=this;this.a=new window.mdc.menu.MDCMenu(this.getUI("menu")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT);this.a.a=!0;this.getUI("items").click(function(b){b=(0,window.$)(b.currentTarget).data("value");a.model.set("payment_method",b);a.a.open=!1})};he.prototype.events=function(){var a=this;return{"click @ui.inner":function(){a.b||(a.a.open=!a.a.open);_pb.B("booking-form-payment-method-menu-opened",{payment_method:a.getUI("input").val(),"workspace-slug":a.model.get("slug")})}}};var ie=window.Mn.View.extend();ie.prototype.initialize=function(){var a=this.options.Ga;this.l=new window.mdc.dialog.MDCDialog(a[0]);this.g=a.find(".mdc-dialog__header__title");this.f=a.find(".mdc-dialog__body");this.a=a.find(".mdc-dialog__footer .mdc-button");this.b=this.a.filter(".got-it-button");this.c=this.a.filter(".cancel-button");this.h=this.a.filter(".link-wallet-button")};_pb.qc=window.Mn.View.extend({ui:{accordion:".accordion",closeDialogButton:".close-dialog-button"}});_pb.qc.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.qc.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.getUI("accordion").accordion({active:!1,collapsible:!0,heightStyle:"content",animate:150})};
_pb.qc.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0])};_pb.qc.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0])};var je=window.Mn.View.extend({el:(0,window.$)(".pb-book-process-form"),ui:{form:".form",showHelp:".show-help",paymentMethodField:".payment-method.field",placeField:".place.field",placeFieldInner:".place .inner",placeFieldInput:".place.field .place-input",placeMenu:".place .dropdown",placeMenuItemSharedDesk:".place .item-shared-desk",placeMenuItemOffice:".place .item-office",dateRangeField:".date-range.field .mdc-text-field",tourRequestButton:".bc-tour-request-button",submitButton:".submit-button",
dateErrorMessage:".error-msg"}});_pb.f=je.prototype;
_pb.f.events=function(){var a=this;return{"click @ui.submitButton":function(){return uc(a)},"click @ui.showHelp":function(){a.f.show();_pb.B("how-to-pay-button-click",{"workspace-slug":a.model.get("slug")})},"click @ui.placeFieldInner":function(){a.model.get("submitting")||a.c.show();_pb.B("booking-form-payment-menu-opened",{place:a.model.get("place"),"workspace-slug":a.model.get("slug")})},"click @ui.placeMenuItemSharedDesk":function(){sc(a,"shared_desk");_pb.B("booking-form-payment-menu-item-click",
{place:"shared_desk","workspace-slug":a.model.get("slug")})},"click @ui.placeMenuItemOffice":function(){sc(a,"office");_pb.B("booking-form-payment-menu-item-click",{place:"office","workspace-slug":a.model.get("slug")})},"click @ui.dateRangeField":function(){a.model.trigger("calendar");_pb.B("booking-form-date-picker-opened",{"workspace-slug":a.model.get("slug")})},"click @ui.tourRequestButton":function(){Od.show();_pb.B("request-tour-button-click",{"workspace-slug":a.model.get("slug"),context:"workspace-card"})}}};
_pb.f.modelEvents=function(){return{change:this.ua,"change:start_date":this.na,"change:end_date":this.na}};
_pb.f.initialize=function(){var a=this;this.b=new _pb.F({el:this.getUI("form"),u:function(){return a.model.toJSON()}});this.g=new ie({model:this.model,Ea:this.getUI("dateRangeField"),Fa:this.getUI("dateErrorMessage"),Ga:(0,window.$)(".book-process-error-dialog")});pc(this);this.c=new window.mdc.menu.MDCMenu(this.getUI("placeMenu")[0]);this.c.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT);this.c.a=!0;this.model.get("coins_booking_allowed")&&(this.a=new he({el:this.getUI("paymentMethodField"),
model:this.model}));rc(this);this.ua()};
_pb.f.ua=function(){if(this.a){var a=this.a,b=a.model.get("payment_method"),c=a.getUI("items").filter('[data-value\x3d"'+b+'"]').html();a.getUI("input").val(b);a.getUI("value").html(c)}a=this.model.get("place");this.getUI("placeFieldInput").val(_pb.u("workplace_"+a));a=this.getUI("paymentMethodField");var d=this.model.R(),e=this.model.P();c=kc(this.model);var k=this.model.get("dates");b=this.model.get("payment_method");var l=this.model.get("alt_currency");b="COINS"===b;var w=0<k.length;k=_pb.u("permanent_membership");
b&&!w?k=_pb.u("estimated_price_per_day"):b&&w&&(k=_pb.u("estimated_total_price"));d=_pb.v(d,"ETH");e=_pb.u("approx_price",{price:_pb.v(e,l)});c=_pb.v(c,"PBT",{minimumFractionDigits:0});l=_pb.u("free");a.find(".label .text").text(k);a.find(".value .main").text(b?d:c);a.find(".value .hint").text(b?e:l);a.find(".item-coins .main").text(d);a.find(".item-coins .hint").text(e);a.find(".item-membership .main").text(c);this.getUI("dateErrorMessage").hide();this.model.get("submitting")?(this.model.get("coins_booking_allowed")&&
mc(this.a),this.getUI("placeField").find(".mdc-text-field").addClass("mdc-text-field--disabled")):(this.model.get("coins_booking_allowed")&&"office"!==this.model.get("place")&&(a=this.a,a.b=!1,a.$el.removeClass("disabled")),this.getUI("placeField").find(".mdc-text-field").removeClass("mdc-text-field--disabled"));vc(this)};
_pb.f.na=function(){var a=this.model.get("start_date"),b=this.model.get("end_date"),c=this.getUI("dateRangeField").find("input");a&&b&&!a.isSame(b)?c.val(Ia([a,b])):a?c.val(_pb.y(a)):c.val("");vc(this)};var ke=window.Mn.View.extend({ui:{calendar:".calendar",calendarInput:".calenar .control",saveButton:".save-button",datesRangeOverline:".dates-range-overline",dateStart:".date-start",dateStartValue:".date-start .value",dateStartOverline:".date-start .overline",dateSpacer:".spacer",dateEnd:".date-end",dateEndValue:".date-end .value",dateEndOverline:".date-end .overline",priceValue:".price-widget .price",priceAlt:".price-widget .price-approx",priceLabel:".price-widget .label"}});ke.a=14;_pb.f=ke.prototype;
_pb.f.events=function(){var a=this;return{"click @ui.saveButton":function(){var b=a.a;b=b.a&&b.b?ob(b.a,b.b).length:b.a&&!b.b?1:0;"office"===a.model.get("place")&&b>ke.a?a.b.show():a.model.trigger("form")}}};_pb.f.modelEvents=function(){var a=this,b={};return b.change=this.Qa,b.fully_fetched=function(){bb(a.a,jc(a.model))},b["change:start_date"]=this.Za,b["change:end_date"]=this.Ya,b["change:place"]=this.Xa,b};
_pb.f.initialize=function(){var a=this;this.a=new _pb.G({el:this.getUI("calendar").find(".control"),A:{container:this.getUI("calendar"),maxDays:this.model.get("max_booking_length"),startDate:_pb.p().format("YYYY-MM-DD"),endDate:_pb.p().add(1,"years").format("YYYY-MM-DD"),inline:!0,alwaysOpen:!0},ma:"book-process"});this.a.on("changed",function(b){return a.model.set({dates:b})});this.a.on("start_date_chaged",function(b){return a.model.set({start_date:b})});this.a.on("end_date_changed",function(b){return a.model.set({end_date:b})});
this.b=new window.mdc.dialog.MDCDialog((0,window.$)(".pb-dialogs .special-offer-dialog")[0])};
_pb.f.Xa=function(){var a=this.a;var b=this.model;var c=b.get("payment_method"),d=_pb.r("#user-bookings-max-length").max_length,e={};b=(e.shared_desk=d.shared_desk[c],e.office=d.office[c],e)[b.get("place")];a.f=window._.extend(a.f,{maxDays:b});a.c.destroy();kb();a.c=cb(a);a.l=hb(a);jb(a);a.a&&a.b?(b=a.a.format("YYYY-MM-DD"),c=a.b.format("YYYY-MM-DD"),a.$el.data("dateRangePicker").setDateRange(b,c)):a.a&&!a.b&&(b=a.a.format("YYYY-MM-DD"),a.$el.data("dateRangePicker").setStart(b));a.g&&a.open();bb(this.a,
jc(this.model))};
_pb.f.Za=function(){var a=this.model.get("start_date");this.model.get("end_date")&&this.model.unset("end_date");a&&(this.getUI("dateStartValue").text(_pb.y(a,"MMMd")),this.getUI("dateStartOverline").show().text(_pb.y(a,"E")),this.getUI("dateEndValue").text(_pb.u("calendar_dates_range_end_date")),this.getUI("dateStart").addClass("filled").removeClass("underlined"),this.getUI("dateSpacer").removeClass("pb-hidden"),this.getUI("dateEnd").addClass("underlined").removeClass("pb-hidden"),this.getUI("datesRangeOverline").hide())};
_pb.f.Ya=function(){var a=this.model.get("end_date"),b=this.model.get("start_date");a&&(this.getUI("dateEndValue").text(_pb.y(a,"MMMd")),this.getUI("dateEndOverline").show().text(_pb.y(a,"E")),this.getUI("dateEnd").addClass("filled").removeClass("underlined"),this.getUI("saveButton").attr("disabled",!1),0===a.diff(b,"days")&&(this.getUI("dateEnd").addClass("pb-hidden"),this.getUI("dateSpacer").addClass("pb-hidden")))};
_pb.f.Qa=function(){var a=this.model.R(),b=this.model.P(),c=kc(this.model),d=this.model.get("dates"),e=this.model.get("payment_method"),k=this.model.get("alt_currency");e="COINS"===e;var l=0<d.length;d=_pb.u("permanent_membership");e&&!l?d=_pb.u("estimated_price_per_day_short"):e&&l&&(d=_pb.u("estimated_total_price_short"));a=_pb.v(a,"ETH");b=_pb.u("approx_price",{price:_pb.v(b,k)});c=_pb.v(c,"PBT",{minimumFractionDigits:0});this.getUI("priceValue").text(e?a:c);this.getUI("priceAlt").text(e?b:_pb.u("free"));
this.getUI("priceLabel").text(d)};var le=window.Mn.View.extend({ui:{closeButton:".close-dialog-button",formView:".book-process-form-view",calendarView:".book-process-calendar-view"}});le.prototype.events=function(){var a=this;return{"click @ui.closeButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};
le.prototype.initialize=function(){var a=this;this.c=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a=U.create();this.a.fetch();this.b="form";this.listenTo(this.a,"calendar",function(){a.b="calendar";a.getUI("formView").addClass("pb-hidden");a.getUI("calendarView").removeClass("pb-hidden")});this.listenTo(this.a,"form",function(){wc(a)});this.a.get("open_for_booking")&&(new je({model:this.a}),new ke({el:this.getUI("calendarView"),model:this.a}))};le.prototype.show=function(){this.c.show();window.bodyScrollLock.disableBodyScroll(this.$el[0])};
le.prototype.hide=function(){"form"==this.b?(this.c.close(),window.bodyScrollLock.enableBodyScroll(this.$el[0])):wc(this)};var me=_pb.D(".book-process-form-dialog",function(a){return new le({el:a})});var ne=window.Mn.View.extend({ui:{closeDialogButton:".close-dialog-button"}});ne.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};ne.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0])};ne.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);Q.hide()};
ne.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);Q.show()};var ce=_pb.D(".pb-dialogs .estimated-price-dialog",function(a){return new ne({el:a})});var oe=window.Mn.View.extend({el:(0,window.$)(".action_home"),ui:{tourRequestButton:".tour-request-button",getInTouchButton:".get-in-touch-button",estimatedPriceHint:".homepage-usp-list .show-help",tabbarScrollArea:".scroll-area",tabbar:".solutions-tab-bar",solutionsList:".solution-block-list",accordion:".accordion",newLocationsCard:".new-locations",pressScrollContainer:".press-highlights-stripe .container",workspacesList:".workspaces-list"}});
oe.prototype.events=function(){return{"click @ui.estimatedPriceHint":function(){ce.show();_pb.B("estimated-price-hint-click")},"click @ui.tourRequestButton":function(){Od.show();_pb.B("request-tour-button-click")},"click @ui.getInTouchButton":function(){Qd.show()},"click @ui.newLocationsCard":function(){Sd.show()}}};
oe.prototype.initialize=function(){xc(this);this.getUI("accordion").accordion({active:!1,collapsible:!0,heightStyle:"content",animate:150});this.getUI("pressScrollContainer")[0].scrollTo(108,0);yc(this)};_pb.C("home",function(){new oe});var pe=window.Mn.View.extend({el:(0,window.$)(".pb-companies"),ui:{amenitiesItems:".amenities .item",showAllAmenities:".amenities .show-all-button",getInTouchButton:".get-in-touch-button"}});pe.prototype.events=function(){var a=this;return{"click @ui.showAllAmenities":function(){a.getUI("amenitiesItems").filter(".hidden").removeClass("hidden");a.getUI("showAllAmenities").hide()},"click @ui.getInTouchButton":function(){return Qd.show()}}};_pb.C("companies",function(){new pe});var qe=window.Mn.View.extend({el:(0,window.$)(".pb-about"),ui:{pressHighlights:".press-highlights"}});qe.prototype.initialize=function(){new qe.a};qe.a=window.Mn.View.extend({el:(0,window.$)(".pb-about .feedbacks"),ui:{switcherItems:".switcher-item",viewport:".viewport",items:".item"}});qe.a.prototype.initialize=function(){this.a=new Yd({el:this.$el,T:1});zc(this)};
qe.a.prototype.events=function(){var a=this;return{"click @ui.switcherItems":function(b){_pb.B("quote-person-click");var c=(0,window.$)(b.currentTarget).index();a.getUI("switcherItems").removeClass("active");(0,window.$)(b.currentTarget).addClass("active");Eb(a.a,c);zc(a)}}};_pb.C("project",function(){new qe});var re=window.Mn.View.extend({el:(0,window.$)(".pb-team"),ui:{teamListItem:".team-list .item"}});re.prototype.initialize=function(){this.getUI("teamListItem").each(function(a,b){new re.a({el:b})})};re.a=window.Mn.View.extend({ui:{showSocialLinks:".social-links .show-list",socialLinksMenu:".social-links .mdc-menu",socialLinksItems:".social-links .mdc-list-item"}});re.a.prototype.initialize=function(){var a=this.getUI("socialLinksMenu")[0];this.a=null;a&&(this.a=new window.mdc.menu.MDCMenu(a),this.a.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_START))};
re.a.prototype.events=function(){var a=this;return{"click @ui.showSocialLinks":function(){window.document.activeElement.blur();a.a.open=!0},"click @ui.socialLinksItems":function(){a.a.open=!1}}};_pb.C("team",function(){new re});var se=window.Mn.View.extend();se.prototype.initialize=function(){var a=this;this.a=new window.IntersectionObserver(function(b){return Ac(a,b)},this.options.Oa);this.options.target.each(function(b,c){a.a.observe(c)})};var te=window.Mn.View.extend({ui:{surface:".mdc-dialog__surface",galleries:".gallery",photos:".photo",closeDialogButton:".close-dialog-button"}});_pb.f=te.prototype;_pb.f.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.f.initialize=function(){this.b=new window.mdc.dialog.MDCDialog(this.$el[0]);new se({target:this.getUI("photos"),la:this.Ma,Oa:{root:this.getUI("surface")[0]}});this.a=!0};
_pb.f.show=function(a){var b=this;this.b.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);this.a?(0,window.setTimeout)(function(){a&&!Bc(b,a)&&Dc(b,a);b.a=!1},60):a&&!Bc(this,a)&&Dc(this,a)};_pb.f.hide=function(){this.$el.scrollTop(0);this.b.close();window.bodyScrollLock.enableBodyScroll(this.$el[0])};
_pb.f.Ma=function(a){var b=a.data("src"),c=(0,window.parseInt)(a.data("width"),10)/2,d=(0,window.parseInt)(a.data("height"),10)/2;b=(0,window.$)('\x3cimg class\x3d"image"\x3e').attr({src:b,width:c,height:d});a.append(b)};var ue=window.Backbone.Model.extend({defaults:{lat:0,lng:0}});var ve=window.Backbone.Collection.extend({model:function(a){return new Pc(a)},modelId:function(a){return a.id}}),Pc=window.Backbone.AssociatedModel.extend({idAttribute:"id",relations:[{key:"position",type:window.Backbone.One,relatedModel:function(){return ue}}],defaults:{id:-1,position:{},icon:"",section:"",title:"",location:"",time_to:"",size:24,color:"rgba(0, 0, 0, 0.6)",translate:"-50%, -50%"}});var we=window.Backbone.AssociatedModel.extend({relations:[{key:"markers",type:window.Backbone.Many,collectionType:function(){return ve}},{key:"center",type:window.Backbone.One,relatedModel:function(){return ue}}],defaults:function(){return{section:we.a,activeItemId:null,hoveredItemId:null,center:{},markers:[]}}});we.a="directions";we.create=function(){var a=_pb.r("#workspace-map-data");return new we(a)};var Qc={id:0,icon:"md__place__filled",size:64,color:"#f57c00",translate:"-50%, -100%"},xe={gridSize:35,styles:[{url:_pb.q("cluster.svg"),width:40,height:40,textColor:"white",textSize:15}]},Mc=[{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{color:"#fc6e6e"},{visibility:"off"}]},{featureType:"administrative.province",
elementType:"geometry.fill",stylers:[{hue:"#008aff"},{visibility:"off"}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#DCE774"},{visibility:"on"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",stylers:[{visibility:"simplified"}]},{featureType:"road.local",
elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#bee0ee"},{visibility:"on"}]}];var Lc=window.Mn.View.extend({ui:{caption:".heading",tabs:".tabs .mdc-tab",indicator:".tabs .mdc-tab-bar__indicator",map:".map"}});Lc.a=16;_pb.f=Lc.prototype;_pb.f.initialize=function(){var a=this,b=this.model;Wc.on("google_maps_ready",function(){var c=b.get("center"),d=b.get("markers");a.i=Nc(a,c);a.c=d.map(function(b){return Oc(a,b)});a.g=Rc(a);a.b=new window.MarkerClusterer(a.i,[],xe);a.g.show();a.oa()});this.f=this.a=null};
_pb.f.events=function(){var a=this;return{"click @ui.tabs":function(b){var c=(0,window.$)(b.currentTarget);b=c.data("section");c=c.data("title");a.model.set("section",b);_pb.B("poi-tab-click",{title:Da(c)})}}};_pb.f.modelEvents=function(){return{"change:section":this.oa,"change:activeItemId":this.Ha}};
_pb.f.oa=function(){Kc(this,null);var a=this.model.get("section"),b=this.getUI("tabs");a=b.filter('[data-section\x3d"'+a+'"]');b=b.index(a);this.getUI("caption").text(a.data("title"));this.getUI("tabs").filter(".mdc-tab--active").removeClass("mdc-tab--active");this.getUI("indicator").css("transform","translateX("+100*b+"%)");a.addClass("mdc-tab--active");Sc(this)};
_pb.f.Ha=function(){var a=this.model.get("markers"),b=this.model.get("activeItemId");b&&(a=Ec(a.get(b).get("position")),this.i.panTo(a));Tc(this);Vc(this)};
Wc.on("google_maps_ready",function(){R.prototype=new window.google.maps.OverlayView;R.prototype.onAdd=function(){var a=this,b=this.model.get("id"),c=this.model.get("icon"),d=this.model.get("size"),e=this.model.get("color"),k=this.model.get("translate");this.H=(0,window.$)('\x3cdiv class\x3d"marker '+(0===b?"location":"poi")+'"\x3e').append('\x3csvg class\x3d"pb-icon"\x3e\x3cuse xlink:href\x3d"#icon-'+c+'"\x3e\x3c/use\x3e\x3c/svg\x3e').css({width:d+"px",height:d+"px",transform:"translate("+k+")",color:e});
window.google.maps.event.addDomListener(this.H[0],"click",function(){window.google.maps.event.trigger(a,"click")});this.getPanes().floatPane.appendChild(this.H[0])};R.prototype.draw=function(){var a=this.model.get("position");(a=this.getProjection().fromLatLngToDivPixel(Ec(a)))&&(0,window.$)(this.H).toggleClass("active",this.ka).css({left:a.x,top:a.y})};R.prototype.show=function(){this.setMap(this.i)};R.prototype.hide=function(){this.setMap(null)};R.prototype.$a=function(a){this.ka=a;(0,window.$)(this.H).toggleClass("active",
a)};R.prototype.getPosition=function(){return Ec(this.model.get("position"))};R.prototype.onRemove=function(){this.H.remove()}});
Wc.on("google_maps_ready",function(){Uc.prototype=new window.google.maps.OverlayView;Uc.prototype.onAdd=function(){this.ea=(0,window.$)('\n      \x3cdiv class\x3d"popup"\x3e\n        \x3cdiv class\x3d"about"\x3e\n          \x3ch4 class\x3d"title"\x3e'+this.model.get("title")+'\x3c/h4\x3e\n          \x3cdiv class\x3d"location"\x3e'+this.model.get("location")+'\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"time-to"\x3e'+this.model.get("time_to")+"\x3c/div\x3e\n      \x3c/div\x3e\n    ");
this.getPanes().floatPane.appendChild(this.ea[0])};Uc.prototype.draw=function(){var a=this.model.get("position");(a=this.getProjection().fromLatLngToDivPixel(Ec(a)))&&(0,window.$)(this.ea).css({left:a.x,top:a.y})};Uc.prototype.onRemove=function(){this.ea.remove()}});var Xc=new function(){this.b=va("https://maps.googleapis.com/maps/api/js?key\x3d{key}\x26language\x3d{language}\x26libraries\x3dplaces\x26callback\x3d{callback}",{key:P.get("GOOGLE_MAP_API_KEY"),language:Ga().get("gmaps"),callback:"pb.bus.triggerGoogleMapsReady"});this.a=!1};_pb.ye=window.Mn.View.extend({ui:{body:".mdc-dialog__body",closeButton:".close-button",map:".pb-map"}});_pb.ye.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.i=new Lc({el:this.getUI("map"),model:we.create()});Gc(this.i)};_pb.ye.prototype.events=function(){var a=this;return{"click @ui.closeButton":this.close,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.ye.prototype.open=function(){Yc();this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0])};
_pb.ye.prototype.close=function(){this.a.close();this.a.emit("MDCDialog:closing");window.bodyScrollLock.enableBodyScroll(this.$el[0])};_pb.ze=window.Mn.View.extend({ui:{openButton:".open-button",menu:".mdc-menu",items:".mdc-list-item",copyAddress:".copy-address",showOnMap:".show-on-map"}});_pb.ze.prototype.initialize=function(){var a=this;this.a=new window.mdc.menu.MDCMenu(this.getUI("menu")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_START);this.b=new window.ClipboardJS(this.getUI("copyAddress")[0],{text:function(){return a.options.aa}});$c(this)};
_pb.ze.prototype.events=function(){var a=this;return{"click @ui.openButton":function(){window.document.activeElement.blur();a.a.open=!0},"click @ui.items":function(){a.a.open=!1},"click @ui.showOnMap":function(){a.options.da.open()}}};var Ae=window.Mn.View.extend({el:(0,window.$)(".pb-page"),ui:{nav:".pb-workspace-nav",navButton:".pb-workspace-nav .mdc-button",gallerySection:".pb-workspace-gallery",mapSection:".pb-workspace-map",amenitiesSection:".pb-workspace-amenities",tourRequestSection:".pb-workspace-tour-request",eventsSection:".pb-workspace-events",residentsSection:".pb-workspace-residents",bookButton:".book-button",addressText:".workspace-address-text",addressMenu:".address-menu",newsletterButton:".newsletter-button",tourRequestButton:".tour-request-button",
openGalleryButton:".open-gallery-button",aboutTextContainer:".pb-workspace-about .text .container",expandTextButton:".pb-workspace-about .expand-text-button",galleryItem:".pb-workspace-gallery .item",stickyCtaAnchor:".sticky-cta-anchor",stickyCta:".pb-workspace-sticky-cta",estimatedPriceIcon:".pb-workspace-sticky-cta .label .pb-icon",priceMenuTrigger:".pb-workspace-sticky-cta .price-block .trigger",priceBlock:".pb-workspace-sticky-cta .price-block",moreSocialLinksButton:".more-social-links-button",
socialLinksMenu:".social-links-menu",socialLink:".social-link, .social-links-menu .mdc-list-item"}}),Be={za:"overview",xa:"gallery",ya:"map",va:"amenities",Aa:"request_tour",wa:"events",Ba:"residents"};
Ae.prototype.events=function(){var a=this;return{"click @ui.navButton":function(b){b=b.currentTarget.dataset.rel;b===Be.za?a.getUI("overviewSection")[0].scrollIntoView():b===Be.xa?a.getUI("gallerySection")[0].scrollIntoView():b===Be.ya?a.getUI("mapSection")[0].scrollIntoView():b===Be.va?a.getUI("amenitiesSection")[0].scrollIntoView():b===Be.Aa?a.getUI("tourRequestSection")[0].scrollIntoView():b===Be.wa?a.getUI("eventsSection")[0].scrollIntoView():b===Be.Ba&&a.getUI("residentsSection")[0].scrollIntoView();
_pb.B("workspace-nav-button-click",{id:b})},"click @ui.bookButton":function(){me.show();_pb.B("sticky-book-button-click")},"click @ui.newsletterButton":function(){Sd.show()},"click @ui.tourRequestButton":function(){Od.show();_pb.B("request-tour-button-click")},"click @ui.openGalleryButton":function(){a.f.show();_pb.B("open-gallery-button-click")},"click @ui.estimatedPriceIcon":function(){ce.show();_pb.B("estimated-price-hint-click")},"click @ui.priceMenuTrigger":function(){me.c.show();me.a.trigger("show");
_pb.B("sticky-price-menu-button-click")},"click @ui.galleryItem":function(b){_pb.B("gallery-card-click");b=(0,window.$)(b.currentTarget).data("id");var c=a.f.$el.find(".gallery[data-section\x3d'"+b+"']").find(".title").text();_pb.B("gallery-popup-shown",{section:Da(c)});a.f.show(b)},"click @ui.expandTextButton":function(){a.getUI("aboutTextContainer").removeClass("collapsed");a.getUI("expandTextButton").addClass("pb-hidden")},"click @ui.moreSocialLinksButton":function(){a.c.open=!a.c.open},"click @ui.socialLink":function(a){a=
(0,window.$)(a.currentTarget).data("id");_pb.B("social-link-click",{id:a,context:"sticky"})}}};
Ae.prototype.initialize=function(){var a=this;this.a=U.create();this.getUI("mapSection").length&&(this.i=new Lc({el:this.getUI("mapSection"),model:we.create()}),new se({target:this.getUI("mapSection"),la:function(){return Yc()}}));this.getUI("addressMenu").length&&(this.b=new _pb.ye({el:(0,window.$)(".pb-dialogs .pb-map-dialog")}),new _pb.ze({el:this.getUI("addressMenu"),aa:this.getUI("addressText").text(),da:this.b}));this.i&&this.b&&(Hc(this.i),this.i.on("fullscreen",function(){a.b.open();Zc(a.b,
a.i)}));this.f=new te({el:(0,window.$)(".pb-dialogs .pb-workspace-gallery-dialog")[0]});this.a.get("open_for_booking")||(this.c=new window.mdc.menu.MDCMenu(this.getUI("socialLinksMenu")[0]),this.c.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT),this.c.setAnchorMargin({top:-40,left:-64}));this.g=new window.IntersectionObserver(function(b){a.getUI("stickyCta").toggleClass("sticky",!window._.first(b).isIntersecting)});this.g.observe(this.getUI("stickyCtaAnchor")[0])};_pb.C("workspace",function(){new Ae});var Ce=window.Mn.View.extend({el:(0,window.$)(".pb-how-it-works"),ui:{accordion:".accordion",tourRequestButton:".tour-request-button",accordionItemHeader:".accordion__item-header"}});Ce.prototype.initialize=function(){this.getUI("accordion").accordion({active:!1,collapsible:!0,heightStyle:"content",animate:150})};Ce.prototype.events=function(){return{"click @ui.tourRequestButton":function(){Od.show();_pb.B("request-tour-button-click")},"click @ui.accordionItemHeader":function(){_pb.B("how-to-pay-accordion-item-click")}}};
_pb.C("how_it_works",function(){new Ce});var cd=window.Mn.View.extend({el:(0,window.$)(".pb-events"),ui:{typeFilter:".events-type-filter",locationFilter:".events-location-filter",typeFilterInput:".events-type-filter input",locationFilterInput:".events-location-filter input",typeFilterItems:".events-type-filter .mdc-list-item",locationFilterItems:".events-location-filter .mdc-list-item",eventsItems:".event-card",noEventsBlock:".no-events"}});cd.a=-1;
cd.prototype.events=function(){return{"click @ui.typeFilterInput":function(){_pb.B("events-time-filter-menu-opened")},"click @ui.locationFilterInput":function(){_pb.B("events-location-filter-menu-opened")},"click @ui.typeFilterItems":function(a){a=(0,window.$)(a.currentTarget).data("value");_pb.B("events-time-filter-menu-item-click",{value:a})},"click @ui.locationFilterItems":function(a){a=(0,window.$)(a.currentTarget).text();_pb.B("events-location-filter-menu-item-click",{value:Da(a)})}}};
cd.prototype.initialize=function(){this.b=new Xd({el:this.getUI("typeFilter")});this.a=new Xd({el:this.getUI("locationFilter")});ad(this);bd(this)};_pb.C("events",function(){new cd});var De=dd("10:00","20:00"),Ee=window.Mn.View.extend({el:(0,window.$)(".pb-request-event-space"),ui:{form:".form",sentMsg:".sent-msg",textFields:".mdc-text-field:not(.pb-date-picker)",selectFields:".mdc-select",dateInput:".date-input",timeInput:".time-input",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field",eventDateField:".event-date-field"}});
Ee.prototype.initialize=function(){var a=this;ed(this.getUI("timeInput")[0],"10:00","19:30");ed(this.getUI("timeInput")[1],"10:30","20:00");this.getUI("timeInput")[1].value="20:00";this.g=this.getUI("textFields").map(function(a,c){return new window.mdc.textfield.MDCTextField(c)}).get();this.h=_pb.vd.one(this.getUI("agreementCheckbox")[0],{content:_pb.u("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.b=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);
(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.b;this.f=this.getUI("selectFields").map(function(a,c){return new window.mdc.select.MDCSelect(c)}).get();this.c=new _pb.G({el:this.getUI("dateInput"),A:{singleDate:!0,startDate:_pb.p().format("YYYY-MM-DD"),endDate:_pb.p().add(3,"months").format("YYYY-MM-DD"),container:this.getUI("eventDateField")[0]}});this.a=new _pb.F({el:this.getUI("form"),u:function(){return Object.assign({},a.getUI("form").serializeJSON(),{event_date:a.c.v()[0],
time_from:a.getUI("timeInput")[0].value,time_until:a.getUI("timeInput")[1].value})}});hd(this)};Ee.prototype.events=function(){var a=this;return{"change @ui.timeInput":function(b){var c=(0,window.$)(b.target);b=c.data("index");c=c.val();if(0==b){b=a.getUI("timeInput")[1];var d=b.value;c=De[De.indexOf(c)+1];ed(b,c,"20:00");c=De.indexOf(c)>=De.indexOf(d)?c:d;b.value=c}}}};_pb.C("request_event_space",function(){new Ee});var Fe=window.Mn.View.extend({el:".pb-request-tour",ui:{dialog:".request-tour-dialog",sentMsg:".form-sent-msg"}});Fe.prototype.initialize=function(){new Fe.a({el:this.getUI("dialog"),Ua:this.getUI("sentMsg")})};Fe.a=Nd.extend();Fe.a.prototype.qa=function(){this.options.el.addClass("pb-hidden");this.options.Ua.removeClass("pb-hidden");window.scrollTo(0,0);_pb.B("request-tour-submit-success")};_pb.C("request_tour",function(){new Fe});var id=new function(){var a=this;Yc();Wc.on("google_maps_ready",function(){a.a=new window.google.maps.places.AutocompleteService})};var Ge=window.Mn.View.extend({el:(0,window.$)(".pb-next-location"),ui:{photos:".next-location-photos .slider",container:".container",nominationForm:".nomination-form",nominationCityInput:".nomination-form .city",nominationAutocomplete:".nomination-form .autocomplete",subscriptionForm:".subscription-form",subscriptionEmailInput:".subscription-form .email",subscriptionSkip:".subscription-form .skip",successMessage:".success-message",twitterShareLink:".success-message .social-link.twitter"}});
Ge.prototype.initialize=function(){var a=this;(0,window.setInterval)(function(){return ld(a)},2E3);this.b=new _pb.F({el:this.getUI("nominationForm")});this.c=new _pb.F({el:this.getUI("subscriptionForm")});this.a=new window.mdc.menu.MDCMenu(this.getUI("nominationAutocomplete")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.TOP_LEFT);this.a.a=!0;window.localStorage.getItem("next_location_nominated")&&nd(this);kd(this)};
Ge.prototype.events=function(){return{"input @ui.nominationCityInput":this.g,"click @ui.subscriptionSkip":this.f}};
Ge.prototype.g=function(){var a=this,b=this.getUI("nominationCityInput").val();b&&jd({input:b,types:["(cities)"]}).then(function(b){a.getUI("nominationAutocomplete").find(".mdc-list").remove();a.a.open=!!b;if(b){var c=(0,window.$)('\x3cul class\x3d"mdc-menu__items mdc-list" role\x3d"menu"\x3e');b.forEach(function(b){(0,window.$)('\n            \x3cli class\x3d"mdc-list-item" role\x3d"menuitem"\x3e\n              \x3cspan class\x3d"mdc-list-item__text"\x3e\n                '+b.description+"\n              \x3c/span\x3e\n            \x3c/li\x3e\n          ").click(function(){a.getUI("nominationCityInput").val(b.description);
a.a.open=!1}).appendTo(c)});a.getUI("nominationAutocomplete").append(c)}})};Ge.prototype.f=function(){var a=this.getUI("nominationCityInput").val();this.getUI("container").removeClass("step-2").addClass("step-3");this.getUI("subscriptionForm").addClass("hidden");this.getUI("successMessage").removeClass("hidden");md(this,a)};_pb.C("next_location",function(){new Ge});var He=window.Mn.View.extend();He.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0])};He.prototype.show=function(){this.a.show()};var Ie=window.Mn.View.extend();Ie.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0])};Ie.prototype.show=function(){this.a.show()};var Je=window.Mn.View.extend({el:(0,window.$)(".pb-next-location-voting"),ui:{form:".voting-form",tabbar:".voting-tab-bar",locationsTab:".voting-tab-bar .locations-tab",rulesTab:".voting-tab-bar .rules-tab",tabbarStickyAnchor:".voting-tab-bar-sticky-anchor",rulesSection:".voting-rules",locationsSection:".voting-cities-list",locationCard:".location-card",learnMoreButton:".learn-more-button",voteButton:".vote-button",authButton:".auth-button",votingRulesButton:".voting-rules-button",authButtonStickyAnchor:".auth-button-sticky-anchor",
voteButtonStickyAnchor:".vote-button-sticky-anchor",pressScrollContainer:".press-highlights-stripe .container"}});Je.a="0.0001";Je.prototype.events=function(){var a=this;return{"click @ui.locationCard":this.h,"click @ui.authButton":function(){return Rb()},"click @ui.voteButton":this.g,"click @ui.votingRulesButton":function(){a.getUI("rulesTab").trigger("click")},"click @ui.learnMoreButton":function(a){return a.stopPropagation()}}};
Je.prototype.initialize=function(){this.b=new _pb.F({el:this.getUI("form")});this.s=_pb.r("#user-vote-weight").user_vote_weight;this.f=new He({el:(0,window.$)(".pb-dialogs .not-enough-vote-weight-dialog")});this.ca=new Ie({el:(0,window.$)(".pb-dialogs .voting-success-dialog")});this.getUI("pressScrollContainer")[0]&&this.getUI("pressScrollContainer")[0].scrollTo(108,0);rd(this);od(this);pd(this)};Je.prototype.g=function(a){a.preventDefault();this.s>Je.a?_pb.Ta(this.b):this.f.show()};
Je.prototype.h=function(a){a=(0,window.$)(a.currentTarget);var b=a.hasClass("selected");this.getUI("locationCard").removeClass("selected");b?(a.removeClass("selected"),a.find('input[type\x3d"radio"]').prop("checked",!1),(0,window.$)(this.getUI("voteButton")).prop("disabled",!0)):(a.addClass("selected"),a.find('input[type\x3d"radio"]').prop("checked",!0),(0,window.$)(this.getUI("voteButton")).prop("disabled",!1))};_pb.C("next_location_voting",function(){new Je});var Ke=window.Mn.View.extend({ui:{dialog:".mdc-dialog",primaryAction:".mdc-card__primary-action",closeDialogButton:".mdc-dialog .close-dialog-button"}});Ke.prototype.events=function(){var a=this;return{"click @ui.primaryAction":this.b,"click @ui.closeDialogButton":function(){a.a.close()}}};Ke.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.getUI("dialog")[0])};Ke.prototype.b=function(){this.a.show()};var Le=window.Mn.View.extend({ui:{categoryChipSet:".mdc-chip-set",categoryChips:".mdc-chip",discountCards:".discount-card",showAllButton:".show-all-button"}});Le.prototype.events=function(){return{"click @ui.categoryChips":this.f,"click @ui.showAllButton":this.c}};Le.prototype.initialize=function(){new window.mdc.chips.MDCChipSet(this.getUI("categoryChipSet")[0]);this.b=!1;this.getUI("discountCards").each(function(a,b){(0,window.$)(b).hasClass("disable-card-states")||new Ke({el:b})});this.a=[]};
Le.prototype.f=function(){var a=this;this.a=[];this.getUI("categoryChips").each(function(b,c){if((0,window.$)(c).hasClass("mdc-chip--selected")){var d=(0,window.$)(c).data("category-slug");d&&a.a.push(d)}});sd(this)};Le.prototype.c=function(){this.b=!0;this.getUI("discountCards").removeClass("pb-hidden");this.getUI("showAllButton").addClass("pb-hidden")};_pb.D(".pb-discounts-block",function(a){return new Le({el:a})});var Me=window.Mn.View.extend({el:".pb-discounts",ui:{categoryChipSet:".mdc-chip-set",categoryChips:".mdc-chip",locationSelect:".mdc-select",discountCards:".discount-cards .discount-card"}});Me.prototype.events=function(){return{"click @ui.categoryChips":this.c}};
Me.prototype.initialize=function(){var a=this;this.b=new window.mdc.select.MDCSelect(this.getUI("locationSelect")[0]);this.b.listen("change",function(){return td(a)});new window.mdc.chips.MDCChipSet(this.getUI("categoryChipSet")[0]);this.a=[]};Me.prototype.c=function(){var a=this;this.a=[];this.getUI("categoryChips").each(function(b,c){if((0,window.$)(c).hasClass("mdc-chip--selected")){var d=(0,window.$)(c).data("category-slug");a.a.push(d)}});td(this)};_pb.C("discounts",function(){new Me});}).call(window);
//# sourceMappingURL=/static/primalbase.mobile.build.map.js