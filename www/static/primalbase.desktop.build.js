PLOVR_MODULE_INFO={"primalbase-private.desktop":["primalbase.desktop"],"primalbase.desktop":[]};
PLOVR_MODULE_URIS={"primalbase-private.desktop":"module_primalbase-private.desktop.js","primalbase.desktop":"module_primalbase.desktop.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
(function() {var aa,fa,ea,ha,ja,ka,la,ma,f,va,wa,ya,za,Aa,Ba,Ga,Ha,Ka,La,Ma,u,Oa,z,Qa,Ra,Sa,Wa,Ua,Xa,Za,ab,bb,eb,fb,gb,jb,ib,lb,nb,ob,qb,rb,mb,sb,tb,hb,cb,db,wb,vb,ub,xb,zb,yb,Cb,Bb,Ab,Fb,Db,Eb,Gb,Hb,Ib,Jb,Lb,Mb,Kb,Nb,Ob,Qb,Sb,Tb,cc,Pb,ec,dc,fc,gc,hc,jc,ic,lc,mc,nc,oc,pc,qc,sc,tc,vc,wc,yc,xc,Ac,Dc,Gc,Hc,Jc,Mc,Cc,Ic,Bc,Pc,Oc,Tc,Sc,Qc,Rc,Wc,Vc,Uc,Yc,Xc,$c,ad,bd,cd,fd,ed,dd,hd,id,jd,ld,kd,md,nd,pd,od,qd,rd,da,ba,ca;aa=function(){aa=function(){};ba.Symbol||(ba.Symbol=ca)};
fa=function(){aa();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&da(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ea(this)}});fa=function(){}};ea=function(a){var b=0;return ha(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};ha=function(a){fa();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a};_pb.ia=function(a){fa();var b=a[window.Symbol.iterator];return b?b.call(a):ea(a)};
ja=function(a){if(!(a instanceof Array)){a=_pb.ia(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};ka=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
la=function(a,b){if(b){for(var c=ba,d=a.split("."),h=0;h<d.length-1;h++){var k=d[h];k in c||(c[k]={});c=c[k]}d=d[d.length-1];h=c[d];k=b(h);k!=h&&null!=k&&da(c,d,{configurable:!0,writable:!0,value:k})}};
ma=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b};f=function(a,b){var c=a.split("."),d=na;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var h;c.length&&(h=c.shift());)c.length||void 0===b?d[h]&&d[h]!==Object.prototype[h]?d=d[h]:d=d[h]={}:d[h]=b};
va=function(a){if(!oa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(pa,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(qa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(ra,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(sa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(ta,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ua,"\x26#0;"));return a};wa=function(a,b){return a.replace(/{(.*?)}/g,function(a){var c=a.slice(1,-1);c=b[c];return window._.isUndefined(c)?a:String(c)})};
_pb.xa=function(a){return"string"==typeof a?(0,window.moment)(a,window.moment.ISO_8601):window.moment.isMoment(a)?a:(0,window.moment)(a)};ya=function(a){a=window.moment.parseZone(_pb.xa(a));return(0,window.moment)([a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.milliseconds()])};_pb.l=function(){return(0,window.moment)(_pb.g.serverDateUtc,window.moment.ISO_8601)};za=function(a){var b=a.indexOf("#");return 0>b?null:a.substr(b+1)};
Aa=function(a,b){var c=a.indexOf("#");return(0>c?a:a.substr(0,c))+(b?"#"+b:"")};Ba=function(a){return"/static/img/"+a};_pb.n=function(a){return(a=(0,window.$)(a).text())?JSON.parse(a.trim()):null};_pb.Ca=function(a,b){b=void 0===b?"":b;var c=window.location.href,d=a;b&&(d=Aa(a,b));window.location.href=d;Aa(c,"")===Aa(d,"")&&window.location.reload()};_pb.Da=function(a){(a=void 0===a?"":a)?_pb.Ca(window.location.href,a):window.location.reload()};
_pb.Ea=function(a,b){var c=void 0===c?!1:c;var d=window.location.href,h=za(d);(h?(0,window.decodeURIComponent)(h):h)===a&&(b(),c||(c=Aa(d,""),window.history.replaceState("",window.document.title,c)))};_pb.Fa=function(a){a.value="";a.required=!a.required;a.required=!a.required};Ga=function(a){if(a&&1<a.length)return a.toLowerCase().trim().split(" ").join("-")};
Ha=function(){var a=(0,window.$)(window.document.documentElement).data("action");if(!a)throw Error("Page doesn't have action in `data-action` attribute: "+window.location);return a};_pb.p=function(a){if(a&&"responseJSON"in a)for(a=a.responseJSON;a&&Object.keys(a).length;){if("message"in a&&"code"in a)return a;a=a[Object.keys(a)[0]]}};_pb.Ia=function(a,b){return Number(Math.floor(a+"e"+b)+"e-"+b)};
Ka=function(){var a=_pb.g.lang,b=Ja.get(a);if(!b)throw Error("This django language is not supported: "+a);return b};_pb.q=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?null:c;a=null===c?window.django.gettext(a):window.django.ngettext(a,a,c);return window._.isEmpty(b)?a:wa(a,b)};La=function(a,b){b=void 0===b?{}:b;var c="string"==typeof a?Number.parseFloat(a):a;var d=window._.extend({maximumFractionDigits:10},b);return window.Globalize.numberFormatter(d)(c)};
_pb.r=function(a,b,c){c=void 0===c?{}:c;var d={};window._.contains(_pb.g.cryptocurrencies,b)&&(d.maximumFractionDigits=10,d.minimumFractionDigits=4);c=window._.extend(d,c);a="string"==typeof a?Number.parseFloat(a):a;var h;window._.contains(_pb.g.cryptocurrencies,b)?h=_pb.q("cryptomoney",{value:La(a,c),currency:b}):h={EUR:"€",USD:"$",SGD:"S$",GBP:"£"}[b]+_pb.Ia(a,c.maximumFractionDigits||2);return h};_pb.t=function(a,b,c){c=void 0===c?{}:c;b=window._.extend({},c,{skeleton:void 0===b?"yMMMd":b});return window.Globalize.dateFormatter(b)(_pb.xa(a).toDate())};
Ma=function(a,b,c,d){b=void 0===b?"yMMMd":b;c=void 0===c?null:c;d=void 0===d?{}:d;a={start_date:_pb.t(a[0],b,d),end_date:_pb.t(a[1],b,d)};return null===c?_pb.q("date_range",a):wa(c,a)};u=function(){return"mobile"===Na.get()};Oa=function(){window.localStorage.setItem("is_user_returning",!0)};
_pb.x=function(a,b){b=void 0===b?{}:b;b.page=Ha();b.platform=Na.get();b["user-id"]=_pb.v.get("id");if(!_pb.v.get("is_staff")){window.amplitude.getInstance().logEvent(a,b);var c=_pb.g.envName;if(!c)throw Error("Env name is missing!");"production"===c&&window.gtag("event",a)}window.console.debug("Event Sent: ",a,b)};_pb.y=function(a,b){var c=Pa;var d="array"==ma(a)?a:[a];window._.contains(d,c.a)&&b()};z=function(a,b){var c=null,d=(0,window.$)(a);0<d.length&&(c=b(d));return c};
_pb.D=function(a){a.$el.addClass(_pb.B.a);a.$el.attr("disabled","disabled")};_pb.E=function(a){a.$el.removeClass(_pb.B.a);a.$el.removeAttr("disabled")};Qa=function(a,b){this.type=a;this.j=b;this.l=b.responseJSON||{};this.Oa=b.requestConfig||{}};Ra=function(a){a.options.m&&a.options.m.click(function(){return a.$el.submit()})};
_pb.Va=function(a){a.b||(a.trigger("submit_init"),a.$el[0].checkValidity()?(a.b=!0,a.$el.addClass(_pb.F.a),_pb.D(a.c),a.a&&Sa(a).done(function(b,c,d){a.trigger("submit_success",new Qa("submit_success",d))}).fail(function(b){a.trigger("submit_error",new Qa("submit_error",b))}).always(function(){return _pb.Ta(a)}),a.trigger("submit_start")):Ua(a))};_pb.Ta=function(a){a.b=!1;a.$el.removeClass(_pb.F.a);_pb.E(a.c)};
Sa=function(a){a={url:a.a,method:a.$el.attr("method")||"POST",contentType:"application/json",data:JSON.stringify(Wa(a))};var b=window.$.ajax(a);b.requestConfig=window._.clone(a);return b};Wa=function(a){var b;a.options.v?b=a.options.v(a.$el):b=a.$el.serializeJSON();return b};Ua=function(a){a.options.Rb?a.options.Rb():(a.$el.find("input, select, textarea").focus().blur(),a.trigger("validation_error"))};
Xa=function(a){a.za||(a.trigger("second_passed"),a.a=(0,window.setTimeout)(function(){a.S=a.b-(new Date).getTime();0<a.S?Xa(a):((0,window.clearTimeout)(a.a),a.trigger("time_is_over"))},_pb.Ya.a))};Za=function(a){return a.map(function(a){return{date:a.get("date"),ea:a.get("is_day_off"),ua:a.get("is_day_off"),X:a.get("events").toString()}})};
_pb.$a=function(a,b,c){return a.map(function(a){var d="COINS"===c,k="shared_desk"===b?a.get("is_desk_available"):a.get("is_office_available"),m="shared_desk"===b?""===a.get("price_desk").get("price").get("currency"):""===a.get("price_office").get("price").get("currency");return{date:a.get("date"),ea:!k||d&&m||a.get("is_day_off"),ua:a.get("is_day_off"),X:a.get("events").toString()}})};ab=function(a,b){var c={};c=(c.shared_desk="price_desk",c.office="price_office",c);return a.get(c[b])};
bb=function(a){a.u().length&&(a.c.clear(),a.$el.trigger("datepicker-change",{}))};eb=function(a,b){var c=a.u();a.i=b;a.c.redraw();var d=!0;a.a&&a.b?d=cb(a,c).length===c.length:a.a&&!a.b&&(d=db(a,c[0]));d||bb(a)};fb=function(a,b){b.forEach(function(b){var c="shared_desk"===b.type?_pb.q("already_booked_these_days_hotdesk"):_pb.q("already_booked_these_days_office");b.dates.forEach(function(b){return a.K.push({date:b,X:c,ea:!0,ua:!1,Hb:!0})})})};
gb=function(a){a=a.$el.dateRangePicker(a.f).data("dateRangePicker");(0,window.$)(".prev, .next",a.getDatePicker()).find(".mdc-icon-button").each(function(a,c){(new window.mdc.ripple.MDCRipple(c)).unbounded=!0}).click(function(a){return(0,window.$)(a.currentTarget).blur()});(0,window.$)(".prev",a.getDatePicker()).find(".mdc-icon-button").on("click",function(){_pb.x("calendar-prev-button-click")});(0,window.$)(".next",a.getDatePicker()).find(".mdc-icon-button").on("click",function(){_pb.x("calendar-next-button-click")});
return a};
jb=function(a){var b={language:Ka().get("datePicker"),setValue:function(){},beforeShowDay:function(b){var c=[6,7].includes(_pb.xa(b).isoWeekday()),h=[],k="";null===a.i?c&&h.push("holiday","unavailable"):(b=hb(a,b))?(b.ea&&h.push("unavailable"),b.ua&&h.push("holiday"),b.X&&(k=b.X,h.push("event")),b.Hb&&h.push("isBooked")):(h.push("unavailable"),c&&h.push("holiday"));return[!0,h.join(" "),k]},startOfWeek:"mon"===window.Globalize.cldr.supplemental.weekData.firstDay()?"monday":"sunday",hoveringTooltip:!1,stickyMonths:!0,
showTopbar:!1,showShortcuts:!1,autoClose:!0};return window._.extend(b,a.options.J,{customArrowPrevSymbol:ib("prev"),customArrowNextSymbol:ib("next"),extraClass:[_pb.G.a,a.options.Ab||""].join(" ")})};ib=function(a){return'\n    \x3cbutton type\x3d"button" class\x3d"mdc-icon-button"\x3e\n      \x3csvg class\x3d"pb-icon"\x3e\n        \x3cuse xlink:href\x3d"#icon-'+("next"===a?"md__arrow_forward__filled":"md__arrow_back__filled")+'"\x3e\x3c/use\x3e\n      \x3c/svg\x3e\n    \x3c/button\x3e'};
lb=function(a){var b=(0,window.$)('\x3cdiv class\x3d"pb-date-picker-dropdown-progress"\x3e');new _pb.kb({appendTo:b});b.hide();a.c.getDatePicker().append(b);return b};nb=function(a){(0,window.$)(window).on("resize.pb.DatePicker",function(){return mb(a)})};ob=function(){(0,window.$)(window).off("resize.pb.DatePicker")};qb=function(a){a.a&&a.b&&!a.a.isSame(a.b)?a.getUI("input").val(Ma([a.a,a.b])):a.a?a.getUI("input").val(_pb.t(a.a)):a.getUI("input").val("")};
rb=function(a,b){b=void 0===b?!1:b;var c=!a.getUI("input").val();a.getUI("input").toggleClass("empty",c);a.getUI("label").toggleClass("mdc-floating-label--float-above",!c);!b&&a.getUI("input").prop("required")&&a.$el.toggleClass("mdc-text-field--invalid",c)};
mb=function(a){if(a.g&&!a.options.J.alwaysOpen){var b=a.c.getDatePicker(),c=a.$el.offset(),d=a.$el.outerWidth(),h=a.$el.outerHeight(),k=b.outerWidth(),m=b.outerHeight(),w=(0,window.$)(window).width(),A=(0,window.$)(window).height(),H=(0,window.$)(window.document).scrollLeft();b.hide();var M=(0,window.$)(window.document).height();b.show();var C=c.left+(d-k)/2;h=c.top+h;C+k>w+H&&(C=c.left+d-k);0>C&&(C=c.left);a=sb(a,a.$el)?A:M;h+m>a&&(h=c.top-m);b.css({left:C,top:h})}};
sb=function(a,b){var c=b.parent();return"fixed"===c.css("position")||!c.is("body")&&sb(a,c)};tb=function(a,b){for(var c=[],d=a;(0,window.moment)(d).isSameOrBefore(b);)c.push(d.format("YYYY-MM-DD")),d=(0,window.moment)(d).add(1,"day");return c};hb=function(a,b){var c=null,d=_pb.xa(b).format("YYYY-MM-DD");a.K&&(c=a.K.find(function(a){return a.date===d})||null);!c&&a.i&&(c=a.i.find(function(a){return a.date===d})||null);return c};cb=function(a,b){return b.filter(function(b){return db(a,b)})};
db=function(a,b){var c=hb(a,b);return c?!c.ea:!0};
wb=function(a){a.c.on("submit_start",function(){return ub(a)});a.c.on("submit_success",function(){return a.Na()});a.c.on("submit_error",function(b){b=_pb.p(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.q("request_tour_message_error"),customClass:_pb.J.a});_pb.x("request-tour-submit-failed");vb(a)});a.c.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);b&&!b.checked&&a.b.show()})};
vb=function(a){window._.each(a.i,function(a){a.disabled=!1});a.f.disabled=!1;window._.each(a.h,function(a){a.disabled=!1})};ub=function(a){window._.each(a.i,function(a){a.disabled=!0});a.f.disabled=!0;window._.each(a.h,function(a){a.disabled=!0})};
xb=function(a){a.b.on("submit_start",function(){a.c.disabled=!0});a.b.on("submit_success",function(){a.hide();_pb.I.show({text:_pb.q("newsletter_snackbar_success")});a.c.disabled=!1;_pb.x("newsletter-form-submit-success",{context:"dialog"})});a.b.on("submit_error",function(b){b=_pb.p(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a});a.c.disabled=!1;_pb.x("newsletter-form-submit-failed",{context:"dialog"})})};
zb=function(a){a.b.on("submit_start",function(){});a.b.on("submit_success",function(){return yb(a)});a.b.on("submit_error",function(b){(b=_pb.p(b.j))&&"already_accepted"===b.code?yb(a):(a.getUI("dialogSurface").effect("shake"),_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a}))})};yb=function(a){a.hide();_pb.I.show({text:_pb.q("snackbar_generic_success")})};
Cb=function(a){a.b.on("submit_start",function(){return Ab(a)});a.b.on("submit_success",function(){a.hide();_pb.I.show({text:_pb.q("newsletter_and_terms_snackbar_success")});Bb(a);_pb.x("newsletter-and-terms-form-submit-success",{context:"dialog"})});a.b.on("submit_error",function(b){b=_pb.p(b.j);a.getUI("dialogSurface").effect("shake");_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a});Bb(a);_pb.x("newsletter-and-terms-form-submit-failed",{context:"dialog"})})};
Bb=function(a){window._.each(a.c,function(a){a.disabled=!1})};Ab=function(a){window._.each(a.c,function(a){a.disabled=!0})};Fb=function(a,b){a.a=b;a.getUI("container").css("transform","translateX(-"+100*b+"%)");Db(a);Eb(a)};Db=function(a){var b=[].concat(ja(a.getUI("items")));a=b.splice(Math.ceil(a.a*a.options.B),a.options.B);(0,window.$)(b).addClass("hidden");(0,window.$)(a).removeClass("hidden")};Eb=function(a){a.getUI("prev").prop("disabled",0===a.a);a.getUI("next").prop("disabled",a.a===a.b)};
Gb=function(a,b){var c={};a.$el.hasClass("homepage-press")?c.id="press-highlights":a.$el.hasClass("pb-workspace-residents")?c.id="residents":a.$el.hasClass("pb-workspace-other-locations")&&(c.id="other-locations");_pb.x({prev:"carousel-prev-button-click",next:"carousel-next-button-click"}[b],c)};Hb=function(a){window._.each(a.f,function(a){return _pb.Fa(a)});window._.each(a.c,function(a){a.checked=!1})};
Ib=function(a){var b=[];a=a.$el.find(".mdc-text-field");0<a.length&&(b=a.map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get());return b};Jb=function(a){var b=[];a=a.$el.find(".mdc-checkbox");0<a.length&&(b=a.map(function(a,b){var c=new window.mdc.checkbox.MDCCheckbox(b);return(new window.mdc.formField.MDCFormField((0,window.$)(b).parent(".mdc-form-field")[0])).input=c}).get());return b};
Lb=function(a,b){var c=new _pb.F(b),d={};c.on((d.submit_start=function(){Kb(a)},d.submit_success=function(b){return a.M(b)},d.submit_error=function(b){return a.aa(b)},d));return c};Mb=function(a){window._.each(a.f,function(a){a.disabled=!1});window._.each(a.c,function(a){a.disabled=!1})};Kb=function(a){window._.each(a.f,function(a){a.disabled=!0});window._.each(a.c,function(a){a.disabled=!0})};Nb=function(a){a.getUI("emailValue").text(va(a.model.get("email")))};
Ob=function(a){function b(b){return a.model.set("currentView",b)}var c={};c=(c.success=function(){a.a?a.a.resolve():_pb.Da();_pb.x("sign-in-success")},c.sign_up=function(){return b(K.oa)},c.password_reset=function(){return b(K.na)},c.two_f_a=function(){return b(K.H)},c);var d={};d=(d.success=function(){b(K.qa);_pb.x("sign-up-success")},d.sign_in=function(){return b(K.G)},d);var h={};h=(h.success=function(){return b(null)},h);var k={};k=(k.success=function(){return b(null)},k);var m={};m=(m.sign_in=
function(){return b(K.G)},m.success=function(){return b(null)},m);var w={};w=(w.sign_in=function(){return b(K.G)},w.confirm=function(){b(K.ma)},w);var A={};A=(A.sign_in=function(){return b(K.G)},A.success=function(){b(null);_pb.I.show({text:_pb.q("password_reset_success_message"),pos:"bottom-left"})},A);var H={};H=(H.success=function(){a.a?a.a.resolve():_pb.Da();_pb.x("twofa-success")},H.cancel=function(){return b(K.G)},H.recovery_code=function(){return b(K.pa)},H);var M={};M=(M.success=function(){a.a?
a.a.resolve():_pb.Da();_pb.x("recovery-code-success")},M.cancel=function(){return b(K.H)},M);var C={};return C[K.G]=c,C[K.oa]=d,C[K.qa]=h,C[K.Ea]=k,C[K.Fa]=m,C[K.na]=w,C[K.ma]=A,C[K.H]=H,C[K.pa]=M,C};Qb=function(a){_pb.Ea(L.b,function(){Pb(a,"verify_email-success")});_pb.Ea(L.a,function(){Pb(a,"verify_email-error")})};Sb=function(){var a=Rb,b=new window.Promise(function(b,d){a.a={resolve:b,reject:d}});Pb(a,"sign_in");return b};Tb=function(){Sb().then(function(){return _pb.Da()})["catch"](window._.noop)};
cc=function(a){function b(b){return{el:a.getUI(b),model:a.model}}var c={};c=(c[K.G]=new Ub(b("signIn")),c[K.qa]=new Vb(b("verifyEmail")),c[K.Fa]=new Wb(b("verifyEmailSuccess")),c[K.Ea]=new Xb(b("verifyEmailError")),c[K.na]=new Yb(b("passwordResetRequest")),c[K.ma]=new Zb(b("passwordResetConfirm")),c[K.H]=new $b(b("twoFA")),c[K.pa]=new ac(b("twoFARecoveryCode")),c);var d=a.getUI("signUp");d&&d.length&&(c[K.oa]=new bc({el:d,model:a.model}));return c};
Pb=function(a,b){a.c.show();a.model.set("currentView",b);window.bodyScrollLock.disableBodyScroll(a.$el[0])};ec=function(a,b){dc(a);a.b[b].show().on("all",function(c){var d=a.f[b][c];if(d)d();else throw Error("No handler for progress: "+c);})};dc=function(a){window._.each(a.b,function(a){return a.hide()})};
fc=function(){window.$.ajax({url:_pb.N.get("auth:logout"),method:"POST"}).done(function(){window.amplitude.getInstance().setUserId(null);"public"===((0,window.$)(window.document.documentElement).data("action-type")||"public")?_pb.Da():_pb.Ca(_pb.N.get("primalbase:home"))}).fail(function(){_pb.I.show({text:_pb.q("snackbar_generic_error"),customClass:_pb.J.a})})};
gc=function(){var a={hmac:za(window.location.href)};return window.$.ajax({url:_pb.N.get("auth:confirm_email"),type:"POST",contentType:"application/json",data:JSON.stringify(a)})};hc=function(a){var b=new window.mdc.menu.MDCMenu(a.getUI("menu")[0]);b.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT);a.getUI("items").each(function(a,b){new window.mdc.ripple.MDCRipple(b)});return b};
jc=function(a){a.a.on("submit_start",function(){a.b.disabled=!0});a.a.on("submit_success",function(){ic(a);a.b.disabled=!1;_pb.x("newsletter-form-submit-success",{context:"footer"})});a.a.on("submit_error",function(b){b=_pb.p(b.j);_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a});a.b.disabled=!1;_pb.x("newsletter-form-submit-failed",{context:"footer"})})};
ic=function(a){a.getUI("success").removeClass("pb-hidden");(0,window.setTimeout)(function(){a.getUI("success").addClass("pb-hidden")},kc.a)};lc=function(a){var b=a.getUI("items").not(".hidden").height();a.getUI("viewport").css("height",b)};mc=function(a){var b=a.get("dates").map(function(b){return a.get("calendarDateCollection").get(b)});return new window.Backbone.Collection(b)};nc=function(a){a.a.open=!1;a.b=!0;a.$el.addClass("disabled")};
oc=function(a,b){var c={not_enough_orders:_pb.q("booking_error_not_enough_orders"),no_space_left:_pb.q("booking_error_no_space_left"),no_timeslots_for_dates:_pb.q("booking_error_no_timeslots"),date_in_past:_pb.q("booking_error_date_in_past"),too_late_for_booking:function(){if(a.model.get("today_booking_limit_time")){var b=(0,window.moment)(a.model.get("today_booking_limit_time"),window.moment.HTML5_FMT.TIME_SECONDS);return _pb.q("booking_error_too_late_with_time",{time:_pb.t(b,"jm")})}return _pb.q("booking_error_too_late")}(),
booking_interval_limits:function(){var b="shared_desk"===a.model.get("place")?_pb.O.get("DESK_MAX_LENGTH"):_pb.O.get("OFFICE_MAX_LENGTH");return _pb.q("booking_error_booking_limits_desk",{days:b},b)}(),total_booking_interval_limits:function(){if("shared_desk"===a.model.get("place")){var b=_pb.O.get("TOTAL_DESK_MAX_LENGTH");return _pb.q("booking_error_total_booking_limits_desk",{days:b},b)}b=_pb.O.get("TOTAL_OFFICE_MAX_LENGTH");return _pb.q("booking_error_total_booking_limits_office",{days:b},b)}()}[b.l.code];
c&&(a.options.zb.html(c).show(),a.options.yb.addClass("mdc-text-field--invalid"));return!!c};
pc=function(a,b){var c=b.l.code,d="",h="";a.b.hide();var k=(0,window.$)();"not_enough_tokens"===c?b.l.days?(d=_pb.q("booking_error_not_enough_tokens_for_days_heading"),c=window._.map(b.l.days,function(a){return'\x3cspan class\x3d"pb-nobr"\x3e'+_pb.t(a)+"\x3c/span\x3e"}),h=_pb.q("booking_error_not_enough_tokens_for_days_text",{days:c.join(", ")}),k=k.add(a.c)):(d=_pb.q("booking_error_not_enough_tokens_heading"),h=_pb.q("booking_error_not_enough_tokens_text"),k=k.add(a.i).add(a.f)):"reservation_limits"===
c?("shared_desk"===a.model.get("place")?(d=_pb.q("booking_error_reservation_limits_desk_heading"),h=_pb.q("booking_error_reservation_limits_desk_body",{max:b.l.limit},b.l.limit)):(d=_pb.q("booking_error_reservation_limits_office_heading"),h=_pb.q("booking_error_reservation_limits_office_body",{max:b.l.limit},b.l.limit)),k=k.add(a.c)):"reservation_rate_limits"===c&&(d=_pb.q("booking_error_reservation_rate_limits_heading"),h=_pb.q("booking_error_reservation_rate_limits_text",{num:_pb.O.get("MAX_RESERVATIONS_24H")},
_pb.O.get("MAX_RESERVATIONS_24H")),k=k.add(a.c));d&&h&&(a.h.html(d),a.g.html(h),k.show(),a.a.show());return!(!d||!h)};
qc=function(a){a.c.on("submit_start",function(){a.getUI("dateErrorMessage").hide();a.model.set("submitting",!0);_pb.x("book-process-form-initiated",{"workspace-slug":a.model.get("slug")})});a.c.on("submit_success",function(b){_pb.x("book-process-form-success",{"workspace-slug":a.model.get("slug"),"request-data":JSON.parse(b.Oa.data)});window.location.href=b.l.url});a.c.on("submit_error",function(b){a.model.set("submitting",!1);var c=a.h,d=oc(c,b);c=pc(c,b);d||c||(d=_pb.p(b.j),_pb.I.show({text:d?d.message:
_pb.q("snackbar_generic_error"),customClass:_pb.J.a}));_pb.x("book-process-form-failed",{"workspace-slug":a.model.get("slug"),error:b.l,"request-data":JSON.parse(b.Oa.data)})});a.a.once("opened",function(){a.model.fetch();a.a.o.show()});a.a.on("changed",function(b){return a.model.set("dates",b)})};sc=function(a){var b=(0,window.$)(".pb-dialogs");a.g=new _pb.rc({el:b.find(".how-to-pay-dialog")[0]});a.i=new window.mdc.dialog.MDCDialog(b.find(".special-offer-dialog")[0])};
tc=function(a,b){a.model.set("place",b);if(!a.model.get("office_coins_booking_allowed"))if("office"==b)a.model.set("payment_method","MEMBERSHIP"),a.model.get("coins_booking_allowed")&&nc(a.b);else if(a.model.get("coins_booking_allowed")){var c=a.b;c.b=!1;c.$el.removeClass("disabled")}};
vc=function(a,b){0===a.a.u().length?(a.a.open(),b.stopPropagation(),_pb.x("book-process-book-button-click",{result:"date-picker-shown","workspace-slug":a.model.get("slug")})):_pb.v.get("id")!==uc.a?(_pb.Va(a.c),_pb.x("book-process-book-button-click",{result:"form-submitted","workspace-slug":a.model.get("slug")})):(window.localStorage.getItem("is_user_returning")?Sb().then(function(){Rb.hide();var b=a.c,d=_pb.N.get("api:bookings");b.a=d;_pb.Va(a.c)})["catch"](window._.noop):Pb(Rb,"sign_up"),_pb.x("book-process-book-button-click",
{result:"auth-view-shown","workspace-slug":a.model.get("slug")}))};wc=function(a,b){b.filter(function(a){return a.isIntersecting}).forEach(function(b){b=(0,window.$)(b.target);a.options.ra(b);a.a.unobserve(b[0])})};yc=function(a,b){a.a.show();var c;if(c=b)c=a.getUI("galleries").eq(0).data("section")!==b;if(c){c=a.getUI("surface");var d=xc(a,b);c.scrollTop(d-72)}window.document.activeElement.blur()};
xc=function(a,b){var c=0;a.getUI("galleries").each(function(){if((0,window.$)(this).data("section")===b)return c=(0,window.$)(this).position().top,!1});return c};Ac=function(){var a=zc;a.a||(window.$.getScript(a.b),a.a=!0)};Dc=function(a){var b=Bc(a.model.get("center"));b=Cc(a,b);a.s.panTo(b);a.a=null;a.model.set("activeItemId",null)};Gc=function(a,b){var c=Ec.b;return new window.google.maps.Map(a.getUI("map")[0],{center:Bc(b),zoom:c,mapTypeControl:!1,styles:Fc})};
Hc=function(a){var b=new window.google.maps.OverlayView;b.onAdd=function(){return Dc(a)};b.draw=function(){};b.setMap(a.s);return b};Jc=function(a,b){var c=new Ic(b,a.s),d=b.get("id");d?(c.addListener("click",function(){a.model.set("activeItemId",d)}),c.addListener("mouseover",function(){return a.model.set("hoveredItemId",d)}),c.addListener("mouseout",function(){return a.model.set("hoveredItemId",null)})):c.addListener("click",function(){return Dc(a)});return c};
Mc=function(a){var b=new Kc(Object.assign({},Lc,{position:a.model.get("center")}));return Jc(a,b)};Cc=function(a,b){var c=a.f.getProjection(),d=c.fromLatLngToDivPixel(b);d.x-=Ec.a;return c.fromDivPixelToLatLng(d)};Ic=function(a,b){this.model=a;this.s=b;this.La=this.Ga=!1};Bc=function(a){var b=a.get("lat");a=a.get("lng");return new window.google.maps.LatLng(b,a)};
Pc=function(a){a.f=new window.IntersectionObserver(function(b){a.getUI("nav").toggleClass("sticky",!window._.first(b).isIntersecting);a.b.layout()});a.f.observe(a.getUI("navTabbarAnchor")[0]);a.b=new window.mdc.tabs.MDCTabBarScroller(a.getUI("navTabbarScroller")[0]);a.b.listen("MDCTab:selected",function(b){b=b.target.dataset.rel;b===Nc.lb?Oc(a,a.getUI("overviewSection")[0].offsetTop):b===Nc.ib?Oc(a,a.getUI("gallerySection")[0].offsetTop):b===Nc.kb?Oc(a,a.getUI("mapSection")[0].offsetTop):b===Nc.Ta?
Oc(a,a.getUI("amenitiesSection")[0].offsetTop):b===Nc.mb?Oc(a,a.getUI("tourRequestSection")[0].offsetTop):b===Nc.hb?Oc(a,a.getUI("eventsSection")[0].offsetTop):b===Nc.nb&&Oc(a,a.getUI("residentsSection")[0].offsetTop);_pb.x("workspace-nav-button-click",{id:b})})};Oc=function(a,b){var c=a.getUI("nav")[0].getBoundingClientRect().height;(0,window.$)("html, body").animate({scrollTop:b-c},300)};
Tc=function(a){a.a.on("submit_start",function(){return Qc(a)});a.a.on("submit_success",function(){var b=a.getUI("requestWorkspaceForm").height(),c=a.getUI("requestWorkspaceFormSent").show().height();a.getUI("requestWorkspaceForm").css("position","absolute").fadeOut(600);a.getUI("requestWorkspaceFormSent").css({height:b,opacity:0}).animate({height:c,opacity:1},600);Rc(a);_pb.x("get-in-touch-form-submit-success")});a.a.on("submit_error",function(b){b=_pb.p(b.j);Sc(a);_pb.x("get-in-touch-form-submit-failed");
_pb.I.show({text:b?b.message:_pb.q("get_in_touch_sent_error"),customClass:_pb.J.a})});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);b&&!b.checked&&a.b.show()})};Sc=function(a){window._.each(a.g,function(a){a.disabled=!1});a.c.disabled=!1;window._.each(a.f,function(a){a.disabled=!1})};Qc=function(a){window._.each(a.g,function(a){a.disabled=!0});a.c.disabled=!0;window._.each(a.f,function(a){a.disabled=!0})};
Rc=function(a){(0,window.$)("html, body").animate({scrollTop:a.getUI("requestWorkspaceSection").offset().top},500)};
Wc=function(a){a.a.on("submit_start",function(){return Uc(a)});a.a.on("submit_success",function(){var b=a.getUI("requestWorkspaceForm").height(),c=a.getUI("requestWorkspaceFormSent").show().height();a.getUI("requestWorkspaceForm").css("position","absolute").fadeOut(600);a.getUI("requestWorkspaceFormSent").css({height:b,opacity:0}).animate({height:c,opacity:1},600);(0,window.$)("html, body").animate({scrollTop:a.getUI("requestWorkspaceSection").offset().top},500);_pb.x("get-in-touch-form-submit-success")});
a.a.on("submit_error",function(b){b=_pb.p(b.j);Vc(a);_pb.x("get-in-touch-form-submit-failed");_pb.I.show({text:b?b.message:_pb.q("get_in_touch_sent_error"),customClass:_pb.J.a})});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);b&&!b.checked&&a.b.show()})};Vc=function(a){window._.each(a.g,function(a){a.disabled=!1});a.c.disabled=!1;window._.each(a.f,function(a){a.disabled=!1})};
Uc=function(a){window._.each(a.g,function(a){a.disabled=!0});a.c.disabled=!0;window._.each(a.f,function(a){a.disabled=!0})};Yc=function(a){a.b.on("changed",function(){return Xc(a)});a.a.on("changed",function(){return Xc(a)})};
Xc=function(a){var b=a.b.u(),c=(0,window.parseInt)(a.a.u(),10),d=c===Zc.a,h=0;a.getUI("eventsItems").each(function(a,m){var k=(0,window.$)(m).data("filter");k=d?b===k.type:window._.isEqual({type:b,location:c},k);(0,window.$)(m).toggle(k);k&&h++});a.getUI("noEventsBlock").toggle(0===h)};$c=function(a){140<window.pageYOffset&&a.getUI("navwrap").addClass("scrolled");(0,window.$)(window).scroll(function(){140<window.pageYOffset?a.getUI("navwrap").addClass("scrolled"):a.getUI("navwrap").removeClass("scrolled")})};
ad=function(a){a.getUI("links").each(function(a,c){var b=(0,window.$)(c);b.attr("href")==window.location.hash&&b.addClass("active")})};bd=function(a,b){var c=a.split(":"),d=b.split(":");c=(0,window.moment)().hour(c[0]).minute(c[1]);d=(0,window.moment)().hour(d[0]).minute(d[1]);for(var h=[];c.unix()<=d.unix();)h.push(c.clone().format("HH:mm")),c.add(30,"minutes");return h};
cd=function(a,b,c){b=bd(void 0===b?"10:00":b,void 0===c?"20:00":c);var d=window.document.createDocumentFragment();b.forEach(function(a){a=(0,window.$)('\x3coption value\x3d"'+a+'" \x3e'+a+"\x3c/option\x3e");d.appendChild(a[0])});a.innerHTML="";a.appendChild(d)};
fd=function(a){a.a.on("submit_start",function(){return dd(a)});a.a.on("submit_success",function(){_pb.x("request-event-space-submit-success");var b=a.getUI("form").height(),c=a.getUI("sentMsg").css("display","flex").height();a.getUI("form").css("position","absolute").fadeOut(600);a.getUI("sentMsg").css({height:b,opacity:0}).animate({height:c,opacity:1},600);(0,window.$)("html, body").animate({scrollTop:0},300)});a.a.on("submit_error",function(b){b=_pb.p(b.j);_pb.I.show({text:b?b.message:_pb.q("request_tour_message_error"),
customClass:_pb.J.a});_pb.x("request-event-space-submit-failed");ed(a)});a.a.on("validation_error",function(){var b=a.getUI("agreementCheckbox").find('input[type\x3d"checkbox"]').get(0);b&&!b.checked&&a.b.show()})};ed=function(a){window._.each(a.h,function(a){a.disabled=!1});a.c.disabled=!1;window._.each(a.g,function(a){a.disabled=!1});a.f.h.disabled=!1};dd=function(a){window._.each(a.h,function(a){a.disabled=!0});a.c.disabled=!0;window._.each(a.g,function(a){a.disabled=!0});a.f.h.disabled=!0};
hd=function(a){var b=gd;return new window.Promise(function(c){b.a.getPlacePredictions(a,function(a){return c(a)})})};
id=function(a){a.b.on("submit_start",function(){a.getUI("nominationCityInput").prop("disabled",!0)});a.b.on("submit_success",function(){var b=a.getUI("nominationCityInput").val();a.getUI("container").addClass("step-2");a.getUI("nominationForm").addClass("hidden");a.getUI("subscriptionForm").removeClass("hidden");window.localStorage.setItem("next_location_nominated",b)});a.b.on("submit_error",function(b){b=_pb.p(b.j);a.getUI("nominationCityInput").prop("disabled",!1);_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),
customClass:_pb.J.a})});a.c.on("submit_start",function(){a.getUI("subscriptionEmailInput").prop("disabled",!0)});a.c.on("submit_success",function(){return a.f()});a.c.on("submit_error",function(b){b=_pb.p(b.j);a.getUI("subscriptionEmailInput").prop("disabled",!1);_pb.I.show({text:b?b.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a})})};
jd=function(a){a=a.getUI("photos");var b=a.not(".toggled");0===b.length&&(a.removeClass("toggled"),b=a);a=b.eq(Math.floor(Math.random()*b.length));var c=(0,window.$)("img",a);a.addClass("toggled");c.filter(".secondary").animate({bottom:"0%"},800,"easeInOutQuint",function(){c.toggleClass("secondary");c.filter(".secondary").css("bottom","100%")})};
ld=function(a){var b=window.localStorage.getItem("next_location_nominated");a.getUI("container").addClass("step-3");a.getUI("nominationForm").addClass("hidden");a.getUI("successMessage").removeClass("hidden");kd(a,b)};kd=function(a,b){var c=_pb.q("next_location_twitter_text",{city:b,link:window.location.href});c="https://twitter.com/intent/tweet?text\x3d"+(0,window.encodeURIComponent)(c);a.getUI("twitterShareLink").attr("href",c)};
md=function(a){a.a.on("submit_success",function(){a.va.show()});a.a.on("submit_error",function(a){a=_pb.p(a.j);_pb.I.show({text:a?a.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a})})};
nd=function(a){a.f=new window.IntersectionObserver(function(b){a.getUI("tabbar").toggleClass("sticky",!window._.first(b).isIntersecting)});a.K=new window.IntersectionObserver(function(b){a.getUI("voteButton").toggleClass("sticky",!window._.first(b).isIntersecting)});a.b=new window.IntersectionObserver(function(b){a.getUI("authButton").toggleClass("sticky",!window._.first(b).isIntersecting)});a.getUI("tabbarStickyAnchor")[0]&&a.f.observe(a.getUI("tabbarStickyAnchor")[0]);a.getUI("voteButtonStickyAnchor")[0]&&
a.K.observe(a.getUI("voteButtonStickyAnchor")[0]);a.getUI("authButtonStickyAnchor")[0]&&a.b.observe(a.getUI("authButtonStickyAnchor")[0])};
pd=function(a){a.i=new window.mdc.tabs.MDCTabBar(a.getUI("tabbar")[0]);a.i.listen("MDCTab:selected",function(b){"locations"===b.target.dataset.rel?(od(a),a.getUI("locationsSection").removeClass("pb-hidden"),a.getUI("rulesSection").addClass("pb-hidden"),a.getUI("voteButton").removeClass("pb-hidden"),a.getUI("votingRulesButton").removeClass("pb-hidden")):(od(a),a.getUI("locationsSection").addClass("pb-hidden"),a.getUI("rulesSection").removeClass("pb-hidden"),a.getUI("voteButton").addClass("pb-hidden"),
a.getUI("votingRulesButton").addClass("pb-hidden"))})};od=function(a){a.getUI("tabbarStickyAnchor")[0]?a.getUI("tabbarStickyAnchor")[0].scrollIntoView(!0):a.getUI("tabbar")[0].scrollIntoView(!0)};
qd=function(a){0<a.a.length?(a.getUI("discountCards").addClass("pb-hidden"),a.getUI("discountCards").each(function(b,c){var d=(0,window.$)(c),h=d.data("category-slug");a.a.includes(h)&&d.removeClass("pb-hidden")})):a.b?a.getUI("discountCards").removeClass("pb-hidden"):(a.getUI("discountCards").addClass("pb-hidden"),a.getUI("discountCards").slice(0,4).removeClass("pb-hidden"))};
rd=function(a){var b=a.a,c=a.b.value;a.getUI("discountCards").addClass("pb-hidden");a.getUI("discountCards").each(function(a,h){var d=(0,window.$)(h),m=d.data("category-slug"),w=d.data("workspace-id");0<b.length?b.includes(m)&&(0>c?d.removeClass("pb-hidden"):0<c&&c==w&&d.removeClass("pb-hidden")):0>c?d.removeClass("pb-hidden"):0<c&&c==w&&d.removeClass("pb-hidden")})};
da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof window.global&&null!=window.global?window.global:this;ca=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
la("String.prototype.repeat",function(a){return a?a:function(a){var b=ka(this,null,"repeat");if(0>a||1342177279<a)throw new window.RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});la("Number.parseFloat",function(a){return a||window.parseFloat});
la("Promise",function(a){function b(a){this.b=0;this.g=void 0;this.a=[];var b=this.c();try{a(b.resolve,b.reject)}catch(A){b.reject(A)}}function c(){this.a=null}function d(a){return a instanceof b?a:new b(function(b){b(a)})}if(a)return a;c.prototype.b=function(a){null==this.a&&(this.a=[],this.f());this.a.push(a)};c.prototype.f=function(){var a=this;this.c(function(){a.h()})};var h=ba.setTimeout;c.prototype.c=function(a){h(a,0)};c.prototype.h=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=
[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(H){this.g(H)}}}this.a=null};c.prototype.g=function(a){this.c(function(){throw a;})};b.prototype.c=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.va),reject:a(this.f)}};b.prototype.va=function(a){if(a===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.Ib(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=
!0;break a;default:c=!1}c?this.K(a):this.h(a)}};b.prototype.K=function(a){var b=void 0;try{b=a.then}catch(A){this.f(A);return}"function"==typeof b?this.Sb(b,a):this.h(a)};b.prototype.f=function(a){this.i(2,a)};b.prototype.h=function(a){this.i(1,a)};b.prototype.i=function(a,b){if(0!=this.b)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.b);this.b=a;this.g=b;this.o()};b.prototype.o=function(){if(null!=this.a){for(var a=0;a<this.a.length;++a)k.b(this.a[a]);this.a=null}};
var k=new c;b.prototype.Ib=function(a){var b=this.c();a.W(b.resolve,b.reject)};b.prototype.Sb=function(a,b){var c=this.c();try{a.call(b,c.resolve,c.reject)}catch(H){c.reject(H)}};b.prototype.then=function(a,c){function d(a,b){return"function"==typeof a?function(b){try{h(a(b))}catch(ch){k(ch)}}:b}var h,k,m=new b(function(a,b){h=a;k=b});this.W(d(a,h),d(c,k));return m};b.prototype["catch"]=function(a){return this.then(void 0,a)};b.prototype.W=function(a,b){function c(){switch(d.b){case 1:a(d.g);break;
case 2:b(d.g);break;default:throw Error("Unexpected state: "+d.b);}}var d=this;null==this.a?k.b(c):this.a.push(c)};b.resolve=d;b.reject=function(a){return new b(function(b,c){c(a)})};b.race=function(a){return new b(function(b,c){for(var h=_pb.ia(a),k=h.next();!k.done;k=h.next())d(k.value).W(b,c)})};b.all=function(a){var c=_pb.ia(a),h=c.next();return h.done?d([]):new b(function(a,b){function k(b){return function(c){m[b]=c;w--;0==w&&a(m)}}var m=[],w=0;do m.push(void 0),w++,d(h.value).W(k(m.length-1),
b),h=c.next();while(!h.done)})};return b});var sd="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(a[h]=d[h])}return a};la("Object.assign",function(a){return a||sd});la("Array.prototype.find",function(a){return a?a:function(a,c){a:{var b=this;b instanceof String&&(b=String(b));for(var h=b.length,k=0;k<h;k++){var m=b[k];if(a.call(c,m,k,b)){b=m;break a}}b=void 0}return b}});
la("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});la("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var h=b.length,k=c||0;for(0>k&&(k=Math.max(k+h,0));k<h;k++){var m=b[k];if(m===a||Object.is(m,a))return!0}return!1}});la("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==ka(this,a,"includes").indexOf(a,c||0)}});
la("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(b){return window.Promise.resolve(a()).then(function(){return b})},function(b){return window.Promise.resolve(a()).then(function(){throw b;})})}});var na=this;var pa=/&/g,qa=/</g,ra=/>/g,sa=/"/g,ta=/'/g,ua=/\x00/g,oa=/[\x00&<>"']/;(0,window.$)(window.document.documentElement).addClass("main-js-loaded");f("pb.utils.getAssetUrl",Ba);_pb.g=_pb.n("#pb-global-data");f("pb.i18n.trans",_pb.q);f("pb.i18n.formatNumber",La);f("pb.i18n.formatMoney",_pb.r);f("pb.i18n.formatDate",_pb.t);f("pb.i18n.formatDateRange",Ma);var td=window.Backbone.Model.extend({defaults:{id:"",cldr:"",datePicker:"",gmaps:""}}),Ja=new (window.Backbone.Collection.extend({model:td}))([{id:"en",cldr:"en-GB",datePicker:"en",gmaps:"en"},{id:"ru",cldr:"ru",datePicker:"ru",gmaps:"ru"}]);window.Globalize.locale(Ka().get("cldr"));
(0,window.$)(".pb-date").each(function(a,b){var c=(0,window.$)(b),d=c.data("without-timezone")?ya(c.data("date")):c.data("date");d=_pb.t(d,c.data("skeleton")||void 0);c.html(d).addClass("js-formatted")});(0,window.$)(".pb-date-range").each(function(a,b){var c=(0,window.$)(b),d=c.data("without-timezone")?ya(c.data("start-date")):c.data("start-date"),h=c.data("without-timezone")?ya(c.data("end-date")):c.data("end-date");d=Ma([d,h],c.data("skeleton")||void 0);c.html(d).addClass("js-formatted")});var ud=window.Mn.Object.extend();ud.prototype.Xb=function(){this.trigger("google_maps_ready")};ud.prototype.triggerGoogleMapsReady=ud.prototype.Xb;var vd=new ud;f("pb.bus",vd);var wd=window.Mn.Object.extend();wd.prototype.get=function(){return _pb.g.platform};var Na=new wd;f("pb.platform",Na);var uc=window.Backbone.AssociatedModel.extend({defaults:function(){return{id:uc.a,email:"",first_name:"",last_name:"",is_staff:!1,is_two_f_a_enabled:!1,is_email_verified:!1,is_id_verified:!1,is_auth_high:!1,auth_level_drop_warning:!1}}});uc.a=-1;uc.create=function(){return new uc(_pb.g.user)};_pb.v=uc.create();f("pb.userModel",_pb.v);var xd=window.Backbone.Model.extend();xd.create=function(){return new xd(_pb.g.urls)};_pb.N=xd.create();f("pb.urlsModel",_pb.N);var yd=window.Backbone.AssociatedModel.extend({defaults:function(){return{GOOGLE_MAP_API_KEY:"",AMPLITUDE_API_KEY:"",DESK_MAX_LENGTH:30,TOTAL_DESK_MAX_LENGTH:90,OFFICE_MAX_LENGTH:14,TOTAL_OFFICE_MAX_LENGTH:30,MAX_RESERVATIONS_24H:10,TWO_F_A_TOKEN_LENGTH:6,ORDER_MIN_PRICE:"",ORDER_DEFAULT_PRICE:"",GAS_LIMIT:"",GAS_PRICE:""}}});yd.create=function(){return new yd(_pb.g.constants)};_pb.O=yd.create();f("pb.constantsModel",_pb.O);var zd=window.Backbone.Model.extend({defaults:{amount:"0",currency:""}});zd.prototype.format=function(a){a=void 0===a?{}:a;return _pb.r(this.get("amount"),this.get("currency"),a)};new function(){0<_pb.v.get("id")&&window.amplitude.getInstance().setUserId(_pb.v.get("id").toString());window.amplitude.getInstance().init(_pb.O.get("AMPLITUDE_API_KEY"),null,{includeReferrer:!0,includeUtm:!0,batchEvents:!1,includeGclid:!0,unsetParamsReferrerOnNewSession:!0})};new function(){window.tippy.setDefaults({duration:[180,180],animateFill:!1,placement:"bottom",maxWidth:320,theme:"dark",arrow:!1,performance:!0,multiple:!0});_pb.P=window.tippy};var Ad=window.Mn.Object.extend();Ad.prototype.initialize=function(){u()&&this.hide()};Ad.prototype.hide=function(){"function"===typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!0})};Ad.prototype.show=function(){"function"===typeof window.Intercom&&window.Intercom("update",{hide_default_launcher:!1})};var Bd=new Ad;f("pb.intercomMessenger",Bd);var Cd=window.Mn.Object.extend();Cd.prototype.getItem=function(a){return a?(0,window.decodeURIComponent)(window.document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+(0,window.encodeURIComponent)(a).replace(/[-.+*]/g,"\\$\x26")+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1"))||null:null};
Cd.prototype.setItem=function(a,b,c,d,h,k){if(!a||/^(?:expires|max-age|path|domain|secure)$/i.test(a))return!1;var m="";if(c)switch(c.constructor){case Number:m=window.Infinity===c?"; expires\x3dFri, 31 Dec 9999 23:59:59 GMT":"; max-age\x3d"+c;break;case String:m="; expires\x3d"+c;break;case Date:m="; expires\x3d"+c.toUTCString()}window.document.cookie=(0,window.encodeURIComponent)(a)+"\x3d"+(0,window.encodeURIComponent)(b)+m+(h?"; domain\x3d"+h:"")+(d?"; path\x3d"+d:"")+(k?"; secure":"");return!0};
Cd.prototype.keys=function(){for(var a=window.document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),b=a.length,c=0;c<b;c++)a[c]=(0,window.decodeURIComponent)(a[c]);return a};var Dd=new Cd;f("pb.docCookies",Dd);var Ed=window.Mn.Object.extend();Ed.prototype.initialize=function(){_pb.x("page-view");(0,window.$)("body").on("click","[data-track-name]",function(a){a=(0,window.$)(a.currentTarget).data();var b={page:Ha()};a.trackContext&&(b.context=a.trackContext);_pb.x(a.trackName,b)})};new Ed;var Pa=new function(){this.a=Ha()};new function(){var a=window.mdc.autoInit["default"];a.register("MDCRipple",window.mdc.ripple.MDCRipple);a.register("MDCTextField",window.mdc.textfield.MDCTextField);a.register("MDCSelect",window.mdc.select.MDCSelect);a.register("MDCCheckbox",window.mdc.checkbox.MDCCheckbox);window.mdc.autoInit["default"]()};_pb.J=window.Mn.View.extend();_pb.J.b="pb-snackbar";_pb.J.a="pb-snackbar--style-danger";_pb.J.f="pb-snackbar--style-above-sticky";_pb.J.g="pb-snackbar--style-above-sticky-high";_pb.J.c=3E3;_pb.J.prototype.show=function(a){var b=a.customClass;window.Snackbar.show(Object.assign({},a,{showAction:!1,pos:a.pos||"bottom-center",duration:a.duration||_pb.J.c,customClass:b?_pb.J.b+" "+b:_pb.J.b}))};_pb.I=new _pb.J;var Fd=window.Mn.View.extend({ui:{closeButton:".close-button"}});Fd.prototype.events=function(){var a=this;return{"click @ui.closeButton":function(){return a.hide()}}};Fd.prototype.initialize=function(){this.show()};Fd.prototype.show=function(){window.localStorage.getItem("cookie_banner_closed")||this.$el.removeClass("pb-hidden")};Fd.prototype.hide=function(){this.$el.addClass("pb-hidden");window.localStorage.setItem("cookie_banner_closed",!0)};new Fd({el:(0,window.$)(".cookie-banner")});var Gd=window.Mn.View.extend({ui:{hint:".label .hint"}});Gd.prototype.initialize=function(){var a=this.getUI("hint").data("currency");(0,_pb.P)(this.getUI("hint")[0],{content:_pb.q("estimated_price_per_day_hint",{currency:a})})};z(".price-widget",function(a){a.each(function(a,c){var b=(0,window.$)(c);new Gd({el:b})})});_pb.kb=window.Mn.View.extend({className:"pb-circular-progress",template:window._.template('\n    \x3csvg class\x3d"progress-svg" viewBox\x3d"22 22 44 44"\x3e\n        \x3ccircle class\x3d"progress-circle" cx\x3d"44" cy\x3d"44" r\x3d"20.2"\x3e\x3c/circle\x3e\n    \x3c/svg\x3e\n  ')});_pb.kb.prototype.initialize=function(){this.render();this.$el.appendTo(this.options.appendTo)};_pb.B=window.Mn.View.extend();_pb.B.b="pb-button-with-progress";_pb.B.a="progress-visible";_pb.B.prototype.initialize=function(){this.$el.addClass(_pb.B.b);new _pb.kb({appendTo:this.$el})};_pb.F=window.Mn.View.extend({ui:{submitButton:"button:submit"}});_pb.F.b="pb-ajax-form";_pb.F.a="pb-ajax-form-submitting";_pb.F.prototype.initialize=function(){this.b=!1;this.a=this.$el.attr("action")||"";this.f=this.options.m||this.getUI("submitButton");this.c=new _pb.B({el:this.f});this.$el.addClass(_pb.F.b);Ra(this)};_pb.F.prototype.events=function(){var a=this;return{submit:function(b){b.preventDefault();_pb.Va(a)}}};_pb.Ya=window.Mn.Object.extend();_pb.Ya.a=1E3;_pb.Ya.prototype.initialize=function(){this.S=this.options.time;this.b=1E3*Math.round((new Date).getTime()/1E3)+this.S;this.a=0;this.za=!1;Xa(this)};_pb.Ya.prototype.stop=function(){(0,window.clearTimeout)(this.a);this.za=!0};var Hd=window.Backbone.AssociatedModel.extend({relations:[{key:"price",type:window.Backbone.One,relatedModel:function(){return zd}},{key:"price_alt",type:window.Backbone.One,relatedModel:function(){return zd}}],defaults:{price:{},price_alt:{}}});var Jd=window.Backbone.Collection.extend({model:function(a,b){return new Id(a,b)},modelId:function(a){return a.date}});Jd.create=function(a){return new Jd([],{Zb:a})};Jd.prototype.initialize=function(a,b){var c=this;this.a=b.Zb;this.Y=!1;this.on("sync",function(){c.Y=!0})};Jd.prototype.url=function(){return _pb.N.get("api:calendar").replace("0000",this.a)};
var Id=window.Backbone.AssociatedModel.extend({idAttribute:"date",relations:[{key:"price_desk",type:window.Backbone.One,relatedModel:function(){return Hd}},{key:"price_office",type:window.Backbone.One,relatedModel:function(){return Hd}},{key:"events",type:window.Backbone.Many,collectionType:function(){return Id.b}}],defaults:{price_desk:{},price_office:{},events:[],date:"1900-01-01",is_day_off:!1,is_desk_available:!0,is_office_available:!0}});
Id.prototype.ta=function(a){return(0,window.parseFloat)(ab(this,a).get("price").get("amount"))||0};Id.prototype.sa=function(a){return(0,window.parseFloat)(ab(this,a).get("price_alt").get("amount"))||0};Id.b=window.Backbone.Collection.extend({model:function(a){return new Id.a(a,{parse:!0})}});Id.b.prototype.toString=function(){return this.map(function(a){return a.toString()}).join(_pb.q("datepicker_day_events_delimiter"))};
Id.a=window.Backbone.AssociatedModel.extend({defaults:{name:"",dt_start:"1900-01-01",dt_end:"1900-01-01",duration:0,for_calendar_only:!1}});Id.a.prototype.parse=function(a){return window._.extend({},a,{dt_start:ya(a.dt_start),dt_end:ya(a.dt_end),duration:(0,window.parseInt)(a.duration,10)/60})};Id.a.prototype.toString=function(){return this.get("for_calendar_only")?this.get("name"):_pb.q("datepicker_day_event",{name:this.get("name"),start:_pb.t(this.get("dt_start"),"jm")})};_pb.G=window.Mn.View.extend({ui:{input:".mdc-text-field__input",label:".mdc-floating-label",ripple:".mdc-line-ripple"}});_pb.G.b="pb-date-picker";_pb.G.a="pb-date-picker-dropdown";_pb.e=_pb.G.prototype;
_pb.e.initialize=function(){var a=this;this.i=this.options.ac||null;this.K=[];this.f=jb(this);this.c=gb(this);this.g=!1;this.b=this.a=null;this.o=lb(this);this.h=new window.mdc.textfield.MDCTextField(this.$el[0]);qb(this);rb(this,!0);this.getUI("input").focus(function(b){a.getUI("input").blur();b.relatedTarget||(a.h.valid=!0)});this.$el.addClass(_pb.G.b);nb(this)};
_pb.e.events=function(){var a=this;return{"datepicker-change":this.Kb,"datepicker-open":this.Gb,"datepicker-opened-and-positioned":this.Ub,"datepicker-close":this.Cb,"datepicker-show-month":function(b,c){if(a.c)if((0,window.$)(".day.unavailable",a.c.getDatePicker()).off("click"),a.f.startDate&&"month1"===c.month){var d=(0,window.moment)(c.date).subtract(1,"month").endOf("month").isBefore(a.f.startDate);(0,window.$)(".prev button",a.c.getDatePicker()).prop("disabled",d)}else a.f.endDate&&"month2"===
c.month&&(d=(0,window.moment)(c.date).add(1,"month").startOf("month").isAfter(a.f.endDate),(0,window.$)(".next button",a.c.getDatePicker()).prop("disabled",d))},"datepicker-first-date-selected":this.Eb}};_pb.e.u=function(){if(this.a&&this.b){var a=tb(this.a,this.b);return cb(this,a)}return this.a&&!this.b?[this.a.format("YYYY-MM-DD")]:[]};_pb.e.xa=function(a,b){b?this.c.setDateRange(a,b):this.setStart(a)};_pb.e.setStart=function(a){this.c.setStart(a)};_pb.e.open=function(){this.c.open()};
_pb.e.close=function(){this.c.close()};_pb.e.onDestroy=function(){ob()};_pb.e.Kb=function(a,b){this.a=b.date1?(0,window.moment)(b.date1,window.moment.ISO_8601):null;this.b=b.date2?(0,window.moment)(b.date2,window.moment.ISO_8601):null;qb(this);rb(this);this.trigger("changed",this.u());this.trigger("start_date_chaged",this.a);this.trigger("end_date_changed",this.b)};_pb.e.Eb=function(a,b){this.a=b.date1?(0,window.moment)(b.date1,window.moment.ISO_8601):null;this.trigger("start_date_chaged",this.a)};
_pb.e.Gb=function(){this.g=!0;this.getUI("ripple").addClass("mdc-line-ripple--active").removeClass("mdc-line-ripple--deactivating");this.trigger("opened")};_pb.e.Cb=function(){this.g=!1;rb(this);this.getUI("ripple").removeClass("mdc-line-ripple--active");this.trigger("closed")};_pb.e.Ub=function(){this.g&&!this.options.J.alwaysOpen&&(this.c.getDatePicker().finish(),mb(this))};var Kd=window.Mn.Object.extend();Kd.prototype.initialize=function(){this.a={}};Kd.prototype.get=function(a){var b,c,d=new window.Promise(function(a,d){return b=a,c=d}),h=this.a[a.toString()]||null;if(h)if(h.Y)b(h);else h.on("sync",function(){b(h)});else{var k=Jd.create(a);k.fetch().done(function(){return b(k)}).fail(function(a){return c(a)});this.a[a.toString()]=k}return d};var Ld=new Kd;var Md=window.Mn.Object.extend();Md.prototype.load=function(a,b,c){b.o.show();return Ld.get(a).then(function(a){a=c?c(a):Za(a);eb(b,a)})["finally"](function(){b.o.hide()})};_pb.Nd=new Md;var Od=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".request-tour-form",textFields:".mdc-text-field",selectFields:".mdc-select",workspaceSelect:"select[name\x3dworkspace]",dateInput:".date-input",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field",closeDialogButton:".close-dialog-button",visitDateField:".visit-date-field"}});_pb.e=Od.prototype;
_pb.e.initialize=function(){var a=this;this.i=this.getUI("textFields").map(function(a,c){return new window.mdc.textfield.MDCTextField(c)}).get();this.b=_pb.P.one(this.getUI("agreementCheckbox")[0],{content:_pb.q("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.f=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.f;this.h=this.getUI("selectFields").map(function(a,
c){return new window.mdc.select.MDCSelect(c)}).get();this.g=new _pb.G({el:this.getUI("dateInput"),Ab:"request-tour-dialog-date-picker",J:{singleDate:!0,startDate:_pb.l().format("YYYY-MM-DD"),endDate:_pb.l().add(3,"months").format("YYYY-MM-DD"),container:u()?this.getUI("visitDateField")[0]:"body"}});this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.c=new _pb.F({el:this.getUI("form"),v:function(){var b=a.getUI("form").serializeJSON(),c=a.g.u(),d=a.getUI("form").find("[name\x3dvisit_time]").val().trim();
window._.extend(b,{visit_datetime:c+"T"+d});return b}});wb(this)};_pb.e.events=function(){var a=this;return{"change @ui.workspaceSelect":this.Qa,"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.e.show=function(a){window._.isUndefined(a)||this.getUI("workspaceSelect").val(a);this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);u()&&Bd.hide();this.Qa()};
_pb.e.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);u()&&Bd.show()};_pb.e.Qa=function(){_pb.Nd.load((0,window.parseInt)(this.getUI("workspaceSelect").val(),10),this.g)};_pb.e.Na=function(){this.hide();_pb.I.show({text:_pb.q("request_tour_message_success")});_pb.x("request-tour-submit-success");vb(this)};var Pd=z(".request-tour-dialog:not(.custom)",function(a){return new Od({el:a})});var Qd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".newsletter-form",newsletterTextField:".newsletter-text-filed",subscribeButton:".subscribe-button",closeDialogButton:".close-dialog-button"}});Qd.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};
Qd.prototype.initialize=function(){this.c=new window.mdc.textfield.MDCTextField(this.getUI("newsletterTextField")[0]);this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.b=new _pb.F({el:this.getUI("form"),m:this.getUI("subscribeButton")});xb(this)};Qd.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);u()&&Bd.hide()};Qd.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);u()&&Bd.show()};
var Rd=z(".newsletter-dialog",function(a){return new Qd({el:a})});var Sd=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".new-terms-form",logoutLink:".logout-link",acceptButton:".accept-button"}});Sd.prototype.events=function(){return{"click @ui.logoutLink":function(a){a.preventDefault();_pb.x("logout-link-click",{context:"main-menu"});fc()}}};
Sd.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.a.foundation_.cancel=function(){};this.a.escapeKeyAction="";this.a.scrimClickAction="";this.b=new _pb.F({el:this.getUI("form"),m:this.getUI("acceptButton"),v:function(){return""}});zb(this)};Sd.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);u()&&Bd.hide()};Sd.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);u()&&Bd.show()};
var Td=z(".new-terms-dialog",function(a){return new Sd({el:a})});Td&&Td.show();var Ud=window.Mn.View.extend({ui:{dialogSurface:".mdc-dialog__surface",form:".newsletter-and-terms-form",textFields:".newsletter-and-terms-text-field",subscribeButton:".subscribe-button",closeDialogButton:".close-dialog-button",acceptTerms:"#terms-checkbox"}});
Ud.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0]);window.localStorage.setItem("newsletter_and_terms_dialog_closed",!0)},"change @ui.acceptTerms":function(b){b.target.checked?a.getUI("subscribeButton").removeAttr("disabled"):a.getUI("subscribeButton").attr("disabled","true")}}};
Ud.prototype.initialize=function(){this.c=this.getUI("textFields").map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get();this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.b=new _pb.F({el:this.getUI("form"),m:this.getUI("subscribeButton")});Cb(this)};Ud.prototype.show=function(){this.getUI("subscribeButton").attr("disabled","true");this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0]);u()&&Bd.hide()};
Ud.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0]);u()&&Bd.show();window.localStorage.setItem("newsletter_and_terms_dialog_closed",!0)};var Vd=z(".newsletter-and-terms-dialog",function(a){return new Ud({el:a})});Vd&&!window.localStorage.getItem("newsletter_and_terms_dialog_closed")&&(0,window.setTimeout)(Vd.show.bind(Vd),1E4);var Wd=window.Mn.View.extend({ui:{container:".container",items:".item",nav:".nav",prev:".prev-button",next:".next-button"}});Wd.prototype.initialize=function(){var a=this.getUI("items").length;this.a=0;this.b=a/this.options.B-1;a>this.options.B?(Db(this),Eb(this)):this.getUI("nav").hide()};
Wd.prototype.events=function(){var a=this;return{"click @ui.prev":function(){var b=a.a-1;Fb(a,0<=b?b:0);Gb(a,"prev");a.getUI("prev").blur()},"click @ui.next":function(){var b=a.a+1;Fb(a,b<=a.b?b:a.b);Gb(a,"next");a.getUI("next").blur()}}};var Xd=window.Mn.View.extend({ui:{textField:".mdc-text-field",menu:".mdc-menu",items:".mdc-list-item",input:".input",value:".value",trigger:".trigger"}});_pb.e=Xd.prototype;
_pb.e.initialize=function(){var a=this;this.a=new window.mdc.menu.MDCMenu(this.getUI("menu")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.BOTTOM_LEFT);this.a.a=!0;this.getUI("items").click(function(b){var c=(0,window.$)(b.currentTarget);b=a.u();var d=c.data("value");c=c.html();b!==d&&(a.getUI("value").val(d),a.getUI("input").val(c),a.trigger("changed",d));a.a.open=!1})};_pb.e.events=function(){return{"click @ui.textField":this.toggle}};
_pb.e.open=function(){this.b||this.a.open||(this.a.open=!0,this.trigger("opened"))};_pb.e.close=function(){this.a.open&&(this.a.open=!1,this.trigger("closed"))};_pb.e.toggle=function(){this.a.open?this.close():this.open()};_pb.e.u=function(){return this.getUI("value").val()};var Yd=window.Mn.View.extend({ui:{item:".social-link"}});Yd.prototype.events=function(){return{"click @ui.item":function(a){a.preventDefault();a=(0,window.$)(a.currentTarget).attr("href");window.open(a,"shareWindow","height\x3d450, width\x3d550, top\x3d100, left\x3d100,\n    toolbar\x3d0, location\x3d0, menubar\x3d0, directories\x3d0, scrollbars\x3d0");return!1}}};z(".pb-share-links",function(a){a.each(function(a,c){new Yd({el:(0,window.$)(c)})})});var Q=window.Mn.View.extend();Q.prototype.initialize=function(){this.g=this.$el.parents(".mdc-dialog__surface");this.f=Ib(this);this.c=Jb(this)};var K={G:"sign_in",oa:"sign_up",qa:"verify_email",Fa:"verify_email-success",Ea:"verify_email-error",na:"password_reset_request",ma:"password_reset_confirm",H:"2fa",pa:"2fa_recovery_code"};_pb.e=Q.prototype;_pb.e.show=function(){this.$el.show();this.O();return this.a=new window.Mn.Object};_pb.e.hide=function(){this.$el.hide()};_pb.e.O=function(){Hb(this)};
_pb.e.M=function(){};_pb.e.aa=function(a){a=_pb.p(a.j);Mb(this);this.g.effect("shake");_pb.I.show({text:a?a.message:_pb.q("snackbar_generic_error"),customClass:_pb.J.a})};var Ub=Q.extend({ui:{form:".auth-sign-in-form",submitButton:".auth-primary-button",passwordResetButton:".password-reset-button",signUpLeadButton:".auth-secondary-button"}});Ub.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options);Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton")})};Ub.prototype.events=function(){var a=this;return{"click @ui.passwordResetButton":function(){a.a.trigger("password_reset")},"click @ui.signUpLeadButton":function(){a.a.trigger("sign_up")}}};
Ub.prototype.M=function(a){a=a.l;_pb.v.set({id:a.id,email:a.email});_pb.N.set({"api:bookings":"/api/users/"+_pb.v.get("id")+"/bookings/"});Oa();this.a.trigger("success")};Ub.prototype.aa=function(a){Mb(this);_pb.x("sign-in-failed");(a=_pb.p(a.j))&&a.code&&"invalid_otp_token"===a.code?(a=this.getUI("form").serializeJSON(),this.model.set({email:a.email,password:a.password}),this.a.trigger("two_f_a")):(this.g.effect("shake"),_pb.I.show({text:a?a.message:_pb.q("sign_in_error"),customClass:_pb.J.a}))};var bc=Q.extend({ui:{form:".auth-sign-up-form",passwordInput:".field__password input:password",toggleShowPassword:".show-password, .hide-password",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button",agreementCheckbox:'.agreement-checkbox input[type\x3d"checkbox"]'}});
bc.prototype.initialize=function(){var a=this;Q.prototype.initialize.call(this,this.options);this.b=_pb.P.one(this.getUI("agreementCheckbox")[0],{content:_pb.q("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.h=Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton")});this.h.on("validation_error",function(){a.getUI("agreementCheckbox").prop("checked")||a.b.show()})};
bc.prototype.events=function(){var a=this;return{"click @ui.toggleShowPassword":function(a){a=(0,window.$)(a.currentTarget).parents(".mdc-text-field");var b=(0,window.$)(".mdc-text-field__input",a);b.attr("type",b.is(":text")?"password":"text");(0,window.$)(".show-password, .hide-password",a).toggle()},"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};bc.prototype.M=function(){Mb(this);var a=this.getUI("form").serializeJSON();this.model.set({email:a.email});this.a.trigger("success")};
bc.prototype.aa=function(a){Q.prototype.aa.call(this,a);_pb.x("sign-up-failed")};var Vb=Q.extend({ui:{emailValue:".verify-email-value",gotItButton:".auth-primary-button"}});Vb.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options);Nb(this)};Vb.prototype.events=function(){var a=this;return{"click @ui.gotItButton":function(){a.a.trigger("success")}}};Vb.prototype.O=function(){Nb(this)};var Wb=Q.extend({ui:{primaryButton:".auth-primary-button",secondaryButton:".auth-secondary-button"}});Wb.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options)};Wb.prototype.events=function(){var a=this;return{"click @ui.primaryButton":function(){a.a.trigger("sign_in")},"click @ui.secondaryButton":function(){a.a.trigger("success")}}};var Xb=Q.extend({ui:{primaryButton:".auth-primary-button"}});Xb.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options)};Xb.prototype.events=function(){var a=this;return{"click @ui.primaryButton":function(){a.a.trigger("success")}}};var Yb=Q.extend({ui:{form:".auth-password-reset-request-form",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button"}});Yb.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options);Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton")})};Yb.prototype.events=function(){var a=this;return{"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};Yb.prototype.M=function(){Mb(this);this.a.trigger("confirm")};var Zb=Q.extend({ui:{form:".auth-password-reset-confirm-form",passwordInput:".field__password input:password",toggleShowPassword:".show-password, .hide-password",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button"}});Zb.prototype.initialize=function(){Q.prototype.initialize.call(this,this.options);Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton")})};
Zb.prototype.events=function(){var a=this;return{"click @ui.toggleShowPassword":function(b){b=(0,window.$)(b.currentTarget).parents(".mdc-text-field");var c=a.getUI("passwordInput");c.attr("type",c.is(":text")?"password":"text");(0,window.$)(".show-password, .hide-password",b).toggle()},"click @ui.signInLeadButton":function(){a.a.trigger("sign_in")}}};Zb.prototype.M=function(){Mb(this);this.a.trigger("success")};var $b=Q.extend({ui:{form:".auth-two-f-a-form",submitButton:".auth-primary-button",signInLeadButton:".auth-secondary-button",recoveryCodeLeadButton:".recovery-code-lead"}});$b.prototype.initialize=function(){var a=this;Q.prototype.initialize.call(this,this.options);Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton"),v:function(){return window._.extend(a.getUI("form").serializeJSON(),{email:a.model.get("email"),password:a.model.get("password")})}})};
$b.prototype.events=function(){var a=this;return{"click @ui.recoveryCodeLeadButton":function(){a.a.trigger("recovery_code")},"click @ui.signInLeadButton":function(){a.a.trigger("cancel")}}};$b.prototype.O=function(){Q.prototype.O.call(this);this.$el.find("[name\x3dtoken]").focus()};$b.prototype.M=function(a){a=a.l;_pb.v.set({id:a.id,email:a.email});_pb.N.set({"api:bookings":"/api/users/"+_pb.v.get("id")+"/bookings/"});Oa();Mb(this);this.a.trigger("success")};var ac=Q.extend({ui:{form:".auth-two-f-a-recovery-code-form",submitButton:".auth-primary-button",backButton:".auth-secondary-button"}});ac.prototype.initialize=function(){var a=this;Q.prototype.initialize.call(this,this.options);Lb(this,{el:this.getUI("form"),m:this.getUI("submitButton"),v:function(){return window._.extend(a.getUI("form").serializeJSON(),{email:a.model.get("email"),password:a.model.get("password")})}})};ac.prototype.events=function(){var a=this;return{"click @ui.backButton":function(){a.a.trigger("cancel")}}};
ac.prototype.O=function(){Q.prototype.O.call(this);this.$el.find("[name\x3dreserve_code]").focus()};ac.prototype.M=function(){Mb(this);this.a.trigger("success")};var L=window.Mn.View.extend({el:".pb-auth-dialog",ui:{signIn:".view_sign-in",signUp:".view_sign-up",verifyEmail:".view_verify-email",verifyEmailSuccess:".view_verify-email-success",verifyEmailError:".view_verify-email-error",passwordResetRequest:".view_password-reset-request",passwordResetConfirm:".view_password-reset-confirm",twoFA:".view_two-f-a",twoFARecoveryCode:".view_two-f-a-recovery-code",closeDialogButton:".close-dialog-button"}});
L.prototype.initialize=function(){var a=this;this.model=new L.Model;this.c=new window.mdc.dialog.MDCDialog(this.$el[0]);this.b=cc(this);this.f=Ob(this);(0,window.setTimeout)(function(){return Qb(a)})};L.b="verify-email-success";L.a="verify-email-error";L.prototype.modelEvents=function(){var a=this;return{"change:currentView":function(){var b=a.model.get("currentView");null===b?a.hide():(ec(a,b),_pb.x("auth-view-shown",{id:b}))}}};
L.prototype.events=function(){var a=this;return{"MDCDialog:cancel":function(){return a.model.set("currentView",null)},"click @ui.closeDialogButton":this.hide}};L.prototype.hide=function(){this.c.close();this.model.set("currentView",null);window.bodyScrollLock.enableBodyScroll(this.$el[0]);this.a&&this.a.reject()};L.Model=window.Backbone.Model.extend({defaults:function(){return{currentView:null,email:"",password:""}}});var Rb=z(".pb-auth-dialog",function(a){return new L({el:a})});var Zd=window.Mn.View.extend();Zd.prototype.initialize=function(){Tb()};_pb.y("sign_in",function(){new Zd});var $d=window.Mn.View.extend();$d.prototype.initialize=function(){gc().done(function(){var a=L.b;_pb.Ca(_pb.N.get("primalbase:home"),a)}).fail(function(){var a=L.a;_pb.Ca(_pb.N.get("primalbase:home"),a)})};_pb.y("confirm_email",function(){new $d});var ae=window.Mn.View.extend({el:(0,window.$)(".pb-main-nav"),ui:{simpleItems:".item.type-simple",menuItems:".item.type-menu",logoutLink:".logout-link",workspacesItem:".item.id__workspaces",howItWorksItem:".item.id__how_it_works",companiesItem:".item.id__companies",aboutItem:".item.id__about",eventsItem:".item.id__events",nextLocationItem:".item.id__next_location",myBookingsItem:".item.id__my_bookings",accountItem:".item.id__account"}});
ae.prototype.initialize=function(){0!==this.$el.length&&(this.getUI("simpleItems").each(function(a,b){new ae.a({el:(0,window.$)(b)})}),this.getUI("menuItems").each(function(a,b){new ae.Da({el:(0,window.$)(b)})}))};
ae.prototype.events=function(){return{"click @ui.logoutLink":function(a){a.preventDefault();_pb.x("logout-link-click",{context:"main-menu"});fc()},"mouseenter @ui.workspacesItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("workspaces-link-hover",{context:"main-menu"})},"mouseenter @ui.howItWorksItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("how_it_works-link-hover",{context:"main-menu"})},"mouseenter @ui.companiesItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&
_pb.x("companies-link-hover",{context:"main-menu"})},"mouseenter @ui.aboutItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("about-link-hover",{context:"main-menu"})},"mouseenter @ui.eventsItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("events-link-hover",{context:"main-menu"})},"mouseenter @ui.nextLocationItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("next_location-link-hover",{context:"main-menu"})},"mouseenter @ui.myBookingsItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&
_pb.x("my_bookings-link-hover",{context:"main-menu"})},"mouseenter @ui.accountItem":function(a){(0,window.$)(a.target).hasClass("item-holder")&&_pb.x("account-link-hover",{context:"main-menu"})}}};ae.a=window.Mn.View.extend({ui:{holder:".item-holder"}});ae.a.prototype.initialize=function(){new window.mdc.ripple.MDCRipple(this.getUI("holder")[0])};ae.Da=window.Mn.View.extend({ui:{holder:".item-holder",menu:".mdc-menu",items:".mdc-list-item",staticItems:".static-item"}});_pb.e=ae.Da.prototype;
_pb.e.initialize=function(){this.b=hc(this);this.c=new window.mdc.ripple.MDCRipple(this.getUI("holder")[0]);this.$el.hasClass("id__account")&&(this.c.unbounded=!0);this.a=null};_pb.e.events=function(){return{"mouseenter @ui.holder":this.Vb,mouseleave:this.$el.hasClass("id__account")?this.Tb:this.Ka,"mouseenter @ui.menu":this.Ia,"click @ui.holder, @ui.staticItems":function(a){a.stopPropagation()}}};_pb.e.Vb=function(){window.document.activeElement.blur();this.b.show();this.$el.addClass("opened");this.Ia()};
_pb.e.Ka=function(){this.b.hide();this.$el.removeClass("opened")};_pb.e.Tb=function(){var a=this;this.a=(0,window.setTimeout)(function(){a.Ka()},150)};_pb.e.Ia=function(){this.a&&((0,window.clearTimeout)(this.a),this.a=null)};var be=window.Mn.View.extend();be.prototype.initialize=function(){new ae};be.prototype.events=function(){return{"click .header-sign-in-button":function(){_pb.x("login-button-click",{context:"main-menu"});Tb()},"click .header-sign-up-button":function(){_pb.x("signup-button-click",{context:"main-menu"});Pb(Rb,"sign_up")}}};z(".pb-header",function(a){return new be({el:a})});var ce=window.Mn.View.extend({ui:{leasingLink:".leasing-link",myWalletsLink:".my-wallets-link",settingsGeneralLink:".settings-general",settingsPrivacyRightsLink:".settings-privacy_rights",legalTermsLink:".legal-terms_of_use",legalPrivacyPolicyLink:".legal-privacy_policy",legalCookiesLink:".legal-cookies",legalArchiveLink:".legal-archive"}});
ce.prototype.events=function(){return{"click @ui.leasingLink":function(){_pb.x("leasing-link-click")},"click @ui.myWalletsLink":function(){_pb.x("my-wallets-link-click")},"click @ui.settingsGeneralLink":function(){_pb.x("settings-general-link-click")},"click @ui.settingsPrivacyRightsLink":function(){_pb.x("settings-privacy-rights-link-click")},"click @ui.legalTermsLink":function(){_pb.x("legal-terms-link-click")},"click @ui.legalPrivacyPolicyLink":function(){_pb.x("legal-privacy-policy-link-click")},
"click @ui.legalCookiesLink":function(){_pb.x("legal-cookies-link-click")},"click @ui.legalArchiveLink":function(){_pb.x("legal-archive-link-click")}}};z(".pb-content-nav",function(a){return new ce({el:a})});var de=window.Mn.View.extend({ui:{socialLink:".social-link"}});de.prototype.events=function(){var a=this;return{"click @ui.socialLink":function(b){b=(0,window.$)(b.currentTarget).data("id");_pb.x("social-link-click",{id:b,context:a.getOption("trackContext")})}}};var kc=window.Mn.View.extend({ui:{form:".newsletter-form",subscribeButton:".subscribe-pseudo-button",newsletterTextField:".newsletter-text-filed",success:".newsletter-form-success",siteVersionSwitchButton:".site-version-switch-button"}});kc.a=5E3;kc.prototype.events=function(){return{"click @ui.siteVersionSwitchButton":function(a){Dd.setItem("mobile_mode","desktop"===a.target.dataset.version?"1":"0","Infinity","/");window.location.reload(!0)}}};
kc.prototype.initialize=function(){new de({el:this.$el.find(".social-links"),trackContext:"footer"});this.b=new window.mdc.textfield.MDCTextField(this.getUI("newsletterTextField")[0]);this.a=new _pb.F({el:this.getUI("form"),m:this.getUI("subscribeButton")});jc(this)};z(".pb-footer",function(a){return new kc({el:a})});var ee=window.Mn.View.extend({el:(0,window.$)(".homepage-feedbacks"),ui:{switcherItems:".switcher-item",viewport:".viewport",items:".item"}});ee.prototype.initialize=function(){this.a=new Wd({el:this.$el,B:1});lc(this)};ee.prototype.events=function(){var a=this;return{"click @ui.switcherItems":function(b){_pb.x("quote-person-click");var c=(0,window.$)(b.currentTarget).index();a.getUI("switcherItems").removeClass("active");(0,window.$)(b.currentTarget).addClass("active");Fb(a.a,c);lc(a)}}};var fe=window.Backbone.Model.extend({relations:[{key:"calendarDateCollection",type:window.Backbone.Many,collectionType:function(){return Jd}}],defaults:function(){return{workspace_id:0,place:"shared_desk",dates:[],start_date:"",end_date:"",payment_method:"COINS",prices:{},alt_currency:"",datesData:[],open_for_booking:!1,coins_booking_allowed:!1,office_coins_booking_allowed:!0,slug:"",today_booking_limit_time:null,submitting:!1}}});
fe.create=function(){var a=_pb.n("#book-process-data"),b=_pb.n("#user-bookings");a=window._.extend(a,{calendarDateCollection:Jd.create(a.workspace_id),userBookings:b});return new fe(a)};fe.prototype.fetch=function(){var a=this;return this.get("calendarDateCollection").fetch().done(function(){return a.trigger("fully_fetched")})};fe.prototype.toJSON=function(){return{workspace:this.get("workspace_id"),dates:this.get("dates"),payment_method:this.get("payment_method"),type:this.get("place")}};
fe.prototype.ta=function(){var a=mc(this),b=this.get("place"),c=this.get("prices")[b];return this.get("calendarDateCollection").Y&&a.length?a.reduce(function(a,c){return a+c.ta(b)},0):c.eth};fe.prototype.sa=function(){var a=mc(this),b=this.get("place"),c=this.get("prices")[b];return this.get("calendarDateCollection").Y&&a.length?a.reduce(function(a,c){return a+c.sa(b)},0):c.alt};var ge=window.Mn.View.extend({ui:{menu:".mdc-menu",items:".mdc-menu .mdc-list-item",input:".input",value:".value .text",trigger:".trigger",inner:".inner"}});ge.prototype.initialize=function(){var a=this;this.a=new window.mdc.menu.MDCMenu(this.getUI("menu")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.TOP_START);this.a.a=!0;this.getUI("items").click(function(b){b=(0,window.$)(b.currentTarget).data("value");a.model.set("payment_method",b);a.a.open=!1})};
ge.prototype.events=function(){var a=this;return{"click @ui.inner":function(){a.b||("MEMBERSHIP"==a.getUI("input").val()?a.a.setAnchorMargin({top:-60}):a.a.setAnchorMargin({top:-4}),a.a.open=!a.a.open);_pb.x("booking-form-payment-method-menu-opened",{payment_method:a.getUI("input").val(),"workspace-slug":a.model.get("slug")})}}};var he=window.Mn.View.extend();he.prototype.initialize=function(){var a=this.options.Bb;this.a=new window.mdc.dialog.MDCDialog(a[0]);this.h=a.find(".mdc-dialog__header__title");this.g=a.find(".mdc-dialog__body");this.b=a.find(".mdc-dialog__footer .mdc-button");this.c=this.b.filter(".got-it-button");this.f=this.b.filter(".cancel-button");this.i=this.b.filter(".link-wallet-button")};_pb.rc=window.Mn.View.extend({ui:{accordion:".accordion",closeDialogButton:".close-dialog-button"}});_pb.rc.prototype.events=function(){var a=this;return{"click @ui.closeDialogButton":this.hide,"MDCDialog:cancel":function(){window.bodyScrollLock.enableBodyScroll(a.$el[0])}}};_pb.rc.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.getUI("accordion").accordion({active:!1,collapsible:!0,heightStyle:"content",animate:150})};
_pb.rc.prototype.show=function(){this.a.show();window.bodyScrollLock.disableBodyScroll(this.$el[0])};_pb.rc.prototype.hide=function(){this.a.close();window.bodyScrollLock.enableBodyScroll(this.$el[0])};var ie=window.Mn.View.extend({el:(0,window.$)(".pb-book-process-form"),ui:{form:".form",showHelp:".show-help",paymentMethodField:".payment-method.field",paymentMethodLabelHint:".payment-method.field .label .hint",placeField:".place.field",placeFieldInner:".place .inner",placeFieldInput:".place.field .place-input",placeMenu:".place .dropdown",placeMenuItemSharedDesk:".place .item-shared-desk",placeMenuItemOffice:".place .item-office",dateRangeField:".date-range.field .mdc-text-field",tourRequestButton:".bc-tour-request-button",
submitButton:".submit-button",dateErrorMessage:".error-msg"}});ie.a=14;_pb.e=ie.prototype;
_pb.e.events=function(){var a=this;return{"click @ui.submitButton":function(b){return vc(a,b)},"mouseenter @ui.showHelp":function(){_pb.x("how-to-pay-button-hover",{"workspace-slug":a.model.get("slug")})},"click @ui.showHelp":function(){a.g.show();_pb.x("how-to-pay-button-click",{"workspace-slug":a.model.get("slug")})},"click @ui.placeFieldInner":function(){a.model.get("submitting")||("office"==a.model.get("place")?a.f.setAnchorMargin({left:-8,top:-56}):a.f.setAnchorMargin({left:-8}),a.f.show());
_pb.x("booking-form-payment-menu-opened",{place:a.model.get("place"),"workspace-slug":a.model.get("slug")})},"click @ui.placeMenuItemSharedDesk":function(){tc(a,"shared_desk");_pb.x("booking-form-payment-menu-item-click",{place:"shared_desk","workspace-slug":a.model.get("slug")})},"click @ui.placeMenuItemOffice":function(){tc(a,"office");_pb.x("booking-form-payment-menu-item-click",{place:"office","workspace-slug":a.model.get("slug")})},"mouseenter @ui.paymentMethodLabelHint":function(){_pb.x("estimated-price-hover",
{"workspace-slug":a.model.get("slug")})},"click @ui.dateRangeField":function(){_pb.x("booking-form-date-picker-opened",{"workspace-slug":a.model.get("slug")})},"click @ui.tourRequestButton":function(){Pd.show();_pb.x("request-tour-button-click",{"workspace-slug":a.model.get("slug"),context:"workspace-card"})}}};_pb.e.modelEvents=function(){var a={};return a.change=this.Aa,a["change:dates"]=this.Db,a.fully_fetched=this.Aa,a};
_pb.e.initialize=function(){var a=this;this.c=new _pb.F({el:this.getUI("form"),v:function(){return a.model.toJSON()}});this.a=new _pb.G({el:this.getUI("dateRangeField"),J:{maxDays:this.model.get("max_booking_length"),startDate:_pb.l().format("YYYY-MM-DD"),endDate:_pb.l().add(1,"years").format("YYYY-MM-DD")}});fb(this.a,this.model.attributes.userBookings);this.h=new he({model:this.model,yb:this.getUI("dateRangeField"),zb:this.getUI("dateErrorMessage"),Bb:(0,window.$)(".book-process-error-dialog")});
_pb.P.one(this.getUI("showHelp")[0],{content:_pb.q("booking_form_how_to_pay_tooltip_text"),touch:!1});qc(this);this.model.get("coins_booking_allowed")&&(this.b=new ge({el:this.getUI("paymentMethodField"),model:this.model}));this.f=new window.mdc.menu.MDCMenu(this.getUI("placeMenu")[0]);this.f.setAnchorCorner(window.mdc.menu.Corner.TOP_START);this.f.a=!0;sc(this);this.Aa()};
_pb.e.Aa=function(){if(this.b){var a=this.b,b=a.model.get("payment_method"),c=a.getUI("items").filter('[data-value\x3d"'+b+'"]').html();a.getUI("input").val(b);a.getUI("value").html(c)}a=this.model.get("place");this.getUI("placeFieldInput").val(_pb.q("workplace_"+a));a=this.model.get("dates");b=a[0];1<a.length?this.a.xa(b,a[a.length-1]):1===a.length?this.a.setStart(b):bb(this.a);a=this.a;b=this.model;c=b.get("payment_method");var d=_pb.n("#user-bookings-max-length").max_length,h={};b=(h.shared_desk=
d.shared_desk[c],h.office=d.office[c],h)[b.get("place")];a.f=window._.extend(a.f,{maxDays:b});a.c.destroy();ob();a.c=gb(a);a.o=lb(a);nb(a);a.a&&a.b?(b=a.a.format("YYYY-MM-DD"),c=a.b.format("YYYY-MM-DD"),a.$el.data("dateRangePicker").setDateRange(b,c)):a.a&&!a.b&&(b=a.a.format("YYYY-MM-DD"),a.$el.data("dateRangePicker").setStart(b));a.g&&a.open();a=this.a;b=this.model;b=_pb.$a(b.get("calendarDateCollection"),b.get("place"),b.get("payment_method"));eb(a,b);a=this.getUI("paymentMethodField");b=this.getUI("paymentMethodLabelHint");
var k=this.model.ta();d=this.model.sa();c=this.model;h=c.get("place");var m=c.get("prices")[h].pbt;var w=this.model.get("dates");h=this.model.get("payment_method");c=this.model.get("alt_currency");h="COINS"===h;var A=0<w.length;w=_pb.q("permanent_membership");h&&!A?w=_pb.q("estimated_price_per_day"):h&&A&&(w=_pb.q("estimated_total_price"));k=_pb.r(k,"ETH");d=_pb.q("approx_price",{price:_pb.r(d,c)});m=_pb.r(m,"PBT",{minimumFractionDigits:0});A=_pb.q("free");a.find(".label .text").text(w);a.find(".value .main").text(h?
k:m);a.find(".value .hint").text(h?d:A);a.find(".item-coins .main").text(k);a.find(".item-coins .hint").text(d);a.find(".item-membership .main").text(m);b.toggleClass("pb-hidden",!h);(0,_pb.P)(b[0],{content:_pb.q("estimated_price_per_day_hint",{currency:c}),touch:!1});this.getUI("dateErrorMessage").hide();this.model.get("submitting")?(this.model.get("coins_booking_allowed")&&nc(this.b),this.getUI("placeField").find(".mdc-text-field").addClass("mdc-text-field--disabled"),this.a.h.disabled=!0):(this.model.get("coins_booking_allowed")&&
"office"!==this.model.get("place")&&(a=this.b,a.b=!1,a.$el.removeClass("disabled")),this.getUI("placeField").find(".mdc-text-field").removeClass("mdc-text-field--disabled"),this.a.h.disabled=!1)};_pb.e.Db=function(){var a=this.a;a=a.a&&a.b?tb(a.a,a.b).length:a.a&&!a.b?1:0;"office"===this.model.get("place")&&a>ie.a&&this.i.show()};var je=window.Mn.View.extend({el:(0,window.$)(".action_home"),ui:{tourRequestButton:".tour-request-button",workspaceBooking:".pb-workspace-booking",pressHighlights:".homepage-press",fairPriceHint:".homepage-fair-prices .show-help",newLocationsCard:".new-locations"}});je.prototype.initialize=function(){var a=fe.create();a.get("open_for_booking")&&new ie({model:a});(0,_pb.P)(this.getUI("fairPriceHint")[0],{content:_pb.q("fair_price_tooltip_text")});new ee;new Wd({el:this.getUI("pressHighlights"),B:3})};
je.prototype.events=function(){return{"click @ui.tourRequestButton":function(){Pd.show();_pb.x("request-tour-button-click")},"mouseenter @ui.fairPriceHint":function(){_pb.x("fair-price-hint-hover")},"click @ui.newLocationsCard":function(){Rd.show()}}};_pb.y("home",function(){new je});var ke=window.Mn.View.extend();ke.prototype.initialize=function(){var a=this;this.a=new window.IntersectionObserver(function(b){return wc(a,b)},this.options.Jb);this.options.target.each(function(b,c){a.a.observe(c)})};var R=window.Mn.View.extend({el:(0,window.$)(".pb-workspace-gallery"),ui:{grid:".grid",item:".item",photos:".mdc-image-list__image",openGalleryBtn:".open-gallery-button"}});R.b=function(a){var b=a.data("src");b=(0,window.$)('\x3cimg class\x3d"image"\x3e').attr("src",b);a.append(b)};R.prototype.initialize=function(){this.a=new R.a;new ke({target:this.getUI("photos"),ra:R.b})};
R.prototype.events=function(){var a=this;return{"click @ui.openGalleryBtn":function(){_pb.x("open-gallery-button-click");yc(a.a,void 0)},"click @ui.item":function(b){_pb.x("gallery-card-click");b=(0,window.$)(b.currentTarget).data("id");var c=a.a.$el.find(".gallery[data-section\x3d'"+b+"']").find(".title").text();_pb.x("gallery-popup-shown",{section:Ga(c)});yc(a.a,b)}}};
R.a=window.Mn.View.extend({el:(0,window.$)(".pb-workspace-gallery-popup"),ui:{surface:".mdc-dialog__surface",galleries:".gallery",photos:".photo",closeBtn:".close-button"}});R.a.prototype.initialize=function(){var a=this;this.a=new window.mdc.dialog.MDCDialog(this.$el[0]);this.getUI("surface").on("scroll",function(b){b.target.scrollTop?a.getUI("closeBtn").addClass("floating"):a.getUI("closeBtn").removeClass("floating")});new ke({target:this.getUI("photos"),ra:R.b,Jb:{root:this.getUI("surface")[0]}})};
R.a.prototype.events=function(){return{"click @ui.closeBtn":this.b}};R.a.prototype.b=function(){this.getUI("surface").scrollTop(0);this.a.close()};var Lc={id:0,icon:"md__place__filled",size:64,color:"#f57c00",translate:"-50%, -100%"},le={gridSize:35,styles:[{url:Ba("cluster.svg"),width:40,height:40,textColor:"white",textSize:15}]},Fc=[{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"administrative.country",elementType:"geometry.fill",stylers:[{color:"#fc6e6e"},{visibility:"off"}]},{featureType:"administrative.province",
elementType:"geometry.fill",stylers:[{hue:"#008aff"},{visibility:"off"}]},{featureType:"landscape",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#DCE774"},{visibility:"on"}]},{featureType:"road",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.highway",stylers:[{visibility:"simplified"}]},{featureType:"road.local",
elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"water",stylers:[{color:"#bee0ee"},{visibility:"on"}]}];var me=window.Mn.View.extend({el:(0,window.$)(".pb-workspace-directions"),ui:{captions:".list .caption .value",list:".list",items:".list .item",tabs:".mdc-tab",panels:".panel",indicator:".mdc-tab-bar__indicator",places:".places",placeItems:".place",backBtn:".back-button"}});_pb.e=me.prototype;
_pb.e.events=function(){var a=this;return{"click @ui.tabs":function(b){var c=(0,window.$)(b.currentTarget);b=c.data("section");c=c.data("title");a.model.set({section:b,activeItemId:null});_pb.x("poi-tab-click",{title:Ga(c)})},"click @ui.items":function(b){a.model.set("activeItemId",(0,window.parseInt)((0,window.$)(b.currentTarget).data("id"),10));_pb.x("poi-item-click")},"mouseover @ui.items":function(b){a.model.set("hoveredItemId",(0,window.parseInt)((0,window.$)(b.currentTarget).data("id"),10))},
"mouseout @ui.items":function(){a.model.set("hoveredItemId",null)},"click @ui.backBtn":function(){return a.model.set("activeItemId",null)}}};_pb.e.modelEvents=function(){return{"change:section":this.Wb,"change:activeItemId":this.Pb,"change:hoveredItemId":this.Fb}};
_pb.e.Wb=function(){var a=this.model.previous("section"),b=this.model.get("section"),c=this.getUI("captions").filter('[data-section\x3d"'+a+'"]'),d=this.getUI("captions").filter('[data-section\x3d"'+b+'"]'),h=this.getUI("tabs").filter('[data-section\x3d"'+a+'"]'),k=this.getUI("tabs").filter('[data-section\x3d"'+b+'"]');a=this.getUI("panels").filter('[data-section\x3d"'+a+'"]');b=this.getUI("panels").filter('[data-section\x3d"'+b+'"]');var m=k.data("index");c.add(d).toggleClass("hidden");h.add(k).toggleClass("mdc-tab--active");
a.add(b).toggleClass("hidden");this.getUI("indicator").css("transform","translateX("+100*m+"%)");b.scrollTop(0)};_pb.e.Pb=function(){var a=this.model.get("activeItemId");this.getUI("placeItems").filter(":visible").hide();a?(this.getUI("list").addClass("hidden"),this.getUI("places").removeClass("hidden"),this.getUI("placeItems").filter('[data-id\x3d"'+a+'"]').show().scrollTop(0).find(".back-button")[0].MDCRipple.layout()):(this.getUI("list").removeClass("hidden"),this.getUI("places").addClass("hidden"))};
_pb.e.Fb=function(){var a=this.model.get("hoveredItemId");this.getUI("items").filter(".hovered").removeClass("hovered");this.getUI("items").filter('[data-id\x3d"'+a+'"]').addClass("hovered")};var zc=new function(){this.b=wa("https://maps.googleapis.com/maps/api/js?key\x3d{key}\x26language\x3d{language}\x26libraries\x3dplaces\x26callback\x3d{callback}",{key:_pb.O.get("GOOGLE_MAP_API_KEY"),language:Ka().get("gmaps"),callback:"pb.bus.triggerGoogleMapsReady"});this.a=!1};var Ec=window.Mn.View.extend({el:(0,window.$)(".pb-workspace-map"),ui:{map:".map",directions:".directions"}});Ec.b=13;Ec.a=188;_pb.e=Ec.prototype;_pb.e.initialize=function(){var a=this,b=this.model;new ke({target:this.$el,ra:function(){return Ac()}});vd.on("google_maps_ready",function(){var c=b.get("center"),d=b.get("markers");a.s=Gc(a,c);a.f=Hc(a);a.b=d.map(function(b){return Jc(a,b)});a.g=Mc(a);a.c=new window.MarkerClusterer(a.s,[],le);a.g.show();a.Ja()});new me({model:b});this.a=null};
_pb.e.modelEvents=function(){return{"change:section":this.Ja,"change:activeItemId":this.Qb,"change:hoveredItemId":this.Ra}};_pb.e.Ja=function(){var a=this,b=this.model.get("section");this.b.forEach(function(c){c.model.get("section")===b?(c.show(),a.c.addMarker(c)):(c.hide(),a.c.removeMarker(c))})};
_pb.e.Qb=function(){var a=this.model.get("markers"),b=this.model.get("activeItemId");b?(a=Bc(a.get(b).get("position")),a=Cc(this,a),this.model.previous("activeItemId")||(this.a=this.s.getCenter()),this.s.panTo(a)):this.a&&(this.s.panTo(this.a),this.a=null);this.Ra()};_pb.e.Ra=function(){var a=this.model.get("activeItemId"),b=this.model.get("hoveredItemId");this.b&&this.b.forEach(function(c){c.Yb({active:c.model.get("id")===a,hovered:c.model.get("id")===b})})};
vd.on("google_maps_ready",function(){Ic.prototype=new window.google.maps.OverlayView;Ic.prototype.onAdd=function(){var a=this,b=this.model.get("id"),c=this.model.get("icon"),d=this.model.get("size"),h=this.model.get("color"),k=this.model.get("translate");this.Z=(0,window.$)('\x3cdiv class\x3d"marker '+(0===b?"location":"poi")+'"\x3e').append('\x3csvg class\x3d"pb-icon"\x3e\x3cuse xlink:href\x3d"#icon-'+c+'"\x3e\x3c/use\x3e\x3c/svg\x3e').css({width:d+"px",height:d+"px",transform:"translate("+k+")",
color:h});["click","mouseover","mouseout"].forEach(function(b){return window.google.maps.event.addDomListener(a.Z[0],b,function(){window.google.maps.event.trigger(a,b)})});this.getPanes().floatPane.appendChild(this.Z[0])};Ic.prototype.draw=function(){var a=this.model.get("position");(a=this.getProjection().fromLatLngToDivPixel(Bc(a)))&&(0,window.$)(this.Z).toggleClass("active",this.Ga).toggleClass("hovered",this.La).css({left:a.x,top:a.y})};Ic.prototype.show=function(){this.setMap(this.s)};Ic.prototype.hide=
function(){this.setMap(null)};Ic.prototype.Yb=function(a){this.Ga=a.active;this.La=a.hovered;this.map&&this.draw()};Ic.prototype.getPosition=function(){return Bc(this.model.get("position"))};Ic.prototype.onRemove=function(){this.Z.remove()}});var ne=window.Backbone.Model.extend({defaults:{lat:0,lng:0}});var oe=window.Backbone.Collection.extend({model:function(a){return new Kc(a)},modelId:function(a){return a.id}}),Kc=window.Backbone.AssociatedModel.extend({idAttribute:"id",relations:[{key:"position",type:window.Backbone.One,relatedModel:function(){return ne}}],defaults:{id:-1,position:{},icon:"",section:"",title:"",location:"",time_to:"",size:24,color:"rgba(0, 0, 0, 0.6)",translate:"-50%, -50%"}});var pe=window.Backbone.AssociatedModel.extend({relations:[{key:"markers",type:window.Backbone.Many,collectionType:function(){return oe}},{key:"center",type:window.Backbone.One,relatedModel:function(){return ne}}],defaults:function(){return{section:pe.a,activeItemId:null,hoveredItemId:null,center:{},markers:[]}}});pe.a="directions";pe.create=function(){var a=_pb.n("#workspace-map-data");return new pe(a)};var qe=window.Mn.View.extend({el:(0,window.$)(".pb-page"),ui:{nav:".pb-workspace-nav",navTabbar:".pb-workspace-nav .mdc-tab-bar",navTabbarScroller:".pb-workspace-nav .mdc-tab-bar-scroller",navTabbarAnchor:".pb-workspace-nav-sticky-anchor",stickyBookNowButton:".pb-workspace-nav .book-now-button",overviewSection:".pb-workspace-about",amenitiesSection:".pb-workspace-amenities",tourRequestSection:".pb-workspace-tour-request",viewPhotosButton:".pb-workspace-promo .open-gallery-button",showOnMapButton:".pb-workspace-promo .show-on-map-button",
gallerySection:".pb-workspace-gallery",mapSection:".pb-workspace-map",residentsSection:".pb-workspace-residents",otherLocationsSection:".pb-workspace-other-locations",tourRequestButton:".tour-request-button",newsletterButton:".newsletter-button",eventsSection:".pb-workspace-events"}}),Nc={lb:"overview",ib:"gallery",kb:"map",Ta:"amenities",mb:"request_tour",hb:"events",nb:"residents"};
qe.prototype.initialize=function(){this.a=fe.create();this.a.get("open_for_booking")&&new ie({model:this.a});this.getUI("gallerySection").length&&(this.c=new R);this.getUI("mapSection").length&&(this.s=new Ec({model:pe.create()}));this.getUI("residentsSection").length&&this.getUI("residentsSection").hasClass("mode-carousel")&&new Wd({el:this.getUI("residentsSection"),B:4});this.getUI("otherLocationsSection").length&&new Wd({el:this.getUI("otherLocationsSection"),B:3});this.a.get("open_for_booking")&&
Pc(this);this.a.get("open_for_booking")||new de({el:(0,window.$)(".pb-workspace-booking.unavailable .social-links"),trackContext:"workspace-promo-card"});var a=this.getUI("eventsSection").find(".no-events");a.length&&new de({el:a.find(".social-links"),trackContext:"workspace-no-events"})};
qe.prototype.events=function(){var a=this;return{"click @ui.viewPhotosButton":function(){yc(a.c.a,void 0);_pb.x("open-gallery-button-click")},"click @ui.showOnMapButton":this.g,"click @ui.tourRequestButton":function(){Pd.show();_pb.x("request-tour-button-click")},"click @ui.newsletterButton":function(){Rd.show()},"click @ui.stickyBookNowButton":function(){Oc(a,0)}}};qe.prototype.g=function(){var a=this.getUI("mapSection").offset();(0,window.$)("html, body").animate({scrollTop:a.top},200);Dc(this.s)};
_pb.y("workspace",function(){new qe});var re=window.Mn.View.extend({el:(0,window.$)(".pb-companies"),ui:{requestWorkspaceSection:".request-workspace",requestWorkspaceForm:".request-workspace-form",requestWorkspaceFormSent:".form-sent-msg",textFields:".mdc-text-field",selectFields:".mdc-select",getInTouchButton:".get-in-touch-button",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field"}});re.prototype.events=function(){var a=this;return{"click @ui.getInTouchButton":function(b){b.preventDefault();Rc(a);_pb.x("get-in-touch-button-click")}}};
re.prototype.initialize=function(){this.g=this.getUI("textFields").map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get();this.f=this.getUI("selectFields").map(function(a,b){return new window.mdc.select.MDCSelect(b)}).get();this.b=_pb.P.one(this.getUI("agreementCheckbox")[0],{content:_pb.q("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.c=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=
this.c;this.a=new _pb.F({el:this.getUI("requestWorkspaceForm")});Tc(this)};_pb.y("companies",function(){new re});var se=window.Mn.View.extend({el:(0,window.$)(".pb-birthday2019"),ui:{requestWorkspaceSection:".request-workspace",requestWorkspaceForm:".request-workspace-form",requestWorkspaceFormSent:".form-sent-msg",textFields:".mdc-text-field",selectFields:".mdc-select",getInTouchButton:".get-in-touch-button",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field",visioElements:".birthday-visio"}});
se.prototype.initialize=function(){this.getUI("visioElements").addClass("activated");_pb.x("birthday2019-form-opened");this.g=this.getUI("textFields").map(function(a,b){return new window.mdc.textfield.MDCTextField(b)}).get();this.f=this.getUI("selectFields").map(function(a,b){return new window.mdc.select.MDCSelect(b)}).get();this.b=_pb.P.one(this.getUI("agreementCheckbox")[0],{content:_pb.q("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.c=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);
(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.c;this.a=new _pb.F({el:this.getUI("requestWorkspaceForm")});Wc(this)};_pb.y("birthday2019",function(){new se});var Zc=window.Mn.View.extend({el:(0,window.$)(".pb-events"),ui:{typeFilter:".events-type-filter",locationFilter:".events-location-filter",typeFilterInput:".events-type-filter input",locationFilterInput:".events-location-filter input",typeFilterItems:".events-type-filter .mdc-list-item",locationFilterItems:".events-location-filter .mdc-list-item",eventsItems:".event-card",noEventsBlock:".no-events"}});Zc.a=-1;
Zc.prototype.events=function(){return{"click @ui.typeFilterInput":function(){_pb.x("events-time-filter-menu-opened")},"click @ui.locationFilterInput":function(){_pb.x("events-location-filter-menu-opened")},"click @ui.typeFilterItems":function(a){a=(0,window.$)(a.currentTarget).data("value");_pb.x("events-time-filter-menu-item-click",{value:a})},"click @ui.locationFilterItems":function(a){a=(0,window.$)(a.currentTarget).text();_pb.x("events-location-filter-menu-item-click",{value:Ga(a)})}}};
Zc.prototype.initialize=function(){this.b=new Xd({el:this.getUI("typeFilter")});this.a=new Xd({el:this.getUI("locationFilter")});Xc(this);Yc(this)};_pb.y("events",function(){new Zc});var te=window.Mn.View.extend({el:(0,window.$)(".legal"),ui:{navigation:".pb-content-legal-nav",navwrap:".nav-wrapper",links:".anchor"}});te.prototype.initialize=function(){ad(this);$c(this)};te.prototype.events=function(){var a=this;return{"click @ui.links":function(b){a.getUI("links").removeClass("active");(0,window.$)(b.target).addClass("active")}}};
_pb.y("legal_terms legal_privacy legal_cookies legal_birthday legal_rules_amsterdam legal_rules_berlin legal_rules_london legal_rules_newyork legal_archive".split(" "),function(){new te});var ue=bd("10:00","20:00"),ve=window.Mn.View.extend({el:(0,window.$)(".pb-request-event-space"),ui:{form:".form",sentMsg:".sent-msg",textFields:".mdc-text-field:not(.pb-date-picker)",selectFields:".mdc-select",dateInput:".date-input",timeInput:".time-input",agreementCheckbox:".agreement-checkbox",agreementFormField:".agreement-form-field"}});
ve.prototype.initialize=function(){var a=this;cd(this.getUI("timeInput")[0],"10:00","19:30");cd(this.getUI("timeInput")[1],"10:30","20:00");this.getUI("timeInput")[1].value="20:00";this.h=this.getUI("textFields").map(function(a,c){return new window.mdc.textfield.MDCTextField(c)}).get();this.b=_pb.P.one(this.getUI("agreementCheckbox")[0],{content:_pb.q("agree_with_terms_checkbox_error_tooltip_text"),arrow:!0,trigger:"manual",theme:"error"});this.c=new window.mdc.checkbox.MDCCheckbox(this.getUI("agreementCheckbox")[0]);
(new window.mdc.formField.MDCFormField(this.getUI("agreementFormField")[0])).input=this.c;this.g=this.getUI("selectFields").map(function(a,c){return new window.mdc.select.MDCSelect(c)}).get();this.f=new _pb.G({el:this.getUI("dateInput"),J:{singleDate:!0,startDate:_pb.l().format("YYYY-MM-DD"),endDate:_pb.l().add(3,"months").format("YYYY-MM-DD")}});this.a=new _pb.F({el:this.getUI("form"),v:function(){return Object.assign({},a.getUI("form").serializeJSON(),{event_date:a.f.u()[0],time_from:a.getUI("timeInput")[0].value,
time_until:a.getUI("timeInput")[1].value})}});fd(this)};ve.prototype.events=function(){var a=this;return{"change @ui.timeInput":function(b){var c=(0,window.$)(b.target);b=c.data("index");c=c.val();if(0==b){b=a.getUI("timeInput")[1];var d=b.value;c=ue[ue.indexOf(c)+1];cd(b,c,"20:00");c=ue.indexOf(c)>=ue.indexOf(d)?c:d;b.value=c}}}};_pb.y("request_event_space",function(){new ve});var we=window.Mn.View.extend({el:(0,window.$)(".pb-how-it-works"),ui:{accordion:".accordion",carousel:".pb-carousel",tourRequestButton:".tour-request-button",accordionItemHeader:".accordion__item-header"}});we.prototype.initialize=function(){this.getUI("accordion").accordion({active:!1,collapsible:!0,heightStyle:"content",animate:150});new Wd({el:this.getUI("carousel"),B:1})};
we.prototype.events=function(){return{"click @ui.tourRequestButton":function(){Pd.show();_pb.x("request-tour-button-click")},"click @ui.accordionItemHeader":function(){_pb.x("how-to-pay-accordion-item-click")}}};_pb.y("how_it_works",function(){new we});var xe=window.Mn.View.extend({el:(0,window.$)(".pb-request-tour"),ui:{dialog:".request-tour-dialog",sentMsg:".form-sent-msg"}});xe.prototype.initialize=function(){new xe.a({el:this.getUI("dialog"),Pa:this.getUI("sentMsg")})};xe.a=Od.extend();
xe.a.prototype.Na=function(){var a=this.$el.height(),b=this.options.Pa.show().height();this.$el.css("position","absolute").fadeOut(600);this.options.Pa.css({height:a,opacity:0}).animate({height:b,opacity:1},600);(0,window.$)("html, body").animate({scrollTop:0},300);_pb.x("request-tour-submit-success")};_pb.y("request_tour",function(){new xe});var gd=new function(){var a=this;Ac();vd.on("google_maps_ready",function(){a.a=new window.google.maps.places.AutocompleteService})};var ye=window.Mn.View.extend({el:(0,window.$)(".pb-next-location"),ui:{photos:".next-location-photos .slider",container:".container",nominationForm:".nomination-form",nominationCityInput:".nomination-form .city",nominationAutocomplete:".nomination-form .autocomplete",subscriptionForm:".subscription-form",subscriptionEmailInput:".subscription-form .email",subscriptionSkip:".subscription-form .skip",successMessage:".success-message",twitterShareLink:".success-message .social-link.twitter"}});
ye.prototype.initialize=function(){var a=this;(0,window.setInterval)(function(){return jd(a)},2E3);this.b=new _pb.F({el:this.getUI("nominationForm")});this.c=new _pb.F({el:this.getUI("subscriptionForm")});this.a=new window.mdc.menu.MDCMenu(this.getUI("nominationAutocomplete")[0]);this.a.setAnchorCorner(window.mdc.menu.Corner.TOP_LEFT);this.a.a=!0;window.localStorage.getItem("next_location_nominated")&&ld(this);id(this)};
ye.prototype.events=function(){return{"input @ui.nominationCityInput":this.g,"click @ui.subscriptionSkip":this.f}};
ye.prototype.g=function(){var a=this,b=this.getUI("nominationCityInput").val();b&&hd({input:b,types:["(cities)"]}).then(function(b){a.getUI("nominationAutocomplete").find(".mdc-list").remove();a.a.open=!!b;if(b){var c=(0,window.$)('\x3cul class\x3d"mdc-menu__items mdc-list" role\x3d"menu"\x3e');b.forEach(function(b){(0,window.$)('\n            \x3cli class\x3d"mdc-list-item" role\x3d"menuitem"\x3e\n              \x3cspan class\x3d"mdc-list-item__text"\x3e\n                '+b.description+"\n              \x3c/span\x3e\n            \x3c/li\x3e\n          ").click(function(){a.getUI("nominationCityInput").val(b.description);
a.a.open=!1}).appendTo(c)});a.getUI("nominationAutocomplete").append(c)}})};ye.prototype.f=function(){var a=this.getUI("nominationCityInput").val();this.getUI("container").removeClass("step-2").addClass("step-3");this.getUI("subscriptionForm").addClass("hidden");this.getUI("successMessage").removeClass("hidden");kd(this,a)};_pb.y("next_location",function(){new ye});var ze=window.Mn.View.extend();ze.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0])};ze.prototype.show=function(){this.a.show()};var Ae=window.Mn.View.extend();Ae.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.$el[0])};Ae.prototype.show=function(){this.a.show()};var Be=window.Mn.View.extend({el:(0,window.$)(".pb-next-location-voting"),ui:{form:".voting-form",tabbar:".voting-tab-bar",locationsTab:".voting-tab-bar .locations-tab",rulesTab:".voting-tab-bar .rules-tab",tabbarStickyAnchor:".voting-tab-bar-sticky-anchor",rulesSection:".voting-rules",locationsSection:".voting-cities-list",locationCard:".location-card",learnMoreButton:".learn-more-button",voteButton:".vote-button",authButton:".auth-button",votingRulesButton:".voting-rules-button",authButtonStickyAnchor:".auth-button-sticky-anchor",
voteButtonStickyAnchor:".vote-button-sticky-anchor",pressScrollContainer:".press-highlights-stripe .container"}});Be.a="0.0001";Be.prototype.events=function(){var a=this;return{"click @ui.locationCard":this.h,"click @ui.authButton":function(){return Tb()},"click @ui.voteButton":this.g,"click @ui.votingRulesButton":function(){a.getUI("rulesTab").trigger("click")},"click @ui.learnMoreButton":function(a){return a.stopPropagation()}}};
Be.prototype.initialize=function(){this.a=new _pb.F({el:this.getUI("form")});this.o=_pb.n("#user-vote-weight").user_vote_weight;this.c=new ze({el:(0,window.$)(".pb-dialogs .not-enough-vote-weight-dialog")});this.va=new Ae({el:(0,window.$)(".pb-dialogs .voting-success-dialog")});this.getUI("pressScrollContainer")[0]&&this.getUI("pressScrollContainer")[0].scrollTo(108,0);pd(this);md(this);nd(this)};Be.prototype.g=function(a){a.preventDefault();this.o>Be.a?_pb.Va(this.a):this.c.show()};
Be.prototype.h=function(a){a=(0,window.$)(a.currentTarget);var b=a.hasClass("selected");this.getUI("locationCard").removeClass("selected");b?(a.removeClass("selected"),a.find('input[type\x3d"radio"]').prop("checked",!1),(0,window.$)(this.getUI("voteButton")).prop("disabled",!0)):(a.addClass("selected"),a.find('input[type\x3d"radio"]').prop("checked",!0),(0,window.$)(this.getUI("voteButton")).prop("disabled",!1))};_pb.y("next_location_voting",function(){new Be});var Ce=window.Mn.View.extend({ui:{dialog:".mdc-dialog",primaryAction:".mdc-card__primary-action",closeDialogButton:".mdc-dialog .close-dialog-button"}});Ce.prototype.events=function(){var a=this;return{"click @ui.primaryAction":this.b,"click @ui.closeDialogButton":function(){a.a.close()}}};Ce.prototype.initialize=function(){this.a=new window.mdc.dialog.MDCDialog(this.getUI("dialog")[0])};Ce.prototype.b=function(){this.a.show()};var De=window.Mn.View.extend({ui:{categoryChipSet:".mdc-chip-set",categoryChips:".mdc-chip",discountCards:".discount-card",showAllButton:".show-all-button"}});De.prototype.events=function(){return{"click @ui.categoryChips":this.f,"click @ui.showAllButton":this.c}};De.prototype.initialize=function(){new window.mdc.chips.MDCChipSet(this.getUI("categoryChipSet")[0]);this.b=!1;this.getUI("discountCards").each(function(a,b){(0,window.$)(b).hasClass("disable-card-states")||new Ce({el:b})});this.a=[]};
De.prototype.f=function(){var a=this;this.a=[];this.getUI("categoryChips").each(function(b,c){if((0,window.$)(c).hasClass("mdc-chip--selected")){var d=(0,window.$)(c).data("category-slug");d&&a.a.push(d)}});qd(this)};De.prototype.c=function(){this.b=!0;this.getUI("discountCards").removeClass("pb-hidden");this.getUI("showAllButton").addClass("pb-hidden")};z(".pb-discounts-block",function(a){return new De({el:a})});var Ee=window.Mn.View.extend({el:".pb-discounts",ui:{categoryChipSet:".mdc-chip-set",categoryChips:".mdc-chip",locationSelect:".mdc-select",discountCards:".discount-cards .discount-card"}});Ee.prototype.events=function(){return{"click @ui.categoryChips":this.c}};
Ee.prototype.initialize=function(){var a=this;this.b=new window.mdc.select.MDCSelect(this.getUI("locationSelect")[0]);this.b.listen("change",function(){return rd(a)});new window.mdc.chips.MDCChipSet(this.getUI("categoryChipSet")[0]);this.a=[]};Ee.prototype.c=function(){var a=this;this.a=[];this.getUI("categoryChips").each(function(b,c){if((0,window.$)(c).hasClass("mdc-chip--selected")){var d=(0,window.$)(c).data("category-slug");a.a.push(d)}});rd(this)};_pb.y("discounts",function(){new Ee});}).call(window);
//# sourceMappingURL=/static/primalbase.desktop.build.map.js